<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
    <link rel="icon" sizes="16x16" type="image/png" href="_static/favicon-16x16.png">
    <link rel="icon" sizes="32x32" type="image/png" href="_static/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" type="image/png" href="_static/apple-touch-icon.png">
    <link rel="android-chrome" sizes="192x192" type="image/png" href="_static/android-chrome-192x192.png ">
    <link rel="android-chrome" sizes="512x512" type="image/png" href="_static/android-chrome-512x512.png ">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Superclasses &mdash; Robotics Toolbox for Python  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"presup": ["\\,{}^{\\scriptscriptstyle #1}\\!", 1], "SE": ["\\mathbf{SE}(#1)", 1], "SO": ["\\mathbf{SO}(#1)", 1], "se": ["\\mathbf{se}(#1)", 1], "so": ["\\mathbf{so}(#1)", 1], "vec": ["\\boldsymbol{#1}", 1], "dvec": ["\\dot{\\boldsymbol{#1}}", 1], "ddvec": ["\\ddot{\\boldsymbol{#1}}", 1], "fvec": ["\\presup{#1}\\boldsymbol{#2}", 2], "fdvec": ["\\presup{#1}\\dot{\\boldsymbol{#2}}", 2], "fddvec": ["\\presup{#1}\\ddot{\\boldsymbol{#2}}", 2], "norm": ["\\Vert #1 \\Vert", 1], "mat": ["\\mathbf{#1}", 1], "dmat": ["\\dot{\\mathbf{#1}}", 1], "fmat": ["\\presup{#1}\\mathbf{#2}", 2], "sk": ["\\left[#1\\right]", 1], "skx": ["\\left[#1\\right]_{\\times}", 1], "vex": ["\\vee\\left( #1\\right)", 1], "vexx": ["\\vee_{\\times}\\left( #1\\right)", 1], "q": "\\mathring{q}", "fq": ["\\presup{#1}\\mathring{q}", 1]}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Trajectories" href="arm_trajectory.html" />
    <link rel="prev" title="ERobot models" href="arm_erobot.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Robotics Toolbox for Python
              <img src="_static/RobToolBox_RoundLogoB.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="arm.html">Robot Arms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="arm_models.html">Manipulator models</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="arm_dh.html">Denavit-Hartenberg models</a></li>
<li class="toctree-l3"><a class="reference internal" href="arm_ets.html">Elementary transform sequence (ETS) models</a></li>
<li class="toctree-l3"><a class="reference internal" href="arm_erobot.html">ERobot models</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Superclasses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#robot">Robot</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot"><code class="docutils literal notranslate"><span class="pre">Robot</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2"><code class="docutils literal notranslate"><span class="pre">Robot2</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#kinematic-cache">Kinematic cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link">Link</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink"><code class="docutils literal notranslate"><span class="pre">BaseLink</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#roboticstoolbox.robot.Link.Link"><code class="docutils literal notranslate"><span class="pre">Link</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#roboticstoolbox.robot.Link.Link2"><code class="docutils literal notranslate"><span class="pre">Link2</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arm_trajectory.html">Trajectories</a></li>
<li class="toctree-l2"><a class="reference internal" href="IK/ik.html">Inverse Kinematics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mobile.html">Mobile robots</a></li>
<li class="toctree-l1"><a class="reference internal" href="blocks.html">bdsim blocks</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Robotics Toolbox for Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="arm.html">Robot Arms</a></li>
          <li class="breadcrumb-item"><a href="arm_models.html">Manipulator models</a></li>
      <li class="breadcrumb-item active">Superclasses</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="superclasses">
<h1>Superclasses<a class="headerlink" href="#superclasses" title="Permalink to this heading"></a></h1>
<section id="robot">
<h2>Robot<a class="headerlink" href="#robot" title="Permalink to this heading"></a></h2>
<div class="graphviz"><img src="_images/inheritance-0f37863cdddb25f372445cc1524d8269dc12eaf9.png" alt="Inheritance diagram of roboticstoolbox.ERobot" usemap="#inheritanced41b53372b" class="inheritance graphviz" /></div>
<map id="inheritanced41b53372b" name="inheritanced41b53372b">
<area shape="rect" id="node7" href="#roboticstoolbox.robot.Robot.Robot" target="_top" title="Robot.Robot" alt="" coords="520,50,613,73"/>
<area shape="rect" id="node6" href="arm_erobot.html#roboticstoolbox.robot.ERobot.ERobot" target="_top" title="ERobot.ERobot" alt="" coords="656,50,763,73"/>
</map><p>The various models <a class="reference internal" href="arm_erobot.html#e-models"><span class="std std-ref">ERobot models</span></a> all subclass this class.</p>
<span class="target" id="module-roboticstoolbox.robot.Robot"></span><p>&#64;author: Jesse Haviland
&#64;author: Peter Corke</p>
<dl class="py class">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">roboticstoolbox.robot.Robot.</span></span><span class="sig-name descname"><span class="pre">Robot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gripper_links</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manufacturer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">-9.81]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbolic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_jindex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urdf_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urdf_filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRobot</span></code>[<a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>], <code class="xref py py-class docutils literal notranslate"><span class="pre">RobotKinematicsMixin</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.URDF_read">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">URDF_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tld</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xacro_tld</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.URDF_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.URDF_read" title="Permalink to this definition"></a></dt>
<dd><p>Read a URDF file as Links</p>
<p>File should be specified relative to <code class="docutils literal notranslate"><span class="pre">RTBDATA/URDF/xacro</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – File path relative to the xacro folder</p></li>
<li><p><strong>tld</strong> – A custom top-level directory which holds the xacro data,
defaults to None</p></li>
<li><p><strong>xacro_tld</strong> – A custom top-level within the xacro data,
defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePosixPath" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PurePosixPath</span></code></a>]]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>links</em> – a list of links</p></li>
<li><p><em>name</em> – the name of the robot</p></li>
<li><p><em>urdf</em> – a string representing the URDF</p></li>
<li><p><em>file_path</em> – a path to the original file</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If <code class="docutils literal notranslate"><span class="pre">tld</span></code> is not supplied, filepath pointing to xacro data should
be directly under <code class="docutils literal notranslate"><span class="pre">RTBDATA/URDF/xacro</span></code> OR under <code class="docutils literal notranslate"><span class="pre">./xacro</span></code> relative
to the model file calling this method. If <code class="docutils literal notranslate"><span class="pre">tld</span></code> is supplied, then
<code class="docutils literal notranslate"><span class="pre">`file_path`</span></code> needs to be relative to <code class="docutils literal notranslate"><span class="pre">tld</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.URDF">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">URDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gripper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.URDF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.URDF" title="Permalink to this definition"></a></dt>
<dd><p>Construct a Robot object from URDF file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – the path to the URDF</p></li>
<li><p><strong>gripper</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – index or name of the gripper link(s)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">gripper</span></code> is specified, links from that link outward are removed</p></li>
<li><p>from the rigid-body tree and folded into a <code class="docutils literal notranslate"><span class="pre">Gripper</span></code> object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.reach">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reach</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.reach" title="Permalink to this definition"></a></dt>
<dd><p>Reach of the robot</p>
<p>A conservative estimate of the reach of the robot. It is computed as
the sum of the translational ETs that define the link transform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Computed on the first access. If kinematic parameters
subsequently change this will not be reflected.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Maximum reach of the robot</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>reach</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Probably an overestimate of reach</p></li>
<li><p>Used by numerical inverse kinematics to scale translational
error.</p></li>
<li><p>For a prismatic joint, uses <code class="docutils literal notranslate"><span class="pre">qlim</span></code> if it is set</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.fkine_all">
<span class="sig-name descname"><span class="pre">fkine_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.fkine_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.fkine_all" title="Permalink to this definition"></a></dt>
<dd><p>Compute the pose of every link frame</p>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">robot.fkine_all(q)</span></code> is  an SE3 instance with <code class="docutils literal notranslate"><span class="pre">robot.nlinks</span> <span class="pre">+</span>
<span class="pre">1</span></code> values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T[0]</span></code> is the base transform</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T[i]</span></code> is the pose of link whose <code class="docutils literal notranslate"><span class="pre">number</span></code> is <code class="docutils literal notranslate"><span class="pre">i</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – The joint configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pose of all links</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>fkine_all</p>
</dd>
</dl>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.manipulability">
<span class="sig-name descname"><span class="pre">manipulability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yoshikawa'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.manipulability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.manipulability" title="Permalink to this definition"></a></dt>
<dd><p>Manipulability measure</p>
<p><code class="docutils literal notranslate"><span class="pre">manipulability(q)</span></code> is the scalar manipulability index
for the robot at the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code>.  It indicates
dexterity, that is, how well conditioned the robot is for motion
with respect to the 6 degrees of Cartesian motion.  The values is
zero if the robot is at a singularity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates, one of J or q required</p></li>
<li><p><strong>J</strong> – Jacobian in base frame if already computed, one of J or
q required</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'yoshikawa'</span></code>, <code class="docutils literal notranslate"><span class="pre">'asada'</span></code>, <code class="docutils literal notranslate"><span class="pre">'minsingular'</span></code>, <code class="docutils literal notranslate"><span class="pre">'invcondition'</span></code>]) – method to use, “yoshikawa” (default), “invcondition”,
“minsingular”  or “asada”</p></li>
<li><p><strong>axes</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'all'</span></code>, <code class="docutils literal notranslate"><span class="pre">'trans'</span></code>, <code class="docutils literal notranslate"><span class="pre">'rot'</span></code>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>]]) – Task space axes to consider: “all” [default],
“trans”, or “rot”</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>manipulability</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Various measures are supported:</p>
<div class="line-block">
<div class="line">Measure           |       Description                               |</div>
</div>
<p><a href="#id105"><span class="problematic" id="id106">|-------------------|</span></a>————————————————-|
| <code class="docutils literal notranslate"><span class="pre">&quot;yoshikawa&quot;</span></code>   | Volume of the velocity ellipsoid, <em>distance</em>    |
|                   | from singularity <a class="reference internal" href="#yoshikawa85" id="id1"><span>[Yoshikawa85]</span></a>                 |
| <code class="docutils literal notranslate"><span class="pre">&quot;invcondition&quot;``|</span> <span class="pre">Inverse</span> <span class="pre">condition</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">Jacobian,</span> <span class="pre">isotropy</span>&#160; <span class="pre">|</span>
<span class="pre">|</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">|</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">velocity</span> <span class="pre">ellipsoid</span> <span class="pre">[Klein87]_</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">|</span>
<span class="pre">|</span> <span class="pre">``&quot;minsingular&quot;</span></code> | Minimum singular value of the Jacobian,         |
|                   | <em>distance</em>  from singularity <a class="reference internal" href="#klein87" id="id2"><span>[Klein87]</span></a>         |
| <code class="docutils literal notranslate"><span class="pre">&quot;asada&quot;</span></code>       | Isotropy of the task-space acceleration         |
|                   | ellipsoid which is a function of the Cartesian  |
|                   | inertia matrix which depends on the inertial    |
|                   | parameters <a class="reference internal" href="#asada83" id="id3"><span>[Asada83]</span></a>                           |</p>
<p><strong>Trajectory operation</strong>:</p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix (m,n) then the result (m,) is a vector of
manipulability indices for each joint configuration specified by a row
of <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Invokes the <code class="docutils literal notranslate"><span class="pre">jacob0</span></code> method of the robot if <code class="docutils literal notranslate"><span class="pre">J</span></code> is not passed</p></li>
<li><dl class="simple">
<dt>The “all” option includes rotational and translational</dt><dd><p>dexterity, but this involves adding different units. It can be
more useful to look at the translational and rotational
manipulability separately.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Examples in the RVC book (1st edition) can be replicated by</dt><dd><p>using the “all” option</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Asada’s measure requires inertial a robot model with inertial</dt><dd><p>parameters.</p>
</dd>
</dl>
</li>
</ul>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="yoshikawa85" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">Yoshikawa85</a><span class="fn-bracket">]</span></span>
<p>Manipulability of Robotic Mechanisms. Yoshikawa T.,
The International Journal of Robotics Research.
1985;4(2):3-9. doi:10.1177/027836498500400201</p>
</div>
<div class="citation" id="asada83" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">Asada83</a><span class="fn-bracket">]</span></span>
<p>A geometrical representation of manipulator dynamics and
its application to arm design, H. Asada,
Journal of Dynamic Systems, Measurement, and Control,
vol. 105, p. 131, 1983.</p>
</div>
<div class="citation" id="klein87" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Klein87</a><span class="fn-bracket">]</span></span>
<p>Dexterity Measures for the Design and Control of
Kinematically Redundant Manipulators. Klein CA, Blaho BE.
The International Journal of Robotics Research.
1987;6(2):72-83. doi:10.1177/027836498700600206</p>
</div>
</div>
<ul class="simple">
<li><p>Robotics, Vision &amp; Control, Chap 8, P. Corke, Springer 2011.</p></li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.3: </span>Removed ‘both’ option for axes, added a custom list option.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jtraj">
<span class="sig-name descname"><span class="pre">jtraj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.jtraj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jtraj" title="Permalink to this definition"></a></dt>
<dd><p>Joint-space trajectory between SE(3) poses</p>
<p>The initial and final poses are mapped to joint space using inverse
kinematics:</p>
<ul class="simple">
<li><p>if the object has an analytic solution <code class="docutils literal notranslate"><span class="pre">ikine_a</span></code> that will be used,</p></li>
<li><p>otherwise the general numerical algorithm <code class="docutils literal notranslate"><span class="pre">ikine_lm</span></code> will be used.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">traj</span> <span class="pre">=</span> <span class="pre">obot.jtraj(T1,</span> <span class="pre">T2,</span> <span class="pre">t)</span></code> is a trajectory object whose
attribute <code class="docutils literal notranslate"><span class="pre">traj.q</span></code> is a row-wise joint-space trajectory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T1</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – initial end-effector pose</p></li>
<li><p><strong>T2</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – final end-effector pose</p></li>
<li><p><strong>t</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – time vector or number of steps</p></li>
<li><p><strong>kwargs</strong> – arguments passed to the IK solver</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>trajectory</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jacob0_dot">
<span class="sig-name descname"><span class="pre">jacob0_dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.jacob0_dot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jacob0_dot" title="Permalink to this definition"></a></dt>
<dd><p>Derivative of Jacobian</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.jacob_dot(q,</span> <span class="pre">qd)</span></code> computes the rate of change of the
Jacobian elements</p>
<div class="math notranslate nohighlight">
\[\dmat{J} = \frac{d \mat{J}}{d \vec{q}} \frac{d \vec{q}}{dt}\]</div>
<p>where the first term is the rank-3 Hessian.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – </p></li>
<li><p><strong>robot</strong> (<em>The joint configuration</em><em> of </em><em>the</em>) – </p></li>
<li><p><strong>qd</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – The joint velocity of the robot</p></li>
<li><p><strong>J0</strong> – Jacobian in {0} frame</p></li>
<li><p><strong>representation</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code>, <code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code>, <code class="docutils literal notranslate"><span class="pre">'eul'</span></code>, <code class="docutils literal notranslate"><span class="pre">'exp'</span></code>]]) – angular representation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The derivative of the manipulator Jacobian</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>jdot</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>If <code class="docutils literal notranslate"><span class="pre">J0</span></code> is already calculated for the joint
coordinates <code class="docutils literal notranslate"><span class="pre">q</span></code> it can be passed in to to save computation time.</p>
<p>It is computed as the mode-3 product of the Hessian tensor and the
velocity vector.</p>
<p>The derivative of an analytical Jacobian can be obtained by setting
<code class="docutils literal notranslate"><span class="pre">representation</span></code> as</p>
<p><a href="#id107"><span class="problematic" id="id108">|``representation``   |       Rotational representation     |
|---------------------|</span></a>————————————-|
<a href="#id4"><span class="problematic" id="id5">|</span></a><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code>        |   RPY angular rates in XYZ order    |
<a href="#id6"><span class="problematic" id="id7">|</span></a><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code>        |   RPY angular rates in XYZ order    |
<a href="#id8"><span class="problematic" id="id9">|</span></a><code class="docutils literal notranslate"><span class="pre">'eul'</span></code>            |   Euler angular rates in ZYZ order  |
<a href="#id10"><span class="problematic" id="id11">|</span></a><code class="docutils literal notranslate"><span class="pre">'exp'</span></code>            |   exponential coordinate rates      |</p>
<p class="rubric">References</p>
<ul class="simple">
<li><dl class="simple">
<dt>Kinematic Derivatives using the Elementary Transform</dt><dd><p>Sequence, J. Haviland and P. Corke</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.jacob0" title="roboticstoolbox.robot.Robot.Robot.jacob0"><code class="xref py py-func docutils literal notranslate"><span class="pre">jacob0()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.hessian0" title="roboticstoolbox.robot.Robot.Robot.hessian0"><code class="xref py py-func docutils literal notranslate"><span class="pre">hessian0()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jacobm">
<span class="sig-name descname"><span class="pre">jacobm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.jacobm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jacobm" title="Permalink to this definition"></a></dt>
<dd><p>The manipulability Jacobian</p>
<p>This measure relates the rate of change of the manipulability to the
joint velocities of the robot. One of J or q is required. Supply J
and H if already calculated to save computation time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – The joint angles/configuration of the robot (Optional,
if not supplied will use the stored q values).</p></li>
<li><p><strong>J</strong> – The manipulator Jacobian in any frame</p></li>
<li><p><strong>H</strong> – The manipulator Hessian in any frame</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the final link or Gripper which the Hessian represents</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the first link which the Hessian represents</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The manipulability Jacobian</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>jacobm</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Yoshikawa’s manipulability measure</p>
<div class="math notranslate nohighlight">
\[m(\vec{q}) = \sqrt{\mat{J}(\vec{q}) \mat{J}(\vec{q})^T}\]</div>
<p>This method returns its Jacobian with respect to configuration</p>
<div class="math notranslate nohighlight">
\[\frac{\partial m(\vec{q})}{\partial \vec{q}}\]</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.closest_point">
<span class="sig-name descname"><span class="pre">closest_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inf_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.closest_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.closest_point" title="Permalink to this definition"></a></dt>
<dd><p>Find the closest point between robot and shape</p>
<p><code class="docutils literal notranslate"><span class="pre">closest_point(shape,</span> <span class="pre">inf_dist)</span></code> returns the minimum euclidean
distance between this robot and shape, provided it is less than
inf_dist. It will also return the points on self and shape in the
world frame which connect the line of length distance between the
shapes. If the distance is negative then the shapes are collided.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.shape" title="Permalink to this definition"></a></dt>
<dd><p>The shape to compare distance to</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.inf_dist">
<span class="sig-name descname"><span class="pre">inf_dist</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.inf_dist" title="Permalink to this definition"></a></dt>
<dd><p>The minimum distance within which to consider
the shape</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip setting all shape transforms based on q, use this
option if using this method in conjuction with Swift to save time</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>d</em> – distance between the robot and shape</p></li>
<li><p><em>p1</em> – [x, y, z] point on the robot (in the world frame)</p></li>
<li><p><em>p2</em> – [x, y, z] point on the shape (in the world frame)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.iscollided">
<span class="sig-name descname"><span class="pre">iscollided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.iscollided"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.iscollided" title="Permalink to this definition"></a></dt>
<dd><p>Check if the robot is in collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this robot and shape have collided</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>The shape to compare distance to</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">skip</span></span><a class="headerlink" href="#id12" title="Permalink to this definition"></a></dt>
<dd><p>Skip setting all shape transforms based on q, use this
option if using this method in conjuction with Swift to save time</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if shapes have collided</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.collided">
<span class="sig-name descname"><span class="pre">collided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.collided"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.collided" title="Permalink to this definition"></a></dt>
<dd><p>Check if the robot is in collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">collided(shape)</span></code> checks if this robot and shape have collided</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#id13" title="Permalink to this definition"></a></dt>
<dd><p>The shape to compare distance to</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">skip</span></span><a class="headerlink" href="#id14" title="Permalink to this definition"></a></dt>
<dd><p>Skip setting all shape transforms based on q, use this
option if using this method in conjuction with Swift to save time</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if shapes have collided</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>collided</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.joint_velocity_damper">
<span class="sig-name descname"><span class="pre">joint_velocity_damper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.joint_velocity_damper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.joint_velocity_damper" title="Permalink to this definition"></a></dt>
<dd><p>Compute the joint velocity damper for QP motion control</p>
<p>Formulates an inequality contraint which, when optimised for will
make it impossible for the robot to run into joint limits. Requires
the joint limits of the robot to be specified. See examples/mmc.py
for use case</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ps">
<span class="sig-name descname"><span class="pre">ps</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ps" title="Permalink to this definition"></a></dt>
<dd><p>The minimum angle (in radians) in which the joint is
allowed to approach to its limit</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.pi">
<span class="sig-name descname"><span class="pre">pi</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.pi" title="Permalink to this definition"></a></dt>
<dd><p>The influence angle (in radians) in which the velocity
damper becomes active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.n">
<span class="sig-name descname"><span class="pre">n</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.n" title="Permalink to this definition"></a></dt>
<dd><p>The number of joints to consider. Defaults to all joints</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.gain">
<span class="sig-name descname"><span class="pre">gain</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.gain" title="Permalink to this definition"></a></dt>
<dd><p>The gain for the velocity damper</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>Ain</em> – A (6,) vector inequality contraint for an optisator</p></li>
<li><p><em>Bin</em> – b (6,) vector inequality contraint for an optisator</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.link_collision_damper">
<span class="sig-name descname"><span class="pre">link_collision_damper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">di</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.link_collision_damper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.link_collision_damper" title="Permalink to this definition"></a></dt>
<dd><p>Compute a collision constrain for QP motion control</p>
<p>Formulates an inequality contraint which, when optimised for will
make it impossible for the robot to run into a collision. Requires
See examples/neo.py for use case</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ds">
<span class="sig-name descname"><span class="pre">ds</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ds" title="Permalink to this definition"></a></dt>
<dd><p>The minimum distance in which a joint is allowed to
approach the collision object shape</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.di">
<span class="sig-name descname"><span class="pre">di</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.di" title="Permalink to this definition"></a></dt>
<dd><p>The influence distance in which the velocity
damper becomes active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.xi">
<span class="sig-name descname"><span class="pre">xi</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.xi" title="Permalink to this definition"></a></dt>
<dd><p>The gain for the velocity damper</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.end">
<span class="sig-name descname"><span class="pre">end</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.end" title="Permalink to this definition"></a></dt>
<dd><p>The end link of the robot to consider</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.start" title="Permalink to this definition"></a></dt>
<dd><p>The start link of the robot to consider</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.collision_list">
<span class="sig-name descname"><span class="pre">collision_list</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.collision_list" title="Permalink to this definition"></a></dt>
<dd><p>A list of shapes to consider for collision</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Ain</em> – A (6,) vector inequality contraint for an optisator</p></li>
<li><p><em>Bin</em> – b (6,) vector inequality contraint for an optisator</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.vision_collision_damper">
<span class="sig-name descname"><span class="pre">vision_collision_damper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">di</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.vision_collision_damper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.vision_collision_damper" title="Permalink to this definition"></a></dt>
<dd><p>Compute a vision collision constrain for QP motion control</p>
<p>Formulates an inequality contraint which, when optimised for will
make it impossible for the robot to run into a line of sight.
See examples/fetch_vision.py for use case</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.camera">
<span class="sig-name descname"><span class="pre">camera</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.camera" title="Permalink to this definition"></a></dt>
<dd><p>The camera link, either as a robotic link or SE3
pose</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.camera_n">
<span class="sig-name descname"><span class="pre">camera_n</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.camera_n" title="Permalink to this definition"></a></dt>
<dd><p>Degrees of freedom of the camera link</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">ds</span></span><a class="headerlink" href="#id15" title="Permalink to this definition"></a></dt>
<dd><p>The minimum distance in which a joint is allowed to
approach the collision object shape</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">di</span></span><a class="headerlink" href="#id16" title="Permalink to this definition"></a></dt>
<dd><p>The influence distance in which the velocity
damper becomes active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">xi</span></span><a class="headerlink" href="#id17" title="Permalink to this definition"></a></dt>
<dd><p>The gain for the velocity damper</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">end</span></span><a class="headerlink" href="#id18" title="Permalink to this definition"></a></dt>
<dd><p>The end link of the robot to consider</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#id19" title="Permalink to this definition"></a></dt>
<dd><p>The start link of the robot to consider</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">collision_list</span></span><a class="headerlink" href="#id20" title="Permalink to this definition"></a></dt>
<dd><p>A list of shapes to consider for collision</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Ain</em> – A (6,) vector inequality contraint for an optisator</p></li>
<li><p><em>Bin</em> – b (6,) vector inequality contraint for an optisator</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.rne">
<span class="sig-name descname"><span class="pre">rne</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qdd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbolic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot.rne"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.rne" title="Permalink to this definition"></a></dt>
<dd><p>Compute inverse dynamics via recursive Newton-Euler formulation</p>
<p><code class="docutils literal notranslate"><span class="pre">rne_dh(q,</span> <span class="pre">qd,</span> <span class="pre">qdd)</span></code> where the arguments have shape (n,) where n is
the number of robot joints.  The result has shape (n,).</p>
<p><code class="docutils literal notranslate"><span class="pre">rne_dh(q,</span> <span class="pre">qd,</span> <span class="pre">qdd)</span></code> where the arguments have shape (m,n) where n
is the number of robot joints and where m is the number of steps in
the joint trajectory.  The result has shape (m,n).</p>
<p><code class="docutils literal notranslate"><span class="pre">rne_dh(p)</span></code> where the input is a 1D array <code class="docutils literal notranslate"><span class="pre">p</span></code> = [q, qd, qdd] with
shape (3n,), and the result has shape (n,).</p>
<p><code class="docutils literal notranslate"><span class="pre">rne_dh(p)</span></code> where the input is a 2D array <code class="docutils literal notranslate"><span class="pre">p</span></code> = [q, qd, qdd] with
shape (m,3n) and the result has shape (m,n).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint coordinates</p></li>
<li><p><strong>qd</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint velocity</p></li>
<li><p><strong>qdd</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint acceleration</p></li>
<li><p><strong>symbolic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If True, supports symbolic expressions</p></li>
<li><p><strong>gravity</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Gravitational acceleration, defaults to attribute
of self</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Joint force/torques</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tau</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This version supports symbolic model parameters</p></li>
<li><p>Verified against MATLAB code</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>Get link</p>
<p>This also supports iterating over each link in the robot object,
from the base to the tool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – link number or name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>i’th link or named link</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>link</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># print the 2nd link</span>
<span class="go">RevoluteDH:   θ=q,  d=0,  a=0.4318,  ⍺=0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">([</span><span class="n">link</span><span class="o">.</span><span class="n">a</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">robot</span><span class="p">])</span>  <span class="c1"># print all the a_j values</span>
<span class="go">[0, 0.4318, 0.0203, 0, 0, 0]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Robot</span></code> supports link lookup by name,</dt><dd><p>eg. <code class="docutils literal notranslate"><span class="pre">robot['link1']</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.__str__" title="Permalink to this definition"></a></dt>
<dd><p>Pretty prints the ETS Model of the robot.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pretty print of the robot model</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Constant links are shown in blue.</p></li>
<li><p>End-effector links are prefixed with an &#64;</p></li>
<li><p>Angles in degrees</p></li>
<li><dl class="simple">
<dt>The robot base frame is denoted as <code class="docutils literal notranslate"><span class="pre">BASE</span></code> and is equal to the</dt><dd><p>robot’s <code class="docutils literal notranslate"><span class="pre">base</span></code> attribute.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.accel">
<span class="sig-name descname"><span class="pre">accel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torque</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.accel" title="Permalink to this definition"></a></dt>
<dd><p>Compute acceleration due to applied torque</p>
<p><code class="docutils literal notranslate"><span class="pre">qdd</span> <span class="pre">=</span> <span class="pre">accel(q,</span> <span class="pre">qd,</span> <span class="pre">torque)</span></code> calculates a vector (n) of joint
accelerations that result from applying the actuator force/torque (n)
to the manipulator in state <cite>q</cite> (n) and <cite>qd</cite> (n), and <code class="docutils literal notranslate"><span class="pre">n</span></code> is
the number of robot joints.</p>
<div class="math notranslate nohighlight">
\[\ddot{q} = \mathbf{M}^{-1} \left(\tau - \mathbf{C}(q)\dot{q} - \mathbf{g}(q)\right)\]</div>
<p><strong>Trajectory operation</strong></p>
<p>If <cite>q</cite>, <cite>qd</cite>, torque are matrices (m,n) then <code class="docutils literal notranslate"><span class="pre">qdd</span></code> is a matrix (m,n)
where each row is the acceleration corresponding to the equivalent rows
of q, qd, torque.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
<li><p><strong>torque</strong> – Joint torques of the robot</p></li>
<li><p><strong>gravity</strong> – Gravitational acceleration (Optional, if not supplied will
use the <code class="docutils literal notranslate"><span class="pre">gravity</span></code> attribute of self).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(n)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">accel</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">array([ -7.5544, -12.22  ,  -6.4022,  -5.4303,  -4.9518,  -2.1178])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Useful for simulation of manipulator dynamics, in</dt><dd><p>conjunction with a numerical integration function.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Uses the method 1 of Walker and Orin to compute the forward</dt><dd><p>dynamics.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Featherstone’s method is more efficient for robots with large</dt><dd><p>numbers of joints.</p>
</dd>
</dl>
</li>
<li><p>Joint friction is considered.</p></li>
</ul>
<p class="rubric">References</p>
<ul class="simple">
<li><dl class="simple">
<dt>Efficient dynamic computer simulation of robotic mechanisms,</dt><dd><p>M. W. Walker and D. E. Orin,
ASME Journa of Dynamic Systems, Measurement and Control, vol.
104, no. 3, pp. 205-211, 1982.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.accel_x">
<span class="sig-name descname"><span class="pre">accel_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrench</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.accel_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space acceleration due to applied wrench</p>
<p><code class="docutils literal notranslate"><span class="pre">xdd</span> <span class="pre">=</span> <span class="pre">accel_x(q,</span> <span class="pre">qd,</span> <span class="pre">wrench)</span></code> is the operational space acceleration
due to <code class="docutils literal notranslate"><span class="pre">wrench</span></code> applied to the end-effector of a robot in joint
configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and joint velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<div class="math notranslate nohighlight">
\[\ddot{x} = \mathbf{J}(q) \mathbf{M}(q)^{-1} \left(
    \mathbf{J}(q)^T w - \mathbf{C}(q)\dot{q} - \mathbf{g}(q)
    \right)\]</div>
<p><strong>Trajectory operation</strong></p>
<p>If <cite>q</cite>, <cite>qd</cite>, torque are matrices (m,n) then <code class="docutils literal notranslate"><span class="pre">qdd</span></code> is a matrix (m,n)
where each row is the acceleration corresponding to the equivalent rows
of q, qd, wrench.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
<li><p><strong>wrench</strong> – Wrench applied to the end-effector</p></li>
<li><p><strong>gravity</strong> – Gravitational acceleration (Optional, if not supplied will
use the <code class="docutils literal notranslate"><span class="pre">gravity</span></code> attribute of self).</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>xd</strong> – </p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Operational space accelerations of the end-effector</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>accel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Useful for simulation of manipulator dynamics, in</dt><dd><p>conjunction with a numerical integration function.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Uses the method 1 of Walker and Orin to compute the forward</dt><dd><p>dynamics.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Featherstone’s method is more efficient for robots with large</dt><dd><p>numbers of joints.</p>
</dd>
</dl>
</li>
<li><p>Joint friction is considered.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.accel" title="roboticstoolbox.robot.Robot.Robot.accel"><code class="xref py py-func docutils literal notranslate"><span class="pre">accel()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.addconfiguration">
<span class="sig-name descname"><span class="pre">addconfiguration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.addconfiguration" title="Permalink to this definition"></a></dt>
<dd><p>Add a named joint configuration</p>
<p>Add a named configuration to the robot instance’s dictionary of named
configurations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the joint configuration</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint configuration</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">addconfiguration_attr</span><span class="p">(</span><span class="s2">&quot;mypos&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">configs</span><span class="p">[</span><span class="s2">&quot;mypos&quot;</span><span class="p">]</span>
<span class="go">array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.addconfiguration" title="roboticstoolbox.robot.Robot.Robot.addconfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addconfiguration()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.addconfiguration_attr">
<span class="sig-name descname"><span class="pre">addconfiguration_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.addconfiguration_attr" title="Permalink to this definition"></a></dt>
<dd><p>Add a named joint configuration as an attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the joint configuration</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – Joint configuration</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">addconfiguration_attr</span><span class="p">(</span><span class="s2">&quot;mypos&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">mypos</span>
<span class="go">array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">configs</span><span class="p">[</span><span class="s2">&quot;mypos&quot;</span><span class="p">]</span>
<span class="go">array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Used in robot model init method to store the <code class="docutils literal notranslate"><span class="pre">qr</span></code> configuration</p></li>
<li><dl class="simple">
<dt>Dynamically adding attributes to objects can cause issues with</dt><dd><p>Python type checking.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Configuration is also added to the robot instance’s dictionary of</dt><dd><p>named configurations.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.addconfiguration" title="roboticstoolbox.robot.Robot.Robot.addconfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addconfiguration()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.attach">
<span class="sig-name descname"><span class="pre">attach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.attach" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.attach_to">
<span class="sig-name descname"><span class="pre">attach_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.attach_to" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.base">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><span class="pre">SE3</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.base" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot base transform</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.base</span></code> is the robot base transform</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.base</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot base transform</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>base</strong> – the new robot base transform</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current robot base transform</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>base</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.base_link">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_link</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">LinkType</span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.base_link" title="Permalink to this definition"></a></dt>
<dd><p>Get the robot base link</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.base_link</span></code> is the robot base link</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the first link in the robot tree</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>base_link</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.cinertia">
<span class="sig-name descname"><span class="pre">cinertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.cinertia" title="Permalink to this definition"></a></dt>
<dd><p>Deprecated, use <code class="docutils literal notranslate"><span class="pre">inertia_x</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.comment">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">comment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.comment" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot comment</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.comment</span></code> is the robot comment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.comment</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot comment</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – the new robot comment</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot comment</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>comment</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.configs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.configs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.configurations_str">
<span class="sig-name descname"><span class="pre">configurations_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thin'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.configurations_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.control_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">control_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.control_mode" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot control mode</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.control_type</span></code> is the robot control mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.control_type</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot control mode</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_mode</strong> – the new robot control mode</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current robot control mode</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>control_mode</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.coriolis">
<span class="sig-name descname"><span class="pre">coriolis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.coriolis" title="Permalink to this definition"></a></dt>
<dd><p>Coriolis and centripetal term</p>
<p><code class="docutils literal notranslate"><span class="pre">coriolis(q,</span> <span class="pre">qd)</span></code> calculates the Coriolis/centripetal matrix (n,n)
for the robot in configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code>
is the number of joints.</p>
<p>The product <span class="math notranslate nohighlight">\(\mathbf{C} \dot{q}\)</span> is the vector of joint
force/torque due to velocity coupling. The diagonal elements are due to
centripetal effects and the off-diagonal elements are due to Coriolis
effects. This matrix is also known as the velocity coupling matrix,
since it describes the disturbance forces on any joint due to
velocity of all other joints.</p>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> and <cite>qd</cite> are matrices (m,n), each row is interpretted as a
joint configuration, and the result (n,n,m) is a 3d-matrix where
each plane corresponds to a row of <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Velocity matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>coriolis</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">coriolis</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">6</span><span class="p">,)))</span>
<span class="go">array([[-0.4017, -0.5513, -0.2025, -0.0007, -0.0013,  0.    ],</span>
<span class="go">       [ 0.2023, -0.1937, -0.3868, -0.    , -0.002 ,  0.    ],</span>
<span class="go">       [ 0.1987,  0.193 , -0.    ,  0.    , -0.0001,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.0007,  0.0007,  0.0001,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Joint viscous friction is also a joint force proportional to</dt><dd><p>velocity but it is eliminated in the computation of this value.</p>
</dd>
</dl>
</li>
<li><p>Computationally slow, involves <span class="math notranslate nohighlight">\(n^2/2\)</span> invocations of RNE.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.coriolis_x">
<span class="sig-name descname"><span class="pre">coriolis_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ji</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Jd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.coriolis_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space Coriolis and centripetal term</p>
<p><code class="docutils literal notranslate"><span class="pre">coriolis_x(q,</span> <span class="pre">qd)</span></code> is the Coriolis/centripetal matrix (m,m)
in operational space for the robot in configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and velocity
<code class="docutils literal notranslate"><span class="pre">qd</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of joints.</p>
<div class="math notranslate nohighlight">
\[\mathbf{C}_x = \mathbf{J}(q)^{-T} \left(
    \mathbf{C}(q) - \mathbf{M}_x(q) \mathbf{J})(q)
    \right) \mathbf{J}(q)^{-1}\]</div>
<p>The product <span class="math notranslate nohighlight">\(\mathbf{C} \dot{x}\)</span> is the operational space wrench
due to joint velocity coupling. This matrix is also known as the
velocity coupling matrix, since it describes the disturbance forces on
any joint due to velocity of all other joints.</p>
<p>The transformation to operational space requires an analytical, rather
than geometric, Jacobian. <code class="docutils literal notranslate"><span class="pre">analytical</span></code> can be one of:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Rotational representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code></p></td>
<td><p>RPY angular rates in XYZ order (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code></p></td>
<td><p>RPY angular rates in XYZ order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'eul'</span></code></p></td>
<td><p>Euler angular rates in ZYZ order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'exp'</span></code></p></td>
<td><p>exponential coordinate rates</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> and <cite>qd</cite> are matrices (m,n), each row is interpretted as a
joint configuration, and the result (n,n,m) is a 3d-matrix where
each plane corresponds to a row of <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse (Default value = False)</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
<li><p><strong>J</strong> – </p></li>
<li><p><strong>Ji</strong> – </p></li>
<li><p><strong>Jd</strong> – </p></li>
<li><p><strong>C</strong> – </p></li>
<li><p><strong>Mx</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Operational space velocity matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(6,6) or ndarray(m,6,6)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Joint viscous friction is also a joint force proportional to</dt><dd><p>velocity but it is eliminated in the computation of this value.</p>
</dd>
</dl>
</li>
<li><p>Computationally slow, involves <span class="math notranslate nohighlight">\(n^2/2\)</span> invocations of RNE.</p></li>
<li><p>If the robot is not 6 DOF the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> option is set True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pinv()</span></code> is around 5x slower than <code class="docutils literal notranslate"><span class="pre">inv()</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assumes that the operational space has 6 DOF.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.coriolis" title="roboticstoolbox.robot.Robot.Robot.coriolis"><code class="xref py py-func docutils literal notranslate"><span class="pre">coriolis()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.inertia_x" title="roboticstoolbox.robot.Robot.Robot.inertia_x"><code class="xref py py-func docutils literal notranslate"><span class="pre">inertia_x()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.hessian0" title="roboticstoolbox.robot.Robot.Robot.hessian0"><code class="xref py py-func docutils literal notranslate"><span class="pre">hessian0()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.default_backend">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_backend</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.default_backend" title="Permalink to this definition"></a></dt>
<dd><p>Get default graphical backend</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">robot.default_backend</span></code> Get the default graphical backend, used when</dt><dd><p>no explicit backend is passed to <code class="docutils literal notranslate"><span class="pre">Robot.plot</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">robot.default_backend</span> <span class="pre">=</span> <span class="pre">...</span></code> Set the default graphical backend, used when</dt><dd><p>no explicit backend is passed to <code class="docutils literal notranslate"><span class="pre">Robot.plot</span></code>.  The default set here will
be overridden if the particular <code class="docutils literal notranslate"><span class="pre">Robot</span></code> subclass cannot support it.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>backend name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>default_backend</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.dfs_links">
<span class="sig-name descname"><span class="pre">dfs_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.dfs_links" title="Permalink to this definition"></a></dt>
<dd><p>A link search method</p>
<p>Visit all links from start in depth-first order and will apply
func to each visited link</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>)) – The link to start at</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>)], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]) – An optional function to apply to each link as it is found</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of links</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>links</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.dotfile">
<span class="sig-name descname"><span class="pre">dotfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etsbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.dotfile" title="Permalink to this definition"></a></dt>
<dd><p>Write a link transform graph as a GraphViz dot file</p>
<dl class="simple">
<dt>The file can be processed using dot:</dt><dd><p>% dot -Tpng -o out.png dotfile.dot</p>
</dd>
<dt>The nodes are:</dt><dd><ul class="simple">
<li><p>Base is shown as a grey square.  This is the world frame origin,
but can be changed using the <code class="docutils literal notranslate"><span class="pre">base</span></code> attribute of the robot.</p></li>
<li><p>Link frames are indicated by circles</p></li>
<li><p>ETS transforms are indicated by rounded boxes</p></li>
</ul>
</dd>
<dt>The edges are:</dt><dd><ul class="simple">
<li><p>an arrow if <cite>jtype</cite> is False or the joint is fixed</p></li>
<li><p>an arrow with a round head if <cite>jtype</cite> is True and the joint is
revolute</p></li>
<li><p>an arrow with a box head if <cite>jtype</cite> is True and the joint is
prismatic</p></li>
</ul>
</dd>
</dl>
<p>Edge labels or nodes in blue have a fixed transformation to the
preceding link.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">filename</span></code> is a file object then the file will <em>not</em></dt><dd><p>be closed after the GraphViz model is written.</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – Name of file to write to</p></li>
<li><p><strong>etsbox</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Put the link ETS in a box, otherwise an edge label</p></li>
<li><p><strong>ets</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'full'</span></code>, <code class="docutils literal notranslate"><span class="pre">'brief'</span></code>]) – Display the full ets with “full” or a brief version with “brief”</p></li>
<li><p><strong>jtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Arrowhead to node indicates revolute or prismatic type</p></li>
<li><p><strong>static</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Show static joints in blue and bold</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.showgraph" title="roboticstoolbox.robot.Robot.Robot.showgraph"><code class="xref py py-func docutils literal notranslate"><span class="pre">showgraph()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.dynamics">
<span class="sig-name descname"><span class="pre">dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Pretty print the dynamic parameters (Robot superclass)</p>
<p>The dynamic parameters (inertial and friction) are printed in a table,
with one row per link.</p>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.dynamics_list">
<span class="sig-name descname"><span class="pre">dynamics_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.dynamics_list" title="Permalink to this definition"></a></dt>
<dd><p>Print dynamic parameters (Robot superclass)</p>
<p>Display the kinematic and dynamic parameters to the console in
reable format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.dynchanged">
<span class="sig-name descname"><span class="pre">dynchanged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.dynchanged" title="Permalink to this definition"></a></dt>
<dd><p>Dynamic parameters have changed</p>
<p>Called from a property setter to inform the robot that the cache of
dynamic parameters is invalid.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">roboticstoolbox.Link._listen_dyn()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ee_links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ee_links</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">LinkType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ee_links" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ets">
<span class="sig-name descname"><span class="pre">ets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ets" title="Permalink to this definition"></a></dt>
<dd><p>Robot to ETS</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.ets()</span></code> is an ETS representing the kinematics from base to
end-effector.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.ets(end=link)</span></code> is an ETS representing the kinematics from
base to the link <code class="docutils literal notranslate"><span class="pre">link</span></code> specified as a Link reference or a name.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.ets(start=l1,</span> <span class="pre">end=l2)</span></code> is an ETS representing the kinematics
from link <code class="docutils literal notranslate"><span class="pre">l1</span></code> to link <code class="docutils literal notranslate"><span class="pre">l2</span></code>.</p>
<p>:param :
:type : param start: start of path, defaults to <code class="docutils literal notranslate"><span class="pre">base_link</span></code>
:param :
:type : param end: end of path, defaults to end-effector</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – a link does not belong to this ERobot</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.11)"><strong>TypeError</strong></a> – a bad link argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>elementary transform sequence</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ets</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ETS</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ets</span><span class="p">()</span>
<span class="go">[ET.tz(eta=0.333), ET.Rz(jindex=0), ET.Rx(eta=-1.5707963267948966), ET.Rz(jindex=1), ET.Rx(eta=1.5707963267948966), ET.tz(eta=0.316), ET.Rz(jindex=2), ET.tx(eta=0.0825), ET.Rx(eta=1.5707963267948966), ET.Rz(jindex=3), ET.tx(eta=-0.0825), ET.Rx(eta=-1.5707963267948966), ET.tz(eta=0.384), ET.Rz(jindex=4), ET.Rx(eta=1.5707963267948966), ET.Rz(jindex=5), ET.tx(eta=0.088), ET.Rx(eta=1.5707963267948966), ET.tz(eta=0.107), ET.Rz(jindex=6), ET.tz(eta=0.10300000000000001), ET.Rz(eta=-0.7853981633974483)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.fdyn">
<span class="sig-name descname"><span class="pre">fdyn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Q_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RK45'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.fdyn" title="Permalink to this definition"></a></dt>
<dd><p>Integrate forward dynamics</p>
<p><code class="docutils literal notranslate"><span class="pre">tg</span> <span class="pre">=</span> <span class="pre">R.fdyn(T,</span> <span class="pre">q)</span></code> integrates the dynamics of the robot with zero
input torques over the time  interval 0 to <code class="docutils literal notranslate"><span class="pre">T</span></code> and returns the
trajectory as a namedtuple with elements:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code> the time vector (M,)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> the joint coordinates (M,n)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qd</span></code> the joint velocities (M,n)</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">tg</span> <span class="pre">=</span> <span class="pre">R.fdyn(T,</span> <span class="pre">q,</span> <span class="pre">torqfun)</span></code> as above but the torque applied to the
joints is given by the provided function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tau</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p>where the inputs are:</p>
<blockquote>
<div><ul class="simple">
<li><p>the robot object</p></li>
<li><p>current time</p></li>
<li><p>current joint coordinates (n,)</p></li>
<li><p>current joint velocity (n,)</p></li>
<li><p>args, optional keyword arguments can be specified, these are</p></li>
</ul>
<p>passed in from the <code class="docutils literal notranslate"><span class="pre">targs</span></code> kewyword argument.</p>
</div></blockquote>
<p>The function must return a Numpy array (n,) of joint forces/torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – integration time</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – initial joint coordinates</p></li>
<li><p><strong>qd0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – initial joint velocities, assumed zero if not given</p></li>
<li><p><strong>Q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]]) – a function that computes generalized joint force as a function of
time and/or state</p></li>
<li><p><strong>Q_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>) – positional arguments passed to <code class="docutils literal notranslate"><span class="pre">torque</span></code></p></li>
<li><p><strong>solver</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – str</p></li>
<li><p><strong>solver_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>) – dict</p></li>
<li><p><strong>dt</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – float</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – show progress bar, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot trajectory</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>trajectory</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>To apply zero joint torque to the robot without Coulomb
friction:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfunc</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">robot</span><span class="o">.</span><span class="n">n</span><span class="p">,))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tg</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">nofriction</span><span class="p">()</span><span class="o">.</span><span class="n">fdyn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">q0</span><span class="p">,</span> <span class="n">myfunc</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tg</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">tg</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>We could also use a lambda function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tg</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">nofriction</span><span class="p">()</span><span class="o">.</span><span class="n">fdyn</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">5</span><span class="p">,</span> <span class="n">q0</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">r</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">r</span><span class="o">.</span><span class="n">n</span><span class="p">,)))</span>
</pre></div>
</div>
<p>The robot is controlled by a PD controller. We first define a
function to compute the control which has additional parameters for
the setpoint and control gains (qstar, P, D):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfunc</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">,</span> <span class="n">qstar</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">D</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">(</span><span class="n">qstar</span> <span class="o">-</span> <span class="n">q</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span> <span class="o">+</span> <span class="n">qd</span> <span class="o">*</span> <span class="n">D</span>  <span class="c1"># P, D are (6,)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tg</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">fdyn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">q0</span><span class="p">,</span> <span class="n">myfunc</span><span class="p">,</span> <span class="n">torque_args</span><span class="o">=</span><span class="p">(</span><span class="n">qstar</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">D</span><span class="p">))</span> <span class="p">)</span>
</pre></div>
</div>
<p>Many integrators have variable step length which is problematic if we
want to animate the result.  If <code class="docutils literal notranslate"><span class="pre">dt</span></code> is specified then the solver
results are interpolated in time steps of <code class="docutils literal notranslate"><span class="pre">dt</span></code>.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>This function performs poorly with non-linear joint friction,</dt><dd><p>such as Coulomb friction.  The R.nofriction() method can be used
to set this friction to zero.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If the function is not specified then zero force/torque is</dt><dd><p>applied to the manipulator joints.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Interpolation is performed using <a href="#id21"><span class="problematic" id="id22">`</span></a>ScipY integrate.ode</dt><dd><p>&lt;<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.ode.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.ode.html</a>&gt;`</p>
</dd>
</dl>
</li>
<li><p>The SciPy RK45 integrator is used by default</p></li>
<li><dl class="simple">
<dt>Interpolation is performed using <a href="#id23"><span class="problematic" id="id24">`</span></a>SciPy interp1</dt><dd><p>&lt;<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html</a>&gt;`</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">DHRobot.accel()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DHRobot.nofriction()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DHRobot.rne()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.fellipse">
<span class="sig-name descname"><span class="pre">fellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.fellipse" title="Permalink to this definition"></a></dt>
<dd><p>Create a force ellipsoid object for plotting with PyPlot</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.fellipse(q)</span></code> creates a force ellipsoid for the robot at
pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The ellipsoid is centered at the origin.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.q">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.q" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.opt">
<span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.opt" title="Permalink to this definition"></a></dt>
<dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational force ellipsoid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.unit">
<span class="sig-name descname"><span class="pre">unit</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.unit" title="Permalink to this definition"></a></dt>
<dd><p>‘rad’ or ‘deg’ will plot the ellipsoid in radians or
degrees</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.centre">
<span class="sig-name descname"><span class="pre">centre</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.centre" title="Permalink to this definition"></a></dt>
<dd><p>The centre of the ellipsoid, either ‘ee’ for the end-effector
or a 3-vector [x, y, z] in the world frame</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An EllipsePlot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.fkine">
<span class="sig-name descname"><span class="pre">fkine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.fkine" title="Permalink to this definition"></a></dt>
<dd><p>Forward kinematics</p>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">robot.fkine(q)</span></code> evaluates forward kinematics for the robot at
joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<p><strong>Trajectory operation</strong>:
If <code class="docutils literal notranslate"><span class="pre">q</span></code> has multiple rows (mxn), it is considered a trajectory and the
result is an <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance with <code class="docutils literal notranslate"><span class="pre">m</span></code> values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id25">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id25" title="Permalink to this definition"></a></dt>
<dd><p>Joint coordinates</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id26">
<span class="sig-name descname"><span class="pre">end</span></span><a class="headerlink" href="#id26" title="Permalink to this definition"></a></dt>
<dd><p>end-effector or gripper to compute forward kinematics to</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id27">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#id27" title="Permalink to this definition"></a></dt>
<dd><p>the link to compute forward kinematics from</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.tool">
<span class="sig-name descname"><span class="pre">tool</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.tool" title="Permalink to this definition"></a></dt>
<dd><p>tool transform, optional</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transformation matrix representing the pose of the
end-effector</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, and solves for the
forward kinematics at the listed configuration.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="go">SE3(array([[ 0.995 , -0.    ,  0.0998,  0.484 ],</span>
<span class="go">           [-0.    , -1.    ,  0.    ,  0.    ],</span>
<span class="go">           [ 0.0998, -0.    , -0.995 ,  0.4126],</span>
<span class="go">           [ 0.    ,  0.    ,  0.    ,  1.    ]]))</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>For a robot with a single end-effector there is no need to</dt><dd><p>specify <code class="docutils literal notranslate"><span class="pre">end</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>For a robot with multiple end-effectors, the <code class="docutils literal notranslate"><span class="pre">end</span></code> must</dt><dd><p>be specified.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The robot’s base tool transform, if set, is incorporated</dt><dd><p>into the result.</p>
</dd>
</dl>
</li>
<li><p>A tool transform, if provided, is incorporated into the result.</p></li>
<li><p>Works from the end-effector link to the base</p></li>
</ul>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.friction" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator joint friction (Robot superclass)</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.friction(qd)</span></code> is a vector of joint friction
forces/torques for the robot moving with joint velocities <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<p>The friction model includes:</p>
<ul class="simple">
<li><p>Viscous friction which is a linear function of velocity.</p></li>
<li><p>Coulomb friction which is proportional to sign(qd).</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\tau_j = G^2 B \dot{q}_j + |G_j| \left\{ \begin{array}{ll}
    \tau_{C,j}^+ &amp; \mbox{if $\dot{q}_j &gt; 0$} \\
    \tau_{C,j}^- &amp; \mbox{if $\dot{q}_j &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>qd</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – The joint velocities of the robot</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The joint friction forces/torques for the robot</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>friction</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The friction value should be added to the motor output torque to</dt><dd><p>determine the nett torque. It has a negative value when qd &gt; 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The returned friction value is referred to the output of the</dt><dd><p>gearbox.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The friction parameters in the Link object are referred to the</dt><dd><p>motor.</p>
</dd>
</dl>
</li>
<li><p>Motor viscous friction is scaled up by <span class="math notranslate nohighlight">\(G^2\)</span>.</p></li>
<li><p>Motor Coulomb friction is scaled up by math:<cite>G</cite>.</p></li>
<li><dl class="simple">
<dt>The appropriate Coulomb friction value to use in the</dt><dd><p>non-symmetric case depends on the sign of the joint velocity,
not the motor velocity.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coulomb friction is zero for zero joint velocity, stiction is</dt><dd><p>not modeled.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used.  Negative gear</dt><dd><p>ratios are tricky: the Puma560 robot has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used. Negative gear</dt><dd><p>ratios are tricky: the Puma560 has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.nofriction" title="roboticstoolbox.robot.Robot.Robot.nofriction"><code class="xref py py-func docutils literal notranslate"><span class="pre">Robot.nofriction()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Link.friction()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.get_path">
<span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.get_path" title="Permalink to this definition"></a></dt>
<dd><p>Find a path from start to end</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>), <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – end-effector or gripper to compute forward kinematics to</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>), <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – name or reference to a base link, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – link not known or ambiguous</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>)], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>path</em> – the path from start to end</p></li>
<li><p><em>n</em> – the number of joints in the path</p></li>
<li><p><em>T</em> – the tool transform present after end</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.gravity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gravity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.gravity" title="Permalink to this definition"></a></dt>
<dd><p>Get/set default gravitational acceleration (Robot superclass)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.name</span></code> is the default gravitational acceleration</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">robot.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets default gravitational</dt><dd><p>acceleration</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gravity</strong> – the new gravitational acceleration for this robot</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>gravitational acceleration</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gravity</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the z-axis is upward, out of the Earth, this should be
a positive number.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.gravload">
<span class="sig-name descname"><span class="pre">gravload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.gravload" title="Permalink to this definition"></a></dt>
<dd><p>Compute gravity load</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload(q)</span></code> calculates the joint gravity loading (n) for
the robot in the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and using the default
gravitational acceleration specified in the DHRobot object.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload(q,</span> <span class="pre">gravity=g)</span></code> as above except the gravitational
acceleration is explicitly specified as <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p><strong>Trajectory operation</strong></p>
<p>If q is a matrix (nxm) each column is interpreted as a joint
configuration vector, and the result is a matrix (nxm) each column
being the corresponding joint torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Joint coordinates</p></li>
<li><p><strong>gravity</strong> (<em>ndarray</em><em>(</em><em>3</em><em>)</em>) – Gravitational acceleration (Optional, if not supplied will
use the stored gravity values).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generalised joint force/torques due to gravity</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gravload</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">gravload</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">)</span>
<span class="go">array([ 0.    , 37.4837,  0.2489,  0.    ,  0.    ,  0.    ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.gravload_x">
<span class="sig-name descname"><span class="pre">gravload_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ji</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.gravload_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space gravity load</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload_x(q)</span></code> calculates the gravity wrench for
the robot in the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and using the default
gravitational acceleration specified in the robot object.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload_x(q,</span> <span class="pre">gravity=g)</span></code> as above except the gravitational
acceleration is explicitly specified as <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<div class="math notranslate nohighlight">
\[\mathbf{G}_x = \mathbf{J}(q)^{-T} \mathbf{G}(q)\]</div>
<p>The transformation to operational space requires an analytical, rather
than geometric, Jacobian. <code class="docutils literal notranslate"><span class="pre">analytical</span></code> can be one of:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Rotational representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code></p></td>
<td><p>RPY angular rates in XYZ order (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code></p></td>
<td><p>RPY angular rates in XYZ order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'eul'</span></code></p></td>
<td><p>Euler angular rates in ZYZ order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'exp'</span></code></p></td>
<td><p>exponential coordinate rates</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Trajectory operation</strong></p>
<p>If q is a matrix (nxm) each column is interpreted as a joint
configuration vector, and the result is a matrix (nxm) each column
being the corresponding joint torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>gravity</strong> – Gravitational acceleration (Optional, if not supplied will
use the <code class="docutils literal notranslate"><span class="pre">gravity</span></code> attribute of self).</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse (Default value = False)</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
<li><p><strong>Ji</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The operational space gravity wrench</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gravload</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If the robot is not 6 DOF the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> option is set True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pinv()</span></code> is around 5x slower than <code class="docutils literal notranslate"><span class="pre">inv()</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assumes that the operational space has 6 DOF.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.gravload" title="roboticstoolbox.robot.Robot.Robot.gravload"><code class="xref py py-func docutils literal notranslate"><span class="pre">gravload()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.grippers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grippers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Gripper</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.grippers" title="Permalink to this definition"></a></dt>
<dd><p>Grippers attached to the robot</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of grippers</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>grippers</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.hascollision">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hascollision</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.hascollision" title="Permalink to this definition"></a></dt>
<dd><p>Robot has collision model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>hascollision</em> – Robot has collision model</p></li>
<li><p><em>At least one link has associated collision model.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">hascollision</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.hasgeometry" title="roboticstoolbox.robot.Robot.Robot.hasgeometry"><code class="xref py py-func docutils literal notranslate"><span class="pre">hasgeometry()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.hasdynamics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasdynamics</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.hasdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Robot has dynamic parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>hasdynamics</em> – Robot has dynamic parameters</p></li>
<li><p><em>At least one link has associated dynamic parameters.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.hasgeometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasgeometry</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.hasgeometry" title="Permalink to this definition"></a></dt>
<dd><p>Robot has geometry model</p>
<p>At least one link has associated mesh to describe its shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Robot has geometry model</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>hasgeometry</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">hasgeometry</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.hascollision" title="roboticstoolbox.robot.Robot.Robot.hascollision"><code class="xref py py-func docutils literal notranslate"><span class="pre">hascollision()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.hessian0">
<span class="sig-name descname"><span class="pre">hessian0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.hessian0" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator Hessian</p>
<p>The manipulator Hessian tensor maps joint acceleration to end-effector
spatial acceleration, expressed in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame. This
function calulcates this based on the ETS of the robot. One of J0 or q
is required. Supply J0 if already calculated to save computation time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – The joint angles/configuration of the robot (Optional,
if not supplied will use the stored q values).</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the final link/Gripper which the Hessian represents</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the first link which the Hessian represents</p></li>
<li><p><strong>J0</strong> – The manipulator Jacobian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame</p></li>
<li><p><strong>tool</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – a static tool transformation matrix to apply to the
end of end, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The manipulator Hessian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>h0</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>This method computes the manipulator Hessian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame.  If
we take the time derivative of the differential kinematic relationship
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">nu</span>    <span class="o">&amp;=</span> \<span class="n">mat</span><span class="p">{</span><span class="n">J</span><span class="p">}(</span>\<span class="n">vec</span><span class="p">{</span><span class="n">q</span><span class="p">})</span> \<span class="n">dvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span> \\
\<span class="n">alpha</span> <span class="o">&amp;=</span> \<span class="n">dmat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span> \<span class="n">dvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span> <span class="o">+</span> \<span class="n">mat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span> \<span class="n">ddvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span>
</pre></div>
</div>
<p>where
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">dmat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span> <span class="o">=</span> \<span class="n">mat</span><span class="p">{</span><span class="n">H</span><span class="p">}</span> \<span class="n">dvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span>
</pre></div>
</div>
<p>and <span class="math notranslate nohighlight">\(\mat{H} \in \mathbb{R}^{6\times n \times n}\)</span> is the
Hessian tensor.</p>
<p>The elements of the Hessian are
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">mat</span><span class="p">{</span><span class="n">H</span><span class="p">}</span><span class="n">_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">}</span> <span class="o">=</span>  \<span class="n">frac</span><span class="p">{</span><span class="n">d</span><span class="o">^</span><span class="mi">2</span> <span class="n">u_i</span><span class="p">}{</span><span class="n">d</span> <span class="n">q_j</span> <span class="n">d</span> <span class="n">q_k</span><span class="p">}</span>
</pre></div>
</div>
<p>where <span class="math notranslate nohighlight">\(u = \{t_x, t_y, t_z, r_x, r_y, r_z\}\)</span> are the elements
of the spatial velocity vector.</p>
<p>Similarly, we can write
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">mat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span><span class="n">_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span> <span class="o">=</span> \<span class="n">frac</span><span class="p">{</span><span class="n">d</span> <span class="n">u_i</span><span class="p">}{</span><span class="n">d</span> <span class="n">q_j</span><span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">Panda</span></code> robot object, and solves for the
base frame Hessian at the given joint angle configuration</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">hessian0</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="go">array([[[-0.484 , -0.    , -0.486 , -0.    , -0.1547,  0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.0796,  0.    ,  0.2466,  0.    ,  0.2006,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    , -1.    , -0.    ,  1.    ,  0.    ,  1.    ,  0.    ],</span>
<span class="go">        [ 0.    , -0.    , -0.2955, -0.    ,  0.9463, -0.    ,  0.0998],</span>
<span class="go">        [ 0.    ,  0.    , -0.    , -0.    ,  0.    , -0.    ,  0.    ]],</span>

<span class="go">       [[-0.    , -0.484 , -0.    ,  0.4986, -0.    ,  0.1086,  0.    ],</span>
<span class="go">        [ 0.0796,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    , -0.0796, -0.    , -0.2466, -0.    , -0.2006, -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.9553,  0.    , -0.3233,  0.    , -0.995 ],</span>
<span class="go">        [ 0.    ,  0.    , -0.    , -0.    ,  0.    , -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.2955,  0.    , -0.9463,  0.    , -0.0998]],</span>

<span class="go">       [[-0.486 , -0.    , -0.4643, -0.    , -0.1478,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.383 ,  0.    ,  0.2237,  0.    ],</span>
<span class="go">        [ 0.    , -0.    , -0.1436, -0.    , -0.0457, -0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.9553,  0.    ,  0.9553,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    , -0.    ,  0.8085, -0.    , -0.1987],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.2955,  0.    ,  0.2955,  0.    ]],</span>

<span class="go">       [[-0.    ,  0.4986, -0.    , -0.4986,  0.    , -0.1086, -0.    ],</span>
<span class="go">        [ 0.2466,  0.    ,  0.383 ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    , -0.2466, -0.    ,  0.2466,  0.    ,  0.2006,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.3233,  0.    ,  0.995 ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.9463,  0.    ,  0.0998]],</span>

<span class="go">       [[-0.1547, -0.    , -0.1478,  0.    ,  0.05  , -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.1676, -0.    ],</span>
<span class="go">        [ 0.    , -0.    , -0.0457,  0.    ,  0.1464,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.3233,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.    ,  0.9093],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.9463, -0.    ]],</span>

<span class="go">       [[ 0.    ,  0.1086,  0.    , -0.1086, -0.    , -0.1086, -0.    ],</span>
<span class="go">        [ 0.2006,  0.    ,  0.2237,  0.    , -0.1676,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    , -0.2006, -0.    ,  0.2006,  0.    ,  0.2006,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.995 ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.0998]],</span>

<span class="go">       [[-0.    ,  0.    ,  0.    , -0.    ,  0.    , -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    , -0.    ,  0.    , -0.    ],</span>
<span class="go">        [ 0.    , -0.    , -0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ]]])</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.hessiane">
<span class="sig-name descname"><span class="pre">hessiane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Je</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.hessiane" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator Hessian</p>
<p>The manipulator Hessian tensor maps joint acceleration to end-effector
spatial acceleration, expressed in the <code class="docutils literal notranslate"><span class="pre">end</span></code> coordinate frame. This
function calulcates this based on the ETS of the robot. One of J0 or q
is required. Supply J0 if already calculated to save computation time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – The joint angles/configuration of the robot (Optional,
if not supplied will use the stored q values).</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the final link/Gripper which the Hessian represents</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the first link which the Hessian represents</p></li>
<li><p><strong>J0</strong> – The manipulator Jacobian in the <code class="docutils literal notranslate"><span class="pre">end</span></code> frame</p></li>
<li><p><strong>tool</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – a static tool transformation matrix to apply to the
end of end, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The manipulator Hessian in <code class="docutils literal notranslate"><span class="pre">end</span></code> frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>he</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>This method computes the manipulator Hessian in the <code class="docutils literal notranslate"><span class="pre">end</span></code> frame.  If
we take the time derivative of the differential kinematic relationship
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">nu</span>    <span class="o">&amp;=</span> \<span class="n">mat</span><span class="p">{</span><span class="n">J</span><span class="p">}(</span>\<span class="n">vec</span><span class="p">{</span><span class="n">q</span><span class="p">})</span> \<span class="n">dvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span> \\
\<span class="n">alpha</span> <span class="o">&amp;=</span> \<span class="n">dmat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span> \<span class="n">dvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span> <span class="o">+</span> \<span class="n">mat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span> \<span class="n">ddvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span>
</pre></div>
</div>
<p>where
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">dmat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span> <span class="o">=</span> \<span class="n">mat</span><span class="p">{</span><span class="n">H</span><span class="p">}</span> \<span class="n">dvec</span><span class="p">{</span><span class="n">q</span><span class="p">}</span>
</pre></div>
</div>
<p>and <span class="math notranslate nohighlight">\(\mat{H} \in \mathbb{R}^{6\times n \times n}\)</span> is the
Hessian tensor.</p>
<p>The elements of the Hessian are
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">mat</span><span class="p">{</span><span class="n">H</span><span class="p">}</span><span class="n">_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">}</span> <span class="o">=</span>  \<span class="n">frac</span><span class="p">{</span><span class="n">d</span><span class="o">^</span><span class="mi">2</span> <span class="n">u_i</span><span class="p">}{</span><span class="n">d</span> <span class="n">q_j</span> <span class="n">d</span> <span class="n">q_k</span><span class="p">}</span>
</pre></div>
</div>
<p>where <span class="math notranslate nohighlight">\(u = \{t_x, t_y, t_z, r_x, r_y, r_z\}\)</span> are the elements
of the spatial velocity vector.</p>
<p>Similarly, we can write
.. math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">mat</span><span class="p">{</span><span class="n">J</span><span class="p">}</span><span class="n">_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span> <span class="o">=</span> \<span class="n">frac</span><span class="p">{</span><span class="n">d</span> <span class="n">u_i</span><span class="p">}{</span><span class="n">d</span> <span class="n">q_j</span><span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">Panda</span></code> robot object, and solves for the
end-effector frame Hessian at the given joint angle configuration</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">hessiane</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="go">array([[[-0.4816, -0.    , -0.4835, -0.    , -0.1539, -0.    ,  0.    ],</span>
<span class="go">        [ 0.    , -0.0796,  0.    , -0.2466,  0.    , -0.2006,  0.    ],</span>
<span class="go">        [-0.0483, -0.    , -0.0485, -0.    , -0.0154, -0.    ,  0.    ],</span>
<span class="go">        [ 0.    , -0.995 ,  0.    ,  0.995 , -0.    ,  0.995 , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.2955, -0.    , -0.9463, -0.    , -0.0998],</span>
<span class="go">        [ 0.    , -0.0998,  0.    ,  0.0998, -0.    ,  0.0998,  0.    ]],</span>

<span class="go">       [[-0.    , -0.4896, -0.    ,  0.4715, -0.    ,  0.088 ,  0.    ],</span>
<span class="go">        [-0.0796,  0.    ,  0.    , -0.    ,  0.    , -0.    ,  0.    ],</span>
<span class="go">        [-0.    ,  0.0309,  0.    ,  0.2952,  0.    ,  0.2104, -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.9801,  0.    , -0.4161,  0.    , -1.    ],</span>
<span class="go">        [ 0.    ,  0.    , -0.    , -0.    ,  0.    , -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    , -0.1987, -0.    ,  0.9093, -0.    ,  0.    ]],</span>

<span class="go">       [[-0.4835, -0.    , -0.4763, -0.    , -0.1516, -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    , -0.383 ,  0.    , -0.2237,  0.    ],</span>
<span class="go">        [-0.0485,  0.    ,  0.0965, -0.    ,  0.0307, -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.9801, -0.    ,  0.9801,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    , -0.    , -0.8085, -0.    ,  0.1987],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    , -0.1987, -0.    , -0.1987, -0.    ]],</span>

<span class="go">       [[-0.    ,  0.4715, -0.    , -0.4715,  0.    , -0.088 ,  0.    ],</span>
<span class="go">        [-0.2466, -0.    , -0.383 ,  0.    , -0.    ,  0.    , -0.    ],</span>
<span class="go">        [-0.    ,  0.2952, -0.    , -0.2952, -0.    , -0.2104,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.4161,  0.    ,  1.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    , -0.    ,  0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    , -0.9093,  0.    ,  0.    ]],</span>

<span class="go">       [[-0.1539, -0.    , -0.1516,  0.    ,  0.0644,  0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    , -0.    , -0.    ,  0.1676, -0.    ],</span>
<span class="go">        [-0.0154,  0.    ,  0.0307, -0.    , -0.1407, -0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.4161, -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.9093],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.9093,  0.    ]],</span>

<span class="go">       [[-0.    ,  0.088 , -0.    , -0.088 ,  0.    , -0.088 ,  0.    ],</span>
<span class="go">        [-0.2006, -0.    , -0.2237,  0.    ,  0.1676,  0.    , -0.    ],</span>
<span class="go">        [-0.    ,  0.2104, -0.    , -0.2104, -0.    , -0.2104,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  1.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    , -0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">       [[ 0.    ,  0.    ,  0.    ,  0.    , -0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    , -0.    , -0.    , -0.    , -0.    ],</span>
<span class="go">        [ 0.    , -0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">        [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ]]])</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.hierarchy">
<span class="sig-name descname"><span class="pre">hierarchy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.hierarchy" title="Permalink to this definition"></a></dt>
<dd><p>Pretty print the robot link hierachy</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pretty print of the robot model</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Makes a robot and prints the heirachy</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">()</span>
<span class="go"> panda_link0</span>
<span class="go">   panda_link1</span>
<span class="go">     panda_link2</span>
<span class="go">       panda_link3</span>
<span class="go">         panda_link4</span>
<span class="go">           panda_link5</span>
<span class="go">             panda_link6</span>
<span class="go">               panda_link7</span>
<span class="go">                 panda_link8</span>
<span class="go">                   panda_hand</span>
<span class="go">                     panda_leftfinger</span>
<span class="go">                     panda_rightfinger</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ik_GN">
<span class="sig-name descname"><span class="pre">ik_GN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ik_GN" title="Permalink to this definition"></a></dt>
<dd><p>Fast numerical inverse kinematics by Gauss-Newton optimization</p>
<p><code class="docutils literal notranslate"><span class="pre">sol</span> <span class="pre">=</span> <span class="pre">ets.ik_GN(Tep)</span></code> are the joint coordinates (n) corresponding
to the robot end-effector pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code> which is an <code class="docutils literal notranslate"><span class="pre">SE3</span></code> or <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> object.
This method can be used for robots with any number of degrees of freedom. This
is a fast solver implemented in C++.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using this method with redundant robots (&gt;6 DoF), <code class="docutils literal notranslate"><span class="pre">pinv</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose or pose trajectory</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – initial joint configuration (default to random valid joint
configuration contrained by the joint limits of the robot)</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – maximum number of iterations per search</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – maximum number of search attempts</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – final error tolerance</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – a mask vector which weights the end-effector error priority.
Corresponds to translation in X, Y and Z and rotation about X, Y and Z
respectively</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – constrain the solution to being within the joint limits of
the robot (reject solution with invalid joint configurations and perfrom
another search up to the slimit)</p></li>
<li><p><strong>pinv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Use the psuedo-inverse instad of the normal matrix inverse</p></li>
<li><p><strong>pinv_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Damping factor for the psuedo-inverse</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>sol</em> – tuple (q, success, iterations, searches, residual)</p></li>
<li><p>The return value <code class="docutils literal notranslate"><span class="pre">sol</span></code> is a tuple with elements</p></li>
<li><p><em>============    ==========  ===============================================</em></p></li>
<li><p><em>Element         Type        Description</em></p></li>
<li><p><em>============    ==========  ===============================================</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>           ndarray(n)  joint coordinates in units of radians or metres</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">success</span></code>     int         whether a solution was found</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code>  int         total number of iterations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">searches</span></code>    int         total number of searches</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>    float       final value of cost function</p></li>
<li><p><em>============    ==========  ===============================================</em></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">success</span> <span class="pre">==</span> <span class="pre">0</span></code> the <code class="docutils literal notranslate"><span class="pre">q</span></code> values will be valid numbers, but the</p></li>
<li><p><em>solution will be in error.  The amount of error is indicated by</em></p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">residual</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Each iteration uses the Gauss-Newton optimisation method</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{q}_{k+1} &amp;= \vec{q}_k +
\left(
{\mat{J}(\vec{q}_k)}^\top
\mat{W}_e \
{\mat{J}(\vec{q}_k)}
\right)^{-1}
\bf{g}_k \\
\bf{g}_k &amp;=
{\mat{J}(\vec{q}_k)}^\top
\mat{W}_e
\vec{e}_k\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mat{J} = {^0\mat{J}}\)</span> is the base-frame manipulator Jacobian. If
<span class="math notranslate nohighlight">\(\mat{J}(\vec{q}_k)\)</span> is non-singular, and <span class="math notranslate nohighlight">\(\mat{W}_e = \mat{1}_n\)</span>, then
the above provides the pseudoinverse solution. However, if <span class="math notranslate nohighlight">\(\mat{J}(\vec{q}_k)\)</span>
is singular, the above can not be computed and the GN solution is infeasible.</p>
<p class="rubric">Examples</p>
<p>The following example gets a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_GN</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tep</span> <span class="o">=</span> <span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ik_GN</span><span class="p">(</span><span class="n">Tep</span><span class="p">)</span>
<span class="go">(array([-1.0805, -0.5328,  0.9086, -2.1781,  0.4612,  1.9018,  0.4239]), 1, 510, 32, 2.803306327008683e-09)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ik_NR" title="roboticstoolbox.robot.Robot.Robot.ik_NR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ik_NR</span></code></a></dt><dd><p>A fast numerical inverse kinematics solver using Newton-Raphson optimisation</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ik_GN" title="roboticstoolbox.robot.Robot.Robot.ik_GN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ik_GN</span></code></a></dt><dd><p>A fast numerical inverse kinematics solver using Gauss-Newton optimisation</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ik_LM">
<span class="sig-name descname"><span class="pre">ik_LM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chan'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ik_LM" title="Permalink to this definition"></a></dt>
<dd><p>Fast levenberg-Marquadt Numerical Inverse Kinematics Solver</p>
<p>A method which provides functionality to perform numerical inverse kinematics (IK)
using the Levemberg-Marquadt method. This
is a fast solver implemented in C++.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – The initial joint coordinate vector</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many iterations are allowed within a search before a new search
is started</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many searches are allowed before being deemed unsuccessful</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Maximum allowed residual error E</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – A 6 vector which assigns weights to Cartesian degrees-of-freedom
error priority</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Reject solutions with joint limit violations</p></li>
<li><p><strong>seed</strong> – A seed for the private RNG used to generate random joint coordinate
vectors</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Sets the gain value for the damping matrix Wn in the next iteration. See
synopsis</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'chan'</span></code>, <code class="docutils literal notranslate"><span class="pre">'wampler'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sugihara'</span></code>]) – One of “chan”, “sugihara” or “wampler”. Defines which method is used
to calculate the damping matrix Wn in the <code class="docutils literal notranslate"><span class="pre">step</span></code> method</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>The operation is defined by the choice of the <code class="docutils literal notranslate"><span class="pre">method</span></code> kwarg.</p>
<p>The step is deined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{q}_{k+1}
&amp;=
\vec{q}_k +
\left(
    \mat{A}_k
\right)^{-1}
\bf{g}_k \\
%
\mat{A}_k
&amp;=
{\mat{J}(\vec{q}_k)}^\top
\mat{W}_e \
{\mat{J}(\vec{q}_k)}
+
\mat{W}_n\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mat{W}_n = \text{diag}(\vec{w_n})(\vec{w_n} \in \mathbb{R}^n_{&gt;0})\)</span> is a
diagonal damping matrix. The damping matrix ensures that <span class="math notranslate nohighlight">\(\mat{A}_k\)</span> is
non-singular and positive definite. The performance of the LM method largely depends
on the choice of <span class="math notranslate nohighlight">\(\mat{W}_n\)</span>.</p>
<p><em>Chan’s Method</em></p>
<p>Chan proposed</p>
<div class="math notranslate nohighlight">
\[\mat{W}_n
=
λ E_k \mat{1}_n\]</div>
<p>where λ is a constant which reportedly does not have much influence on performance.
Use the kwarg <cite>k</cite> to adjust the weighting term λ.</p>
<p><em>Sugihara’s Method</em></p>
<p>Sugihara proposed</p>
<div class="math notranslate nohighlight">
\[\mat{W}_n
=
E_k \mat{1}_n + \text{diag}(\hat{\vec{w}}_n)\]</div>
<p>where <span class="math notranslate nohighlight">\(\hat{\vec{w}}_n \in \mathbb{R}^n\)</span>, <span class="math notranslate nohighlight">\(\hat{w}_{n_i} = l^2 \sim 0.01 l^2\)</span>,
and <span class="math notranslate nohighlight">\(l\)</span> is the length of a typical link within the manipulator. We provide the
variable <cite>k</cite> as a kwarg to adjust the value of <span class="math notranslate nohighlight">\(w_n\)</span>.</p>
<p><em>Wampler’s Method</em></p>
<p>Wampler proposed <span class="math notranslate nohighlight">\(\vec{w_n}\)</span> to be a constant. This is set through the <cite>k</cite> kwarg.</p>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_LM</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tep</span> <span class="o">=</span> <span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ikine_LM</span><span class="p">(</span><span class="n">Tep</span><span class="p">)</span>
<span class="go">IKSolution(q=array([-1.1306, -0.5662,  0.9408, -2.1744,  0.4993,  1.8841,  0.3946]), success=True, iterations=33, searches=3, residual=6.077792210084151e-10, reason=&#39;Success&#39;)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The value for the <code class="docutils literal notranslate"><span class="pre">k</span></code> kwarg will depend on the <code class="docutils literal notranslate"><span class="pre">method</span></code> chosen and the arm you are
using. Use the following as a rough guide <code class="docutils literal notranslate"><span class="pre">chan,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">1.0</span> <span class="pre">-</span> <span class="pre">0.01</span></code>,
<code class="docutils literal notranslate"><span class="pre">wampler,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">0.01</span> <span class="pre">-</span> <span class="pre">0.0001</span></code>, and <code class="docutils literal notranslate"><span class="pre">sugihara,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">0.1</span> <span class="pre">-</span> <span class="pre">0.0001</span></code></p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p>This class supports null-space motion to assist with maximising manipulability and
avoiding joint limits. These are enabled by setting kq and km to non-zero values.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ik_NR" title="roboticstoolbox.robot.Robot.Robot.ik_NR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ik_NR</span></code></a></dt><dd><p>A fast numerical inverse kinematics solver using Newton-Raphson optimisation</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ik_GN" title="roboticstoolbox.robot.Robot.Robot.ik_GN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ik_GN</span></code></a></dt><dd><p>A fast numerical inverse kinematics solver using Gauss-Newton optimisation</p>
</dd>
</dl>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.4: </span>Merged the Levemberg-Marquadt IK solvers into the ik_LM method</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ik_NR">
<span class="sig-name descname"><span class="pre">ik_NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv_damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ik_NR" title="Permalink to this definition"></a></dt>
<dd><p>Fast numerical inverse kinematics using Newton-Raphson optimization</p>
<p><code class="docutils literal notranslate"><span class="pre">sol</span> <span class="pre">=</span> <span class="pre">ets.ik_NR(Tep)</span></code> are the joint coordinates (n) corresponding
to the robot end-effector pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code> which is an <code class="docutils literal notranslate"><span class="pre">SE3</span></code> or <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> object.
This method can be used for robots with any number of degrees of freedom. This
is a fast solver implemented in C++.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using this method with redundant robots (&gt;6 DoF), <code class="docutils literal notranslate"><span class="pre">pinv</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose or pose trajectory</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – initial joint configuration (default to random valid joint
configuration contrained by the joint limits of the robot)</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – maximum number of iterations per search</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – maximum number of search attempts</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – final error tolerance</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – a mask vector which weights the end-effector error priority.
Corresponds to translation in X, Y and Z and rotation about X, Y and Z
respectively</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – constrain the solution to being within the joint limits of
the robot (reject solution with invalid joint configurations and perfrom
another search up to the slimit)</p></li>
<li><p><strong>pinv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Use the psuedo-inverse instad of the normal matrix inverse</p></li>
<li><p><strong>pinv_damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Damping factor for the psuedo-inverse</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>sol</em> – tuple (q, success, iterations, searches, residual)</p></li>
<li><p>The return value <code class="docutils literal notranslate"><span class="pre">sol</span></code> is a tuple with elements</p></li>
<li><p><em>============    ==========  ===============================================</em></p></li>
<li><p><em>Element         Type        Description</em></p></li>
<li><p><em>============    ==========  ===============================================</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>           ndarray(n)  joint coordinates in units of radians or metres</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">success</span></code>     int         whether a solution was found</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code>  int         total number of iterations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">searches</span></code>    int         total number of searches</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>    float       final value of cost function</p></li>
<li><p><em>============    ==========  ===============================================</em></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">success</span> <span class="pre">==</span> <span class="pre">0</span></code> the <code class="docutils literal notranslate"><span class="pre">q</span></code> values will be valid numbers, but the</p></li>
<li><p><em>solution will be in error.  The amount of error is indicated by</em></p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">residual</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Each iteration uses the Newton-Raphson optimisation method</p>
<div class="math notranslate nohighlight">
\[\vec{q}_{k+1} = \vec{q}_k + {^0\mat{J}(\vec{q}_k)}^{-1} \vec{e}_k\]</div>
<p class="rubric">Examples</p>
<p>The following example gets a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_GN</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tep</span> <span class="o">=</span> <span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ik_NR</span><span class="p">(</span><span class="n">Tep</span><span class="p">)</span>
<span class="go">(array([-1.0805, -0.5328,  0.9086, -2.1781,  0.4612,  1.9018,  0.4239]), 1, 489, 32, 2.8033063270234757e-09)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ik_LM" title="roboticstoolbox.robot.Robot.Robot.ik_LM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ik_LM</span></code></a></dt><dd><p>A fast numerical inverse kinematics solver using Levenberg-Marquadt optimisation</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ik_GN" title="roboticstoolbox.robot.Robot.Robot.ik_GN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ik_GN</span></code></a></dt><dd><p>A fast numerical inverse kinematics solver using Gauss-Newton optimisation</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ikine_GN">
<span class="sig-name descname"><span class="pre">ikine_GN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ikine_GN" title="Permalink to this definition"></a></dt>
<dd><p>Gauss-Newton Numerical Inverse Kinematics Solver</p>
<p>A method which provides functionality to perform numerical inverse kinematics (IK)
using the Gauss-Newton method.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using this method with redundant robots (&gt;6 DoF), <code class="docutils literal notranslate"><span class="pre">pinv</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – The initial joint coordinate vector</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many iterations are allowed within a search before a new search
is started</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many searches are allowed before being deemed unsuccessful</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Maximum allowed residual error E</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – A 6 vector which assigns weights to Cartesian degrees-of-freedom
error priority</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Reject solutions with joint limit violations</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – A seed for the private RNG used to generate random joint coordinate
vectors</p></li>
<li><p><strong>pinv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If True, will use the psuedoinverse in the <cite>step</cite> method instead of
the normal inverse</p></li>
<li><p><strong>kq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for joint limit avoidance. Setting to 0.0 will remove this
completely from the solution</p></li>
<li><p><strong>km</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for maximisation. Setting to 0.0 will remove this completely
from the solution</p></li>
<li><p><strong>ps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The minimum angle/distance (in radians or metres) in which the joint is
allowed to approach to its limit</p></li>
<li><p><strong>pi</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – The influence angle/distance (in radians or metres) in null space motion
becomes active</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Each iteration uses the Gauss-Newton optimisation method</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{q}_{k+1} &amp;= \vec{q}_k +
\left(
{\mat{J}(\vec{q}_k)}^\top
\mat{W}_e \
{\mat{J}(\vec{q}_k)}
\right)^{-1}
\bf{g}_k \\
\bf{g}_k &amp;=
{\mat{J}(\vec{q}_k)}^\top
\mat{W}_e
\vec{e}_k\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mat{J} = {^0\mat{J}}\)</span> is the base-frame manipulator Jacobian. If
<span class="math notranslate nohighlight">\(\mat{J}(\vec{q}_k)\)</span> is non-singular, and <span class="math notranslate nohighlight">\(\mat{W}_e = \mat{1}_n\)</span>, then
the above provides the pseudoinverse solution. However, if <span class="math notranslate nohighlight">\(\mat{J}(\vec{q}_k)\)</span>
is singular, the above can not be computed and the GN solution is infeasible.</p>
<p class="rubric">Examples</p>
<p>The following example gets a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_GN</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tep</span> <span class="o">=</span> <span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ikine_GN</span><span class="p">(</span><span class="n">Tep</span><span class="p">)</span>
<span class="go">IKSolution(q=array([ 2.7217, -1.3898,  2.5012, -3.0369, -0.3211,  2.8665,  1.0802]), success=False, iterations=100, searches=100, residual=0.0, reason=&#39;iteration and search limit reached, 100 numpy.LinAlgError encountered&#39;)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p>This class supports null-space motion to assist with maximising manipulability and
avoiding joint limits. These are enabled by setting kq and km to non-zero values.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="IK/ik_nr.html#roboticstoolbox.robot.IK.IK_NR" title="roboticstoolbox.robot.IK.IK_NR"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_NR</span></code></a></dt><dd><p>An IK Solver class which implements the Newton-Raphson optimisation technique</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_LM" title="roboticstoolbox.robot.Robot.Robot.ikine_LM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_LM</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_lm.html#roboticstoolbox.robot.IK.IK_LM" title="roboticstoolbox.robot.IK.IK_LM"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_LM</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_NR" title="roboticstoolbox.robot.Robot.Robot.ikine_NR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_NR</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_nr.html#roboticstoolbox.robot.IK.IK_NR" title="roboticstoolbox.robot.IK.IK_NR"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_NR</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_QP" title="roboticstoolbox.robot.Robot.Robot.ikine_QP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_QP</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_qp.html#roboticstoolbox.robot.IK.IK_QP" title="roboticstoolbox.robot.IK.IK_QP"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_QP</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
</dl>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.4: </span>Added the Gauss-Newton IK solver method on the <cite>Robot</cite> class</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ikine_LM">
<span class="sig-name descname"><span class="pre">ikine_LM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chan'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ikine_LM" title="Permalink to this definition"></a></dt>
<dd><p>Levenberg-Marquadt Numerical Inverse Kinematics Solver</p>
<p>A method which provides functionality to perform numerical inverse kinematics (IK)
using the Levemberg-Marquadt method.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – The initial joint coordinate vector</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many iterations are allowed within a search before a new search
is started</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many searches are allowed before being deemed unsuccessful</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Maximum allowed residual error E</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – A 6 vector which assigns weights to Cartesian degrees-of-freedom
error priority</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Reject solutions with joint limit violations</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – A seed for the private RNG used to generate random joint coordinate
vectors</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Sets the gain value for the damping matrix Wn in the next iteration. See
synopsis</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'chan'</span></code>, <code class="docutils literal notranslate"><span class="pre">'wampler'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sugihara'</span></code>]) – One of “chan”, “sugihara” or “wampler”. Defines which method is used
to calculate the damping matrix Wn in the <code class="docutils literal notranslate"><span class="pre">step</span></code> method</p></li>
<li><p><strong>kq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for joint limit avoidance. Setting to 0.0 will remove this
completely from the solution</p></li>
<li><p><strong>km</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for maximisation. Setting to 0.0 will remove this completely
from the solution</p></li>
<li><p><strong>ps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The minimum angle/distance (in radians or metres) in which the joint is
allowed to approach to its limit</p></li>
<li><p><strong>pi</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – The influence angle/distance (in radians or metres) in null space motion
becomes active</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>The operation is defined by the choice of the <code class="docutils literal notranslate"><span class="pre">method</span></code> kwarg.</p>
<p>The step is deined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{q}_{k+1}
&amp;=
\vec{q}_k +
\left(
    \mat{A}_k
\right)^{-1}
\bf{g}_k \\
%
\mat{A}_k
&amp;=
{\mat{J}(\vec{q}_k)}^\top
\mat{W}_e \
{\mat{J}(\vec{q}_k)}
+
\mat{W}_n\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mat{W}_n = \text{diag}(\vec{w_n})(\vec{w_n} \in \mathbb{R}^n_{&gt;0})\)</span> is a
diagonal damping matrix. The damping matrix ensures that <span class="math notranslate nohighlight">\(\mat{A}_k\)</span> is
non-singular and positive definite. The performance of the LM method largely depends
on the choice of <span class="math notranslate nohighlight">\(\mat{W}_n\)</span>.</p>
<p><em>Chan’s Method</em></p>
<p>Chan proposed</p>
<div class="math notranslate nohighlight">
\[\mat{W}_n
=
λ E_k \mat{1}_n\]</div>
<p>where λ is a constant which reportedly does not have much influence on performance.
Use the kwarg <cite>k</cite> to adjust the weighting term λ.</p>
<p><em>Sugihara’s Method</em></p>
<p>Sugihara proposed</p>
<div class="math notranslate nohighlight">
\[\mat{W}_n
=
E_k \mat{1}_n + \text{diag}(\hat{\vec{w}}_n)\]</div>
<p>where <span class="math notranslate nohighlight">\(\hat{\vec{w}}_n \in \mathbb{R}^n\)</span>, <span class="math notranslate nohighlight">\(\hat{w}_{n_i} = l^2 \sim 0.01 l^2\)</span>,
and <span class="math notranslate nohighlight">\(l\)</span> is the length of a typical link within the manipulator. We provide the
variable <cite>k</cite> as a kwarg to adjust the value of <span class="math notranslate nohighlight">\(w_n\)</span>.</p>
<p><em>Wampler’s Method</em></p>
<p>Wampler proposed <span class="math notranslate nohighlight">\(\vec{w_n}\)</span> to be a constant. This is set through the <cite>k</cite> kwarg.</p>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_LM</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tep</span> <span class="o">=</span> <span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ikine_LM</span><span class="p">(</span><span class="n">Tep</span><span class="p">)</span>
<span class="go">IKSolution(q=array([ 0.5881, -0.3507, -0.5214, -2.1959, -0.1971,  1.9827,  0.9408]), success=True, iterations=32, searches=2, residual=9.82530064416459e-10, reason=&#39;Success&#39;)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The value for the <code class="docutils literal notranslate"><span class="pre">k</span></code> kwarg will depend on the <code class="docutils literal notranslate"><span class="pre">method</span></code> chosen and the arm you are
using. Use the following as a rough guide <code class="docutils literal notranslate"><span class="pre">chan,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">1.0</span> <span class="pre">-</span> <span class="pre">0.01</span></code>,
<code class="docutils literal notranslate"><span class="pre">wampler,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">0.01</span> <span class="pre">-</span> <span class="pre">0.0001</span></code>, and <code class="docutils literal notranslate"><span class="pre">sugihara,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">0.1</span> <span class="pre">-</span> <span class="pre">0.0001</span></code></p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p>This class supports null-space motion to assist with maximising manipulability and
avoiding joint limits. These are enabled by setting kq and km to non-zero values.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="IK/ik_lm.html#roboticstoolbox.robot.IK.IK_LM" title="roboticstoolbox.robot.IK.IK_LM"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_LM</span></code></a></dt><dd><p>An IK Solver class which implements the Levemberg Marquadt optimisation technique</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_NR" title="roboticstoolbox.robot.Robot.Robot.ikine_NR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_NR</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_nr.html#roboticstoolbox.robot.IK.IK_NR" title="roboticstoolbox.robot.IK.IK_NR"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_NR</span></code></a> class as a method within the <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot" title="roboticstoolbox.robot.Robot.Robot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Robot</span></code></a> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_GN" title="roboticstoolbox.robot.Robot.Robot.ikine_GN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_GN</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_gn.html#roboticstoolbox.robot.IK.IK_GN" title="roboticstoolbox.robot.IK.IK_GN"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_GN</span></code></a> class as a method within the <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot" title="roboticstoolbox.robot.Robot.Robot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Robot</span></code></a> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_QP" title="roboticstoolbox.robot.Robot.Robot.ikine_QP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_QP</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_qp.html#roboticstoolbox.robot.IK.IK_QP" title="roboticstoolbox.robot.IK.IK_QP"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_QP</span></code></a> class as a method within the <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot" title="roboticstoolbox.robot.Robot.Robot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Robot</span></code></a> class</p>
</dd>
</dl>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.4: </span>Added the Levemberg-Marquadt IK solver method on the <cite>Robot</cite> class</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ikine_NR">
<span class="sig-name descname"><span class="pre">ikine_NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ikine_NR" title="Permalink to this definition"></a></dt>
<dd><p>Newton-Raphson Numerical Inverse Kinematics Solver</p>
<p>A method which provides functionality to perform numerical inverse kinematics (IK)
using the Newton-Raphson method.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using this method with redundant robots (&gt;6 DoF), <code class="docutils literal notranslate"><span class="pre">pinv</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – The initial joint coordinate vector</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many iterations are allowed within a search before a new search
is started</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many searches are allowed before being deemed unsuccessful</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Maximum allowed residual error E</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – A 6 vector which assigns weights to Cartesian degrees-of-freedom
error priority</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Reject solutions with joint limit violations</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – A seed for the private RNG used to generate random joint coordinate
vectors</p></li>
<li><p><strong>pinv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If True, will use the psuedoinverse in the <cite>step</cite> method instead of
the normal inverse</p></li>
<li><p><strong>kq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for joint limit avoidance. Setting to 0.0 will remove this
completely from the solution</p></li>
<li><p><strong>km</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for maximisation. Setting to 0.0 will remove this completely
from the solution</p></li>
<li><p><strong>ps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The minimum angle/distance (in radians or metres) in which the joint is
allowed to approach to its limit</p></li>
<li><p><strong>pi</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – The influence angle/distance (in radians or metres) in null space motion
becomes active</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Each iteration uses the Newton-Raphson optimisation method</p>
<div class="math notranslate nohighlight">
\[\vec{q}_{k+1} = \vec{q}_k + {^0\mat{J}(\vec{q}_k)}^{-1} \vec{e}_k\]</div>
<p class="rubric">Examples</p>
<p>The following example gets a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_NR</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tep</span> <span class="o">=</span> <span class="n">panda</span><span class="o">.</span><span class="n">fkine</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ikine_NR</span><span class="p">(</span><span class="n">Tep</span><span class="p">)</span>
<span class="go">IKSolution(q=array([ 1.4253, -0.8622, -0.6865, -1.3446, -0.8688,  1.1422, -2.0981]), success=False, iterations=100, searches=100, residual=0.0, reason=&#39;iteration and search limit reached, 100 numpy.LinAlgError encountered&#39;)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p>This class supports null-space motion to assist with maximising manipulability and
avoiding joint limits. These are enabled by setting kq and km to non-zero values.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="IK/ik_nr.html#roboticstoolbox.robot.IK.IK_NR" title="roboticstoolbox.robot.IK.IK_NR"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_NR</span></code></a></dt><dd><p>An IK Solver class which implements the Newton-Raphson optimisation technique</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_LM" title="roboticstoolbox.robot.Robot.Robot.ikine_LM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_LM</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_lm.html#roboticstoolbox.robot.IK.IK_LM" title="roboticstoolbox.robot.IK.IK_LM"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_LM</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_GN" title="roboticstoolbox.robot.Robot.Robot.ikine_GN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_GN</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_gn.html#roboticstoolbox.robot.IK.IK_GN" title="roboticstoolbox.robot.IK.IK_GN"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_GN</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_QP" title="roboticstoolbox.robot.Robot.Robot.ikine_QP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_QP</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_qp.html#roboticstoolbox.robot.IK.IK_QP" title="roboticstoolbox.robot.IK.IK_QP"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_QP</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
</dl>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.4: </span>Added the Newton-Raphson IK solver method on the <cite>Robot</cite> class</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ikine_QP">
<span class="sig-name descname"><span class="pre">ikine_QP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Tep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ikine_QP" title="Permalink to this definition"></a></dt>
<dd><p>Quadratic Programming Numerical Inverse Kinematics Solver</p>
<p>A method that provides functionality to perform numerical inverse kinematics
(IK) using a quadratic progamming approach.</p>
<p>See the <a class="reference internal" href="IK/ik.html#ik"><span class="std std-ref">Inverse Kinematics Docs Page</span></a> for more details and for a
<strong>tutorial</strong> on numerical IK, see <a class="reference external" href="https://bit.ly/3ak5GDi">here</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tep</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]) – The desired end-effector pose</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – The initial joint coordinate vector</p></li>
<li><p><strong>ilimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many iterations are allowed within a search before a new search
is started</p></li>
<li><p><strong>slimit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – How many searches are allowed before being deemed unsuccessful</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Maximum allowed residual error E</p></li>
<li><p><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – A 6 vector which assigns weights to Cartesian degrees-of-freedom
error priority</p></li>
<li><p><strong>joint_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Reject solutions with joint limit violations</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – A seed for the private RNG used to generate random joint coordinate
vectors</p></li>
<li><p><strong>kj</strong> – A gain for joint velocity norm minimisation</p></li>
<li><p><strong>ks</strong> – A gain which adjusts the cost of slack (intentional error)</p></li>
<li><p><strong>kq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for joint limit avoidance. Setting to 0.0 will remove this
completely from the solution</p></li>
<li><p><strong>km</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The gain for maximisation. Setting to 0.0 will remove this completely
from the solution</p></li>
<li><p><strong>ps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The minimum angle/distance (in radians or metres) in which the joint is
allowed to approach to its limit</p></li>
<li><p><strong>pi</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – The influence angle/distance (in radians or metres) in null space motion
becomes active</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="(in Python v3.11)"><strong>ImportError</strong></a> – If the package <code class="docutils literal notranslate"><span class="pre">qpsolvers</span></code> is not installed</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>Each iteration uses the following approach</p>
<div class="math notranslate nohighlight">
\[\vec{q}_{k+1} = \vec{q}_{k} + \dot{\vec{q}}.\]</div>
<p>where the QP is defined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\min_x \quad f_o(\vec{x}) &amp;= \frac{1}{2} \vec{x}^\top \mathcal{Q} \vec{x}+ \mathcal{C}^\top \vec{x}, \\
\text{subject to} \quad \mathcal{J} \vec{x} &amp;= \vec{\nu},  \\
\mathcal{A} \vec{x} &amp;\leq \mathcal{B},  \\
\vec{x}^- &amp;\leq \vec{x} \leq \vec{x}^+\end{split}\]</div>
<p>with</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{x} &amp;=
\begin{pmatrix}
    \dvec{q} \\ \vec{\delta}
\end{pmatrix} \in \mathbb{R}^{(n+6)}  \\
\mathcal{Q} &amp;=
\begin{pmatrix}
    \lambda_q \mat{1}_{n} &amp; \mathbf{0}_{6 \times 6} \\ \mathbf{0}_{n \times n} &amp; \lambda_\delta \mat{1}_{6}
\end{pmatrix} \in \mathbb{R}^{(n+6) \times (n+6)} \\
\mathcal{J} &amp;=
\begin{pmatrix}
    \mat{J}(\vec{q}) &amp; \mat{1}_{6}
\end{pmatrix} \in \mathbb{R}^{6 \times (n+6)} \\
\mathcal{C} &amp;=
\begin{pmatrix}
    \mat{J}_m \\ \bf{0}_{6 \times 1}
\end{pmatrix} \in \mathbb{R}^{(n + 6)} \\
\mathcal{A} &amp;=
\begin{pmatrix}
    \mat{1}_{n \times n + 6} \\
\end{pmatrix} \in \mathbb{R}^{(l + n) \times (n + 6)} \\
\mathcal{B} &amp;=
\eta
\begin{pmatrix}
    \frac{\rho_0 - \rho_s}
            {\rho_i - \rho_s} \\
    \vdots \\
    \frac{\rho_n - \rho_s}
            {\rho_i - \rho_s}
\end{pmatrix} \in \mathbb{R}^{n} \\
\vec{x}^{-, +} &amp;=
\begin{pmatrix}
    \dvec{q}^{-, +} \\
    \vec{\delta}^{-, +}
\end{pmatrix} \in \mathbb{R}^{(n+6)},\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\vec{\delta} \in \mathbb{R}^6\)</span> is the slack vector,
<span class="math notranslate nohighlight">\(\lambda_\delta \in \mathbb{R}^+\)</span> is a gain term which adjusts the
cost of the norm of the slack vector in the optimiser,
<span class="math notranslate nohighlight">\(\dvec{q}^{-,+}\)</span> are the minimum and maximum joint velocities, and
<span class="math notranslate nohighlight">\(\dvec{\delta}^{-,+}\)</span> are the minimum and maximum slack velocities.</p>
<p class="rubric">Examples</p>
<p>The following example gets a <code class="docutils literal notranslate"><span class="pre">panda</span></code> robot object, makes a goal
pose <code class="docutils literal notranslate"><span class="pre">Tep</span></code>, and then solves for the joint coordinates which result in the pose
<code class="docutils literal notranslate"><span class="pre">Tep</span></code> using the <cite>ikine_QP</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/roboticstoolbox/robot/IK.py&quot;</span>, line <span class="m">1331</span>, in <span class="n">__init__</span>
<span class="w">    </span><span class="s2">&quot;the package qpsolvers is required for this class. </span><span class="se">\n</span><span class="s2">Install using &#39;pip&quot;</span>
<span class="gr">ImportError</span>: <span class="n">the package qpsolvers is required for this class. </span>
<span class="x">Install using &#39;pip install qpsolvers&#39;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When using the this method, the initial joint coordinates <span class="math notranslate nohighlight">\(q_0\)</span>, should correspond
to a non-singular manipulator pose, since it uses the manipulator Jacobian.</p>
<p>This class supports null-space motion to assist with maximising manipulability and
avoiding joint limits. These are enabled by setting kq and km to non-zero values.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="IK/ik_nr.html#roboticstoolbox.robot.IK.IK_NR" title="roboticstoolbox.robot.IK.IK_NR"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_NR</span></code></a></dt><dd><p>An IK Solver class which implements the Newton-Raphson optimisation technique</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_LM" title="roboticstoolbox.robot.Robot.Robot.ikine_LM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_LM</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_lm.html#roboticstoolbox.robot.IK.IK_LM" title="roboticstoolbox.robot.IK.IK_LM"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_LM</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_GN" title="roboticstoolbox.robot.Robot.Robot.ikine_GN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_GN</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_gn.html#roboticstoolbox.robot.IK.IK_GN" title="roboticstoolbox.robot.IK.IK_GN"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_GN</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
<dt><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.ikine_NR" title="roboticstoolbox.robot.Robot.Robot.ikine_NR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ikine_NR</span></code></a></dt><dd><p>Implements the <a class="reference internal" href="IK/ik_nr.html#roboticstoolbox.robot.IK.IK_NR" title="roboticstoolbox.robot.IK.IK_NR"><code class="xref py py-class docutils literal notranslate"><span class="pre">IK_NR</span></code></a> class as a method within the <code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code> class</p>
</dd>
</dl>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.4: </span>Added the Quadratic Programming IK solver method on the <cite>Robot</cite> class</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.inertia">
<span class="sig-name descname"><span class="pre">inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.inertia" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator inertia matrix
<code class="docutils literal notranslate"><span class="pre">inertia(q)</span></code> is the symmetric joint inertia matrix (n,n) which
relates joint torque to joint acceleration for the robot at joint
configuration q.</p>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix (m,n), each row is interpretted as a joint state
vector, and the result is a 3d-matrix (nxnxk) where each plane
corresponds to the inertia for the corresponding row of q.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint coordinates</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The inertia matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>inertia</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">inertia</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">)</span>
<span class="go">array([[ 3.9611, -0.1627, -0.1389,  0.0016, -0.0004,  0.    ],</span>
<span class="go">       [-0.1627,  4.4566,  0.3727,  0.    ,  0.0019,  0.    ],</span>
<span class="go">       [-0.1389,  0.3727,  0.9387,  0.    ,  0.0019,  0.    ],</span>
<span class="go">       [ 0.0016,  0.    ,  0.    ,  0.1924,  0.    ,  0.    ],</span>
<span class="go">       [-0.0004,  0.0019,  0.0019,  0.    ,  0.1713,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.1941]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The diagonal elements <code class="docutils literal notranslate"><span class="pre">M[j,j]</span></code> are the inertia seen by joint</dt><dd><p>actuator <code class="docutils literal notranslate"><span class="pre">j</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The off-diagonal elements <code class="docutils literal notranslate"><span class="pre">M[j,k]</span></code> are coupling inertias that</dt><dd><p>relate acceleration on joint <code class="docutils literal notranslate"><span class="pre">j</span></code> to force/torque on
joint <code class="docutils literal notranslate"><span class="pre">k</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The diagonal terms include the motor inertia reflected through</dt><dd><p>the gear ratio.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.cinertia" title="roboticstoolbox.robot.Robot.Robot.cinertia"><code class="xref py py-func docutils literal notranslate"><span class="pre">cinertia()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.inertia_x">
<span class="sig-name descname"><span class="pre">inertia_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ji</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.inertia_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space inertia matrix</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.inertia_x(q)</span></code> is the operational space (Cartesian) inertia
matrix which relates Cartesian force/torque to Cartesian
acceleration at the joint configuration q.</p>
<div class="math notranslate nohighlight">
\[\mathbf{M}_x = \mathbf{J}(q)^{-T} \mathbf{M}(q) \mathbf{J}(q)^{-1}\]</div>
<p>The transformation to operational space requires an analytical, rather
than geometric, Jacobian. <code class="docutils literal notranslate"><span class="pre">analytical</span></code> can be one of:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Rotational representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code></p></td>
<td><p>RPY angular rates in XYZ order (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code></p></td>
<td><p>RPY angular rates in XYZ order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'eul'</span></code></p></td>
<td><p>Euler angular rates in ZYZ order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'exp'</span></code></p></td>
<td><p>exponential coordinate rates</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix (m,n), each row is interpretted as a joint state
vector, and the result is a 3d-matrix (m,n,n) where each plane
corresponds to the Cartesian inertia for the corresponding
row of <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse (Default value = False)</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
<li><p><strong>Ji</strong> – The inverse analytical Jacobian (base-frame)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The operational space inertia matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>inertia_x</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If the robot is not 6 DOF the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> option is set True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pinv()</span></code> is around 5x slower than <code class="docutils literal notranslate"><span class="pre">inv()</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assumes that the operational space has 6 DOF.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.inertia" title="roboticstoolbox.robot.Robot.Robot.inertia"><code class="xref py py-func docutils literal notranslate"><span class="pre">inertia()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.isprismatic">
<span class="sig-name descname"><span class="pre">isprismatic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.isprismatic" title="Permalink to this definition"></a></dt>
<dd><p>Check if joint is prismatic</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if prismatic</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>j</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isprismatic()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.prismaticjoints" title="roboticstoolbox.robot.Robot.Robot.prismaticjoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">prismaticjoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.isrevolute">
<span class="sig-name descname"><span class="pre">isrevolute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.isrevolute" title="Permalink to this definition"></a></dt>
<dd><p>Check if joint is revolute</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>j</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isrevolute()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.revolutejoints" title="roboticstoolbox.robot.Robot.Robot.revolutejoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">revolutejoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.itorque">
<span class="sig-name descname"><span class="pre">itorque</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qdd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.itorque" title="Permalink to this definition"></a></dt>
<dd><p>Inertia torque</p>
<p><code class="docutils literal notranslate"><span class="pre">itorque(q,</span> <span class="pre">qdd)</span></code> is the inertia force/torque vector (n) at
the specified joint configuration q (n) and acceleration qdd (n), and
<code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of robot joints.
It is <span class="math notranslate nohighlight">\(\mathbf{I}(q) \ddot{q}\)</span>.</p>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">qdd</span></code> are matrices (m,n), each row is interpretted as a
joint configuration, and the result is a matrix (m,n) where each row is
the corresponding joint torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qdd</strong> – Joint acceleration</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The inertia torque vector</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>itorque</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">itorque</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">6</span><span class="p">,)))</span>
<span class="go">array([1.8304, 2.3343, 0.5872, 0.0971, 0.0873, 0.0971])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>If the robot model contains non-zero motor inertia then this</dt><dd><p>will be included in the result.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.inertia" title="roboticstoolbox.robot.Robot.Robot.inertia"><code class="xref py py-func docutils literal notranslate"><span class="pre">inertia()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jacob0">
<span class="sig-name descname"><span class="pre">jacob0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jacob0" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator geometric Jacobian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.jacobo(q)</span></code> is the manipulator Jacobian matrix which maps
joint  velocity to end-effector spatial velocity expressed in the
base frame.</p>
<p>End-effector spatial velocity <span class="math notranslate nohighlight">\(\nu = (v_x, v_y, v_z, \omega_x, \omega_y, \omega_z)^T\)</span>
is related to joint velocity by <span class="math notranslate nohighlight">\({}^{E}\!\nu = \mathbf{J}_m(q) \dot{q}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – Joint coordinate vector</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the particular link or gripper whose velocity the Jacobian
describes, defaults to the end-effector if only one is present</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>tool</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – a static tool transformation matrix to apply to the
end of end, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Manipulator Jacobian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>J0</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">Puma560</span></code> robot object, and solves for the
base-frame Jacobian at the zero joint angle configuration</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">jacob0</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">array([[ 0.1295, -0.4854, -0.4854, -0.    , -0.0533,  0.    ],</span>
<span class="go">       [ 0.4318,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [-0.    ,  0.4318,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.    , -1.    , -1.    ,  0.    , -1.    ,  0.    ],</span>
<span class="go">       [ 1.    ,  0.    ,  0.    ,  1.    ,  0.    ,  1.    ]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>This is the geometric Jacobian as described in texts by</dt><dd><p>Corke, Spong etal., Siciliano etal.  The end-effector velocity is
described in terms of translational and angular velocity, not a
velocity twist as per the text by Lynch &amp; Park.</p>
</dd>
</dl>
</li>
</ul>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jacob0_analytical">
<span class="sig-name descname"><span class="pre">jacob0_analytical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jacob0_analytical" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator analytical Jacobian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.jacob0_analytical(q)</span></code> is the manipulator Jacobian matrix which maps
joint  velocity to end-effector spatial velocity expressed in the
<code class="docutils literal notranslate"><span class="pre">start</span></code> frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – Joint coordinate vector</p></li>
<li><p><strong>representation</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code>, <code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code>, <code class="docutils literal notranslate"><span class="pre">'eul'</span></code>, <code class="docutils literal notranslate"><span class="pre">'exp'</span></code>]) – angular representation</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the particular link or gripper whose velocity the Jacobian
describes, defaults to the base link</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the end-effector, defaults to the robots’s end-effector</p></li>
<li><p><strong>tool</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – a static tool transformation matrix to apply to the
end of end, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Manipulator Jacobian in the <code class="docutils literal notranslate"><span class="pre">start</span></code> frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>jacob0</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>End-effector spatial velocity <span class="math notranslate nohighlight">\(\nu = (v_x, v_y, v_z, \omega_x, \omega_y, \omega_z)^T\)</span>
is related to joint velocity by <span class="math notranslate nohighlight">\({}^{E}\!\nu = \mathbf{J}_m(q) \dot{q}\)</span>.</p>
<p><a href="#id109"><span class="problematic" id="id110">|``representation``   |       Rotational representation     |
|---------------------|</span></a>————————————-|
<a href="#id34"><span class="problematic" id="id35">|</span></a><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code>        |   RPY angular rates in XYZ order    |
<a href="#id36"><span class="problematic" id="id37">|</span></a><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code>        |   RPY angular rates in XYZ order    |
<a href="#id38"><span class="problematic" id="id39">|</span></a><code class="docutils literal notranslate"><span class="pre">'eul'</span></code>            |   Euler angular rates in ZYZ order  |
<a href="#id40"><span class="problematic" id="id41">|</span></a><code class="docutils literal notranslate"><span class="pre">'exp'</span></code>            |   exponential coordinate rates      |</p>
<p class="rubric">Examples</p>
<p>Makes a robot object and computes the analytic Jacobian for the given
joint configuration</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ETS</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">jacob0_analytical</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">array([[ 0.15  ,  0.8636,  0.4318,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.2203,  0.    ,  0.    ,  0.2   ,  0.    ,  0.2   ],</span>
<span class="go">       [ 0.    , -0.2203, -0.2   ,  0.    , -0.2   ,  0.    ],</span>
<span class="go">       [ 1.    ,  0.    ,  0.    ,  1.    ,  0.    ,  1.    ],</span>
<span class="go">       [ 0.    ,  1.    ,  1.    ,  0.    ,  1.    ,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jacobe">
<span class="sig-name descname"><span class="pre">jacobe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jacobe" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator geometric Jacobian in the end-effector frame</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.jacobe(q)</span></code> is the manipulator Jacobian matrix which maps
joint  velocity to end-effector spatial velocity expressed in the
<code class="docutils literal notranslate"><span class="pre">end</span></code> frame.</p>
<p>End-effector spatial velocity <span class="math notranslate nohighlight">\(\nu = (v_x, v_y, v_z, \omega_x, \omega_y, \omega_z)^T\)</span>
is related to joint velocity by <span class="math notranslate nohighlight">\({}^{E}\!\nu = \mathbf{J}_m(q) \dot{q}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – Joint coordinate vector</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the particular link or gripper whose velocity the Jacobian
describes, defaults to the end-effector if only one is present</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the link considered as the base frame, defaults to the robots’s base frame</p></li>
<li><p><strong>tool</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – a static tool transformation matrix to apply to the
end of end, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Manipulator Jacobian in the <code class="docutils literal notranslate"><span class="pre">end</span></code> frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Je</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">Puma560</span></code> robot object, and solves for the
end-effector frame Jacobian at the zero joint angle configuration</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">jacobe</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">array([[ 0.1295, -0.4854, -0.4854, -0.    , -0.0533,  0.    ],</span>
<span class="go">       [ 0.4318,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [-0.    ,  0.4318,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.    , -1.    , -1.    ,  0.    , -1.    ,  0.    ],</span>
<span class="go">       [ 1.    ,  0.    ,  0.    ,  1.    ,  0.    ,  1.    ]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>This is the geometric Jacobian as described in texts by</dt><dd><p>Corke, Spong etal., Siciliano etal.  The end-effector velocity is
described in terms of translational and angular velocity, not a
velocity twist as per the text by Lynch &amp; Park.</p>
</dd>
</dl>
</li>
</ul>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jointdynamics">
<span class="sig-name descname"><span class="pre">jointdynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jointdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Transfer function of joint actuator</p>
<p><code class="docutils literal notranslate"><span class="pre">tf</span> <span class="pre">=</span> <span class="pre">jointdynamics(qd,</span> <span class="pre">q)</span></code> calculates a vector of n
continuous-time transfer functions that represent the transfer
function 1/(Js+B) for each joint based on the dynamic parameters
of the robot and the configuration q (n). n is the number of robot
joints.  The result is a list of tuples (J, B) for each joint.</p>
<p><code class="docutils literal notranslate"><span class="pre">tf</span> <span class="pre">=</span> <span class="pre">jointdynamics(q,</span> <span class="pre">qd)</span></code> as above but include the linearized
effects of Coulomb friction when operating at joint velocity QD
(1xN).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>transfer function denominators</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a> of 2-tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.keywords">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.keywords" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.link_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">link_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LinkType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.link_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.linkcolormap">
<span class="sig-name descname"><span class="pre">linkcolormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linkcolors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'viridis'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.linkcolormap" title="Permalink to this definition"></a></dt>
<dd><p>Create a colormap for robot joints</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cm</span> <span class="pre">=</span> <span class="pre">robot.linkcolormap()</span></code> is an n-element colormap that gives a
unique color for every link.  The RGBA colors for link <code class="docutils literal notranslate"><span class="pre">j</span></code> are
<code class="docutils literal notranslate"><span class="pre">cm(j)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cm</span> <span class="pre">=</span> <span class="pre">robot.linkcolormap(cmap)</span></code> as above but <code class="docutils literal notranslate"><span class="pre">cmap</span></code> is the name
of a valid matplotlib colormap.  The default, example above, is the
<code class="docutils literal notranslate"><span class="pre">viridis</span></code> colormap.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cm</span> <span class="pre">=</span> <span class="pre">robot.linkcolormap(list</span> <span class="pre">of</span> <span class="pre">colors)</span></code> as above but a
colormap is created from a list of n color names given as strings,
tuples or hexstrings.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>linkcolors</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – list of colors or colormap, defaults to “viridis”</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the color map</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>color map</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cm</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">linkcolormap</span><span class="p">(</span><span class="s2">&quot;inferno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span> <span class="c1"># cm(i) is 3rd color in colormap</span>
<span class="go">[[0.0015 0.0005 0.0139 1.    ]</span>
<span class="go"> [0.2582 0.0386 0.4065 1.    ]</span>
<span class="go"> [0.5783 0.148  0.4044 1.    ]</span>
<span class="go"> [0.865  0.3168 0.2261 1.    ]</span>
<span class="go"> [0.9876 0.6453 0.0399 1.    ]</span>
<span class="go"> [0.9884 0.9984 0.6449 1.    ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cm</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">linkcolormap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;#0f8040&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;cyan&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span>
<span class="go">[[1.     0.     0.     1.    ]</span>
<span class="go"> [0.     0.5    0.     1.    ]</span>
<span class="go"> [0.     0.5    0.     1.    ]</span>
<span class="go"> [0.0588 0.502  0.251  1.    ]</span>
<span class="go"> [1.     1.     0.     1.    ]</span>
<span class="go"> [0.     1.     1.     1.    ]]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul>
<li><p>Colormaps have 4-elements: red, green, blue, alpha (RGBA)</p></li>
<li><p>Names of supported colors and colormaps are defined in the
matplotlib documentation.</p>
<blockquote>
<div><ul class="simple">
<li><p><a href="#id42"><span class="problematic" id="id43">`</span></a>Specifying colors</p></li>
</ul>
<p>&lt;<a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colors.html#sphx-glr-tutorials-colors-colors-py">https://matplotlib.org/3.1.0/tutorials/colors/colors.html#sphx-glr-tutorials-colors-colors-py</a>&gt;`_
- <a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html#sphx-glr-tutorials-colors-colormaps-py">Colormaps</a></p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">links</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">LinkType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.links" title="Permalink to this definition"></a></dt>
<dd><p>Robot links</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of link objects</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>links</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>It is probably more concise to index the robot object rather
than the list of links, ie. the following are equivalent:
- <code class="docutils literal notranslate"><span class="pre">robot.links[i]</span></code>
- <code class="docutils literal notranslate"><span class="pre">robot[i]</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.manufacturer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">manufacturer</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.manufacturer" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot manufacturer’s name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.manufacturer</span></code> is the robot manufacturer’s name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.manufacturer</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the manufacturer’s name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot manufacturer’s name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>manufacturer</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id44">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#id44" title="Permalink to this definition"></a></dt>
<dd><p>Number of joints</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of joints</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>n</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">n</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.nlinks" title="roboticstoolbox.robot.Robot.Robot.nlinks"><code class="xref py py-func docutils literal notranslate"><span class="pre">nlinks()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.nbranches" title="roboticstoolbox.robot.Robot.Robot.nbranches"><code class="xref py py-func docutils literal notranslate"><span class="pre">nbranches()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.name" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.name</span></code> is the robot name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – the new robot name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current robot name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.nbranches">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbranches</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.nbranches" title="Permalink to this definition"></a></dt>
<dd><p>Number of branches</p>
<p>Number of branches in this robot.  Computed as the number of links with
zero children</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of branches in the robot’s kinematic tree</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nbranches</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ETS</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">nbranches</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#id44" title="roboticstoolbox.robot.Robot.Robot.n"><code class="xref py py-func docutils literal notranslate"><span class="pre">n()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.nlinks" title="roboticstoolbox.robot.Robot.Robot.nlinks"><code class="xref py py-func docutils literal notranslate"><span class="pre">nlinks()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.nlinks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nlinks</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.nlinks" title="Permalink to this definition"></a></dt>
<dd><p>Number of links</p>
<p>The returned number is the total of both variable joints and
static links</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nlinks</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">nlinks</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#id44" title="roboticstoolbox.robot.Robot.Robot.n"><code class="xref py py-func docutils literal notranslate"><span class="pre">n()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.nbranches" title="roboticstoolbox.robot.Robot.Robot.nbranches"><code class="xref py py-func docutils literal notranslate"><span class="pre">nbranches()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.nofriction">
<span class="sig-name descname"><span class="pre">nofriction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viscous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.nofriction" title="Permalink to this definition"></a></dt>
<dd><p>Remove manipulator joint friction</p>
<p><code class="docutils literal notranslate"><span class="pre">nofriction()</span></code> copies the robot and returns
a robot with the same link parameters except the Coulomb and/or viscous
friction parameter are set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – set the Coulomb friction to 0</p></li>
<li><p><strong>viscous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – set the viscous friction to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the robot with dynamic parameters perturbed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.friction" title="roboticstoolbox.robot.Robot.Robot.friction"><code class="xref py py-func docutils literal notranslate"><span class="pre">Robot.friction()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Link.nofriction()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.partial_fkine0">
<span class="sig-name descname"><span class="pre">partial_fkine0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.partial_fkine0" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator Forward Kinematics nth Partial Derivative</p>
<p>This method computes the nth derivative of the forward kinematics where <code class="docutils literal notranslate"><span class="pre">n</span></code> is
greater than or equal to 3. This is an extension of the differential kinematics
where the Jacobian is the first partial derivative and the Hessian is the
second.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – The joint angles/configuration of the robot (Optional,
if not supplied will use the stored q values).</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the final link/Gripper which the Hessian represents</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – the first link which the Hessian represents</p></li>
<li><p><strong>tool</strong> – a static tool transformation matrix to apply to the
end of end, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The nth Partial Derivative of the forward kinematics</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The following example makes a <code class="docutils literal notranslate"><span class="pre">Panda</span></code> robot object, and solves for the
base-effector frame 4th defivative of the forward kinematics at the given
joint angle configuration</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">partial_fkine0</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.7854</span><span class="p">],</span> <span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">array([[[[[ 0.484 ,  0.    ,  0.486 , ...,  0.1547, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  1.    ,  0.    , ..., -0.    , -1.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.484 ,  0.    , ...,  0.    , -0.1086,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-1.    ,  0.    , -0.9553, ...,  0.3233, -0.    ,  0.995 ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.4624,  0.    ,  0.4643, ...,  0.1478, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.067 , -0.    , ..., -0.    , -0.2237,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.9553,  0.    , ..., -0.    , -0.9553, -0.    ],</span>
<span class="go">          [-0.2955, -0.    ,  0.    , ..., -0.8085,  0.    ,  0.1987],</span>
<span class="go">          [-0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.1565, -0.    , -0.1571, ..., -0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.4323,  0.    , ..., -0.    ,  0.1676,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.3233,  0.    , ...,  0.    ,  0.3233, -0.    ],</span>
<span class="go">          [ 0.9463,  0.    ,  0.8085, ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    , -0.484 ,  0.    , ..., -0.    ,  0.1086,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 1.    ,  0.    ,  0.9553, ..., -0.3233,  0.    , -0.995 ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.4816, -0.    , -0.4835, ..., -0.1539,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0309,  0.    , ...,  0.    ,  0.2104,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.995 ,  0.    , ...,  0.    ,  0.995 ,  0.    ],</span>
<span class="go">          [ 0.0998,  0.    , -0.1987, ...,  0.9093, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998]],</span>

<span class="go">         [[-0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [-0.0796, -0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.143 , -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2955,  0.    , ..., -0.    ,  0.2955,  0.    ],</span>
<span class="go">          [-0.2955, -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.4581,  0.    ,  0.4599, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.9463,  0.    , ...,  0.    , -0.9463, -0.    ],</span>
<span class="go">          [ 0.9463,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0796,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.0796,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.2955, ...,  0.9463,  0.    ,  0.0998],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.0483,  0.    ,  0.0485, ...,  0.0154,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0998, -0.    , ...,  0.    , -0.0998,  0.    ],</span>
<span class="go">          [ 0.0998,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.4624,  0.    ,  0.4643, ...,  0.1478, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0761, -0.    , ..., -0.    , -0.1916,  0.    ],</span>
<span class="go">          [-0.143 , -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.9553,  0.    , ..., -0.    , -0.9553, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2823, ..., -0.904 ,  0.    , -0.0954],</span>
<span class="go">          [ 0.    , -0.2955,  0.    , ...,  0.    ,  0.2955,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.4624,  0.    , ...,  0.    , -0.1037,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0091,  0.    , ...,  0.    ,  0.1916,  0.    ],</span>
<span class="go">          [-0.9553,  0.    , -0.9127, ...,  0.3089, -0.    ,  0.9506],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.2955,  0.    ],</span>
<span class="go">          [ 0.2955,  0.    , -0.2823, ...,  0.904 , -0.    ,  0.0954]],</span>

<span class="go">         [[ 0.4418,  0.    ,  0.486 , ...,  0.1547, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.064 , -0.    , ..., -0.    , -0.2137,  0.    ],</span>
<span class="go">          [-0.007 ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.9127,  0.    , ..., -0.    , -1.    , -0.    ],</span>
<span class="go">          [-0.2823, -0.    ,  0.    , ..., -0.7724,  0.    ,  0.1898],</span>
<span class="go">          [-0.    ,  0.2823,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.1495, -0.    , -0.286 , ..., -0.091 ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.413 ,  0.    , ..., -0.    ,  0.1601,  0.    ],</span>
<span class="go">          [ 0.0223, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.3089,  0.    , ..., -0.    ,  0.5885, -0.    ],</span>
<span class="go">          [ 0.904 ,  0.    ,  0.7724, ...,  0.    ,  0.    , -0.8687],</span>
<span class="go">          [-0.    , -0.904 ,  0.    , ...,  0.    , -0.    , -0.    ]],</span>

<span class="go">         [[ 0.    , -0.486 ,  0.    , ..., -0.    ,  0.0444,  0.    ],</span>
<span class="go">          [-0.143 ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.067 ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.9553,  0.    ,  1.    , ..., -0.5885,  0.    , -0.9801],</span>
<span class="go">          [-0.    , -0.2955, -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.2955,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.4601, -0.    , -0.4763, ..., -0.1516,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0295,  0.    , ...,  0.    ,  0.201 ,  0.    ],</span>
<span class="go">          [ 0.0023,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9506,  0.    , ...,  0.    ,  0.9801,  0.    ],</span>
<span class="go">          [ 0.0954, -0.    , -0.1898, ...,  0.8687, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0954, -0.    , ...,  0.    , -0.    ,  0.    ]]],</span>


<span class="go">        ...,</span>


<span class="go">        [[[-0.1565, -0.    , -0.1571, ..., -0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0257,  0.    , ...,  0.    ,  0.0648,  0.    ],</span>
<span class="go">          [ 0.4581,  0.    ,  0.4599, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.3233, -0.    , ...,  0.    ,  0.3233,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.0955, ...,  0.3059, -0.    ,  0.0323],</span>
<span class="go">          [ 0.    ,  0.9463, -0.    , ...,  0.    , -0.9463, -0.    ]],</span>

<span class="go">         [[-0.    , -0.1565, -0.    , ..., -0.    ,  0.0351,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.0457, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.4066, -0.    , ...,  0.    , -0.0648,  0.    ],</span>
<span class="go">          [ 0.3233,  0.    ,  0.3089, ..., -0.1045,  0.    , -0.3217],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.9463, -0.    ],</span>
<span class="go">          [-0.9463,  0.    , -0.713 , ..., -0.3059, -0.    , -0.0323]],</span>

<span class="go">         [[-0.1495, -0.    , -0.1366, ..., -0.091 , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0217,  0.    , ...,  0.    ,  0.0723,  0.    ],</span>
<span class="go">          [ 0.2994,  0.    ,  0.3028, ...,  0.1251,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.3089,  0.    , ...,  0.    ,  0.5885,  0.    ],</span>
<span class="go">          [ 0.0955,  0.    ,  0.    , ...,  0.2614, -0.    , -0.0642],</span>
<span class="go">          [ 0.    ,  0.713 ,  0.    , ...,  0.    , -0.8085, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.0506,  0.    ,  0.0075, ...,  0.1547,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.1398, -0.    , ..., -0.    , -0.0542,  0.    ],</span>
<span class="go">          [ 0.2945,  0.    ,  0.2885, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.1045, -0.    , ...,  0.    , -1.    , -0.    ],</span>
<span class="go">          [-0.3059, -0.    , -0.2614, ...,  0.    ,  0.    ,  0.294 ],</span>
<span class="go">          [-0.    ,  0.3059, -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.2318,  0.    , ...,  0.    ,  0.1547,  0.    ],</span>
<span class="go">          [ 0.4581,  0.    ,  0.5056, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.4323,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.3233, -0.    , -0.5885, ...,  1.    ,  0.    ,  0.4161],</span>
<span class="go">          [ 0.    ,  0.9463,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.9463,  0.    ,  0.8085, ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.1557,  0.    ,  0.1518, ...,  0.0644,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.01  ,  0.    , ..., -0.    , -0.068 ,  0.    ],</span>
<span class="go">          [ 0.0311, -0.    ,  0.0304, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3217, -0.    , ...,  0.    , -0.4161,  0.    ],</span>
<span class="go">          [-0.0323,  0.    ,  0.0642, ..., -0.294 ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0323,  0.    , ..., -0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0796,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.2955, ...,  0.9463,  0.    ,  0.0998]],</span>

<span class="go">         [[-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.2006, -0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [-0.2006, -0.    , -0.2237, ...,  0.1676,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.0998],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.0593,  0.    , ...,  0.    , -0.0593,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0349,  0.    , ...,  0.    ,  0.1916,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.0295],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.2955,  0.    ,  0.    , ...,  0.8085, -0.    ,  0.0954]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.    , -0.1898, -0.    , ...,  0.    ,  0.1898,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3296, -0.    , ..., -0.    , -0.0648,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.0945],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.9463, -0.    , -0.8085, ...,  0.    ,  0.    , -0.0323]],</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2006,  0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.2006,  0.    ,  0.2237, ..., -0.1676, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    , -0.0998],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    , -0.028 , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0483,  0.    , -0.0485, ..., -0.0154, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0375,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.0295, ..., -0.0945,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0998, -0.    , ...,  0.    ,  0.0998,  0.    ],</span>
<span class="go">          [-0.0998, -0.    , -0.0954, ...,  0.0323,  0.    ,  0.    ]]],</span>


<span class="go">        [[[-0.4816, -0.    , -0.4835, ..., -0.1539,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0792,  0.    , ...,  0.    ,  0.1996,  0.    ],</span>
<span class="go">          [ 0.0483,  0.    ,  0.0485, ...,  0.0154,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.995 , -0.    , ...,  0.    ,  0.995 ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.294 , ...,  0.9416, -0.    ,  0.0993],</span>
<span class="go">          [ 0.    ,  0.0998, -0.    , ...,  0.    , -0.0998,  0.    ]],</span>

<span class="go">         [[-0.    , -0.4816, -0.    , ..., -0.    ,  0.108 ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.1101, -0.    , ..., -0.    , -0.41  ,  0.    ],</span>
<span class="go">          [ 0.995 ,  0.    ,  0.9506, ..., -0.3217,  0.    , -0.99  ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.0998,  0.    ,  0.4927, ..., -1.8509,  0.    , -0.0993]],</span>

<span class="go">         [[-0.4601, -0.    , -0.4619, ..., -0.147 ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0666,  0.    , ...,  0.    ,  0.2226,  0.    ],</span>
<span class="go">          [-0.2385, -0.    , -0.2394, ..., -0.0762,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9506,  0.    , ...,  0.    ,  0.9506,  0.    ],</span>
<span class="go">          [ 0.294 ,  0.    ,  0.    , ...,  0.8045, -0.    , -0.1977],</span>
<span class="go">          [ 0.    , -0.4927,  0.    , ...,  0.    ,  0.4927,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.1557,  0.    ,  0.1563, ...,  0.0498, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.4302, -0.    , ...,  0.    , -0.1667,  0.    ],</span>
<span class="go">          [ 0.8959,  0.    ,  0.8994, ...,  0.2863,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3217, -0.    , ...,  0.    , -0.3217,  0.    ],</span>
<span class="go">          [-0.9416, -0.    , -0.8045, ...,  0.    , -0.    ,  0.9048],</span>
<span class="go">          [-0.    ,  1.8509, -0.    , ...,  0.    , -1.8509, -0.    ]],</span>

<span class="go">         [[-0.    ,  0.4816, -0.    , ...,  0.    , -0.108 ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.1101,  0.    , ...,  0.    ,  0.41  ,  0.    ],</span>
<span class="go">          [-0.995 , -0.    , -0.9506, ...,  0.3217,  0.    ,  0.99  ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.0998, -0.    , -0.4927, ...,  1.8509,  0.    ,  0.0993]],</span>

<span class="go">         [[ 0.4792,  0.    ,  0.4811, ...,  0.1532, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0308, -0.    , ..., -0.    , -0.2093,  0.    ],</span>
<span class="go">          [ 0.0481,  0.    ,  0.0483, ...,  0.0154,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.99  , -0.    , ..., -0.    , -0.99  ,  0.    ],</span>
<span class="go">          [-0.0993, -0.    ,  0.1977, ..., -0.9048,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0993, -0.    , ...,  0.    , -0.0993,  0.    ]]]],</span>



<span class="go">       [[[[ 0.    ,  0.484 ,  0.    , ...,  0.    , -0.1086,  0.    ],</span>
<span class="go">          [-0.0796, -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.9553, ...,  0.3233, -0.    ,  0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.2191, -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.9553,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2955,  0.    , ..., -0.    ,  0.2955,  0.    ],</span>
<span class="go">          [-0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.4838,  0.    ,  0.4599, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.3233, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.9463,  0.    , ...,  0.    , -0.9463, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0796,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.2955, ...,  0.9463,  0.    ,  0.0998],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.1276,  0.    ,  0.0485, ...,  0.0154,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.995 , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0998, -0.    , ...,  0.    , -0.0998,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.484 ,  0.    , ...,  0.    , -0.1086,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0796,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.9553, ...,  0.3233, -0.    ,  0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.2955, ...,  0.9463, -0.    ,  0.0998]],</span>

<span class="go">         [[ 0.4154,  0.    ,  0.4643, ...,  0.1478, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.2952,  0.    ,  0.1436, ...,  0.0457,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.9553,  0.    , ..., -0.    , -0.9553, -0.    ],</span>
<span class="go">          [-0.2955, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2955,  0.    , ...,  0.    , -0.2955, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.0058, -0.    , -0.1571, ..., -0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.5095, -0.    , -0.4599, ..., -0.1464, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.3233,  0.    , ...,  0.    ,  0.3233, -0.    ],</span>
<span class="go">          [ 0.9463,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9463, -0.    , ...,  0.    ,  0.9463,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.484 ,  0.    , ..., -0.    ,  0.1086,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.9553, ..., -0.3233,  0.    , -0.995 ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998]],</span>

<span class="go">         [[-0.4657, -0.    , -0.4835, ..., -0.1539,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.2068, -0.    , -0.0485, ..., -0.0154, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.995 ,  0.    , ...,  0.    ,  0.995 ,  0.    ],</span>
<span class="go">          [ 0.0998,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0998,  0.    , ..., -0.    ,  0.0998,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.4624,  0.    , ...,  0.    , -0.1037,  0.    ],</span>
<span class="go">          [-0.2191, -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0761,  0.    , ...,  0.    ,  0.1916,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.9127, ...,  0.3089, -0.    ,  0.9506],</span>
<span class="go">          [ 0.    , -0.2955,  0.    , ..., -0.    ,  0.2955,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.2823, ...,  0.904 , -0.    ,  0.0954]],</span>

<span class="go">         [[-0.0235,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.067 ,  0.    , ...,  0.    ,  0.2237,  0.    ],</span>
<span class="go">          [ 0.0761,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.2955,  0.    ,  0.    , ...,  0.8085, -0.    , -0.1987],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    ,  0.    ,  0.    , ...,  0.    , -0.0661,  0.    ],</span>
<span class="go">          [-0.2232,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.2137,  0.    ],</span>
<span class="go">          [ 0.9127,  0.    ,  0.    , ..., -0.2389, -0.    ,  0.0587],</span>
<span class="go">          [-0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.2823,  0.    ,  0.    , ...,  0.7724, -0.    , -0.1898]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.0644, -0.    , ..., -0.    ,  0.0495,  0.    ],</span>
<span class="go">          [ 0.1154, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.3914, -0.    , ...,  0.    , -0.1601,  0.    ],</span>
<span class="go">          [-0.3089, -0.    ,  0.2389, ...,  0.    ,  0.    , -0.2687],</span>
<span class="go">          [ 0.    , -0.8085,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.904 , -0.    , -0.7724, ..., -0.    , -0.    ,  0.8687]],</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.2955,  0.    , -0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    ,  0.0158, -0.    , ..., -0.    ,  0.0622,  0.    ],</span>
<span class="go">          [ 0.2227, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0962, -0.    , ..., -0.    , -0.201 ,  0.    ],</span>
<span class="go">          [-0.9506, -0.    , -0.0587, ...,  0.2687,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.1987, -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0954,  0.    ,  0.1898, ..., -0.8687,  0.    ,  0.    ]]],</span>


<span class="go">        ...,</span>


<span class="go">        [[[ 0.    , -0.1565, -0.    , ..., -0.    ,  0.0351,  0.    ],</span>
<span class="go">          [ 0.4838,  0.    ,  0.4599, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0257,  0.    , ...,  0.    , -0.0648,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.3089, ..., -0.1045,  0.    , -0.3217],</span>
<span class="go">          [ 0.    ,  0.9463, -0.    , ...,  0.    , -0.9463, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.0955, ..., -0.3059, -0.    , -0.0323]],</span>

<span class="go">         [[ 0.0754, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.4323,  0.    , ...,  0.    , -0.1676,  0.    ],</span>
<span class="go">          [-0.0257,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.9463,  0.    , -0.8085, ..., -0.    , -0.    ,  0.9093],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.    , -0.    , ..., -0.    ,  0.0495,  0.    ],</span>
<span class="go">          [ 0.3925,  0.    ,  0.3929, ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.1601,  0.    ],</span>
<span class="go">          [-0.3089, -0.    ,  0.    , ...,  0.    ,  0.    , -0.2687],</span>
<span class="go">          [ 0.    ,  0.8085,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.0955,  0.    ,  0.    , ..., -0.    , -0.    ,  0.8687]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.1586,  0.    ],</span>
<span class="go">          [ 0.0668,  0.    ,  0.1251, ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.0542,  0.    ],</span>
<span class="go">          [ 0.1045,  0.    , -0.    , ...,  0.    , -0.    ,  0.8605],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.3059,  0.    ,  0.    , ...,  0.    , -0.    , -0.294 ]],</span>

<span class="go">         [[-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.9463,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.0724,  0.    , ...,  0.    , -0.1991,  0.    ],</span>
<span class="go">          [-0.4578, -0.    , -0.4726, ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.4401, -0.    , ...,  0.    ,  0.068 ,  0.    ],</span>
<span class="go">          [ 0.3217,  0.    ,  0.2687, ..., -0.8605, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9093,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.0323, -0.    , -0.8687, ...,  0.294 , -0.    , -0.    ]]],</span>


<span class="go">        [[[-0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0796,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.2955, ...,  0.9463,  0.    ,  0.0998],</span>
<span class="go">          [ 0.    , -0.    , -0.    , ...,  0.    , -0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.484 , -0.    , ..., -0.    ,  0.1086,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0796, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.9553, ..., -0.3233,  0.    , -0.995 ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.0998]],</span>

<span class="go">         [[-0.5217, -0.    , -0.5304, ..., -0.0983, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0897,  0.    , ..., -0.    ,  0.2237,  0.    ],</span>
<span class="go">          [ 0.0486,  0.    ,  0.0701, ..., -0.2058,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9553,  0.    , ...,  0.    ,  0.9553,  0.    ],</span>
<span class="go">          [ 0.2955,  0.    ,  0.    , ...,  1.617 , -0.    , -0.1987],</span>
<span class="go">          [ 0.    , -0.2955,  0.    , ...,  0.    ,  0.2955,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.3463,  0.    ,  0.3688, ..., -0.1086,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.697 , -0.    , ...,  0.    , -0.1676,  0.    ],</span>
<span class="go">          [ 0.3932,  0.    ,  0.3875, ...,  0.2006,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3233, -0.    , ...,  0.    , -0.3233,  0.    ],</span>
<span class="go">          [-0.9463, -0.    , -1.617 , ...,  0.    , -0.    ,  0.9093],</span>
<span class="go">          [-0.    ,  0.9463, -0.    , ...,  0.    , -0.9463, -0.    ]],</span>

<span class="go">         [[-0.    ,  0.484 , -0.    , ...,  0.    , -0.1086,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0796,  0.    , ..., -0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.9553, ...,  0.3233,  0.    ,  0.995 ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.2955, ...,  0.9463,  0.    ,  0.0998]],</span>

<span class="go">         [[ 0.4937,  0.    ,  0.5059, ...,  0.1372, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2413, -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.072 , -0.    , -0.1741, ...,  0.1822,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.995 , -0.    , ..., -0.    , -0.995 ,  0.    ],</span>
<span class="go">          [-0.0998,  0.    ,  0.1987, ..., -0.9093,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0998, -0.    , ...,  0.    , -0.0998,  0.    ]]],</span>


<span class="go">        [[[-0.    , -0.4816, -0.    , ..., -0.    ,  0.108 ,  0.    ],</span>
<span class="go">          [ 0.1276,  0.    ,  0.0485, ...,  0.0154,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0792, -0.    , ..., -0.    , -0.1996,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.9506, ..., -0.3217,  0.    , -0.99  ],</span>
<span class="go">          [ 0.    ,  0.0998, -0.    , ...,  0.    , -0.0998,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.294 , ..., -0.9416,  0.    , -0.0993]],</span>

<span class="go">         [[ 0.0079, -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0309, -0.    , ..., -0.    , -0.2104,  0.    ],</span>
<span class="go">          [-0.0792, -0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.0998,  0.    ,  0.1987, ..., -0.9093,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.0181, -0.    , -0.0965, ..., -0.0307,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.9506, -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.1987,  0.    , ...,  0.    ,  0.1987, -0.    ],</span>
<span class="go">          [-0.294 , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.407 ,  0.    ,  0.4419, ...,  0.1407, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.3217,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.9093, -0.    , ...,  0.    , -0.9093,  0.    ],</span>
<span class="go">          [ 0.9416,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ]],</span>

<span class="go">         [[-0.0079,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0309,  0.    , ...,  0.    ,  0.2104,  0.    ],</span>
<span class="go">          [ 0.0792,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.0998, -0.    , -0.1987, ...,  0.9093,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0796, -0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.99  ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.0993,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ]]]],</span>



<span class="go">       [[[[ 0.486 ,  0.    ,  0.4643, ...,  0.1478, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.2237,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.9553, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.8085,  0.    ,  0.1987],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.2955,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.4643,  0.    ,  0.486 , ...,  0.1547, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.2137,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -1.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.7724,  0.    ,  0.1898],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.1571, -0.    , -0.286 , ..., -0.091 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.3914,  0.    , ..., -0.    ,  0.1601,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.5885, -0.    ],</span>
<span class="go">          [ 0.8085,  0.    ,  0.7724, ...,  0.    ,  0.    , -0.8687],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.    , -0.486 ,  0.    , ..., -0.    ,  0.0444,  0.    ],</span>
<span class="go">          [-0.143 ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.9553,  0.    ,  1.    , ..., -0.5885, -0.    , -0.9801],</span>
<span class="go">          [-0.    , -0.2955, -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.4835, -0.    , -0.4763, ..., -0.1516,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0962,  0.    , ...,  0.    ,  0.201 ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.9801,  0.    ],</span>
<span class="go">          [-0.1987, -0.    , -0.1898, ...,  0.8687, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.1436, ..., -0.0457, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.2955,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.486 ,  0.    ,  0.4643, ...,  0.1478, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.1436, ...,  0.0457,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.9553, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.2955, -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.0661,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.2137,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.2389, -0.    ,  0.0587],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.7724, -0.    , -0.1898]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.0644, -0.    , ..., -0.    ,  0.0495,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.3914, -0.    , ...,  0.    , -0.1601,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2389, ...,  0.    ,  0.    , -0.2687],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.7724, ...,  0.    , -0.    ,  0.8687]],</span>

<span class="go">         [[-0.0471, -0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.2191, -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.9553,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.2955, -0.    , -0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.2955,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    ,  0.0158, -0.    , ..., -0.    ,  0.0622,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0962, -0.    , ..., -0.    , -0.201 ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.0587, ...,  0.2687,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.1898, ..., -0.8687,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.4643,  0.    ,  0.486 , ...,  0.1547, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.2137,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -1.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.7724,  0.    ,  0.1898],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    , -0.0661,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.2137,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.2389, -0.    ,  0.0587],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.7724, -0.    , -0.1898]],</span>

<span class="go">         [[ 0.4435,  0.    ,  0.4643, ...,  0.1478, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.2237,  0.    ],</span>
<span class="go">          [ 0.1372,  0.    ,  0.1436, ...,  0.0457,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.9553, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.8085,  0.    ,  0.1987],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.2955, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.0344, -0.    , -0.2732, ..., -0.087 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.3929,  0.    , ..., -0.    ,  0.1676,  0.    ],</span>
<span class="go">          [-0.0274, -0.    , -0.0845, ..., -0.0269,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.2389,  0.    , ...,  0.    ,  0.5622, -0.    ],</span>
<span class="go">          [ 0.7724,  0.    ,  0.8085, ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    , -0.7724,  0.    , ...,  0.    ,  0.1739, -0.    ]],</span>

<span class="go">         [[ 0.    , -0.484 ,  0.    , ..., -0.    ,  0.0425,  0.    ],</span>
<span class="go">          [-0.2872,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0796,  0.    , ..., -0.    ,  0.0131,  0.    ],</span>
<span class="go">          [ 1.    ,  0.    ,  0.9553, ..., -0.5622,  0.    , -0.9363],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2955, ..., -0.1739,  0.    , -0.2896]],</span>

<span class="go">         [[-0.4904, -0.    , -0.455 , ..., -0.1448,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0965,  0.    , ...,  0.    ,  0.2104,  0.    ],</span>
<span class="go">          [-0.1476, -0.    , -0.1407, ..., -0.0448,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0587,  0.    , ...,  0.    ,  0.9363,  0.    ],</span>
<span class="go">          [-0.1898, -0.    , -0.1987, ...,  0.9093, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.1898,  0.    , ...,  0.    ,  0.2896,  0.    ]]],</span>


<span class="go">        ...,</span>


<span class="go">        [[[-0.1571, -0.    , -0.286 , ..., -0.091 , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ...,  0.    ,  0.0723,  0.    ],</span>
<span class="go">          [ 0.3914,  0.    ,  0.3929, ...,  0.1251,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.5885,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.2614, -0.    , -0.0642],</span>
<span class="go">          [ 0.    ,  0.8085, -0.    , ...,  0.    , -0.8085, -0.    ]],</span>

<span class="go">         [[-0.    , -0.0644, -0.    , ..., -0.    ,  0.0495,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.3914, -0.    , ...,  0.    , -0.1601,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2389, ...,  0.    ,  0.    , -0.2687],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.    , -0.    ],</span>
<span class="go">          [-0.8085,  0.    , -0.7724, ...,  0.    , -0.    ,  0.8687]],</span>

<span class="go">         [[-0.2657, -0.    , -0.3893, ..., -0.1239, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.1316,  0.    ],</span>
<span class="go">          [ 0.3274,  0.    ,  0.2908, ...,  0.0926,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2389,  0.    , ...,  0.    ,  0.8011,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.4758, -0.    , -0.1169],</span>
<span class="go">          [ 0.    ,  0.7724,  0.    , ...,  0.    , -0.5985, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.0508,  0.    ,  0.0555, ...,  0.1478,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.1874, -0.    , ..., -0.    , -0.0986,  0.    ],</span>
<span class="go">          [ 0.2737,  0.    ,  0.3901, ...,  0.0457,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    , -0.9553, -0.    ],</span>
<span class="go">          [-0.2614, -0.    , -0.4758, ...,  0.    ,  0.    ,  0.5351],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    , -0.2955, -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.3492,  0.    , ...,  0.    ,  0.1478,  0.    ],</span>
<span class="go">          [ 0.4141,  0.    ,  0.3929, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.3445,  0.    , ...,  0.    ,  0.0457,  0.    ],</span>
<span class="go">          [-0.5885, -0.    , -0.8011, ...,  0.9553,  0.    ,  0.3976],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.8085,  0.    ,  0.5985, ...,  0.2955,  0.    ,  0.123 ]],</span>

<span class="go">         [[ 0.2864,  0.    ,  0.2936, ...,  0.0615,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0461,  0.    , ..., -0.    , -0.1238,  0.    ],</span>
<span class="go">          [ 0.0063, -0.    , -0.0008, ...,  0.019 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2687, -0.    , ...,  0.    , -0.3976,  0.    ],</span>
<span class="go">          [ 0.0642,  0.    ,  0.1169, ..., -0.5351, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.8687,  0.    , ...,  0.    , -0.123 ,  0.    ]]],</span>


<span class="go">        [[[ 0.    , -0.0235,  0.    , ...,  0.    , -0.0593,  0.    ],</span>
<span class="go">          [-0.143 ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0761,  0.    , ...,  0.    ,  0.1916,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.0873, ..., -0.2797, -0.    , -0.0295],</span>
<span class="go">          [ 0.    , -0.2955, -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.2823, ...,  0.904 , -0.    ,  0.0954]],</span>

<span class="go">         [[-0.486 , -0.    , -0.4643, ..., -0.1478, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.067 ,  0.    , ...,  0.    ,  0.2237,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.1436, ..., -0.0457,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.9553,  0.    ],</span>
<span class="go">          [ 0.2955,  0.    ,  0.    , ...,  0.8085, -0.    , -0.1987],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.2955,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.0198,  0.    , ...,  0.    , -0.0661,  0.    ],</span>
<span class="go">          [-0.1436,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.064 ,  0.    , ...,  0.    ,  0.2137,  0.    ],</span>
<span class="go">          [-0.0873,  0.    ,  0.    , ..., -0.2389, -0.    ,  0.0587],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.2823, -0.    ,  0.    , ...,  0.7724, -0.    , -0.1898]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.2899, -0.    , ...,  0.    ,  0.2117,  0.    ],</span>
<span class="go">          [ 0.0685, -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3252, -0.    , ..., -0.    , -0.0723,  0.    ],</span>
<span class="go">          [ 0.2797, -0.    ,  0.2389, ...,  0.    ,  0.    , -0.188 ],</span>
<span class="go">          [ 0.    , -0.8085,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.904 , -0.    , -0.7724, ...,  0.    ,  0.    ,  0.0642]],</span>

<span class="go">         [[-0.0357, -0.    , -0.0661, ...,  0.0495, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2237,  0.    , ..., -0.    , -0.2237,  0.    ],</span>
<span class="go">          [ 0.0486,  0.    ,  0.2137, ..., -0.1601,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9553,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    ,  0.1987],</span>
<span class="go">          [ 0.    , -0.2955,  0.    , ..., -0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    ,  0.049 , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.0962,  0.    ,  0.0965, ...,  0.0307, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.008 ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.0295, -0.    , -0.0587, ...,  0.188 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.1987, -0.    , ...,  0.    , -0.1987,  0.    ],</span>
<span class="go">          [-0.0954, -0.    ,  0.1898, ..., -0.0642,  0.    ,  0.    ]]],</span>


<span class="go">        [[[-0.4835, -0.    , -0.4763, ..., -0.1516, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.2226,  0.    ],</span>
<span class="go">          [-0.0962,  0.    , -0.0965, ..., -0.0307,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.9801,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.8045, -0.    , -0.1977],</span>
<span class="go">          [ 0.    , -0.1987, -0.    , ...,  0.    ,  0.1987,  0.    ]],</span>

<span class="go">         [[-0.    ,  0.0158, -0.    , ..., -0.    ,  0.0622,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0962, -0.    , ..., -0.    , -0.201 ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.0587, ...,  0.2687,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ],</span>
<span class="go">          [ 0.1987,  0.    ,  0.1898, ..., -0.8687,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.4335, -0.    , -0.4265, ..., -0.1358, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.2192,  0.    ],</span>
<span class="go">          [-0.2348, -0.    , -0.233 , ..., -0.0742,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0587,  0.    , ...,  0.    ,  0.8776,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.7924, -0.    , -0.1947],</span>
<span class="go">          [ 0.    , -0.1898,  0.    , ...,  0.    ,  0.4794,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.0262,  0.    ,  0.0234, ...,  0.0074, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3958, -0.    , ...,  0.    , -0.1642,  0.    ],</span>
<span class="go">          [ 0.8781,  0.    ,  0.8728, ...,  0.2779,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2687, -0.    , ...,  0.    , -0.0481,  0.    ],</span>
<span class="go">          [-0.8045, -0.    , -0.7924, ...,  0.    , -0.    ,  0.8912],</span>
<span class="go">          [-0.    ,  0.8687, -0.    , ...,  0.    , -1.7961, -0.    ]],</span>

<span class="go">         [[-0.    ,  0.4586, -0.    , ...,  0.    , -0.1686,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.1742,  0.    , ...,  0.    ,  0.3976,  0.    ],</span>
<span class="go">          [-0.9801, -0.    , -0.8776, ...,  0.0481,  0.    ,  0.9752],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.1987, -0.    , -0.4794, ...,  1.7961,  0.    ,  0.0978]],</span>

<span class="go">         [[ 0.4811,  0.    ,  0.4739, ...,  0.1509, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0973, -0.    , ..., -0.    , -0.2062,  0.    ],</span>
<span class="go">          [ 0.0483,  0.    ,  0.0475, ...,  0.0151,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.9752,  0.    ],</span>
<span class="go">          [ 0.1977,  0.    ,  0.1947, ..., -0.8912,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    , -0.0978,  0.    ]]]],</span>



<span class="go">       ...,</span>



<span class="go">       [[[[ 0.1547,  0.    ,  0.1478, ..., -0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.1676,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.3233, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.0457, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.9463, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ]],</span>

<span class="go">         [[ 0.1478,  0.    ,  0.1547, ..., -0.091 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.1601,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.5885, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.8687],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.05  , -0.    , -0.091 , ...,  0.1547,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.0542,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -1.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.294 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.2318,  0.    , ...,  0.    ,  0.1547,  0.    ],</span>
<span class="go">          [ 0.4581,  0.    ,  0.5056, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.3233, -0.    , -0.5885, ...,  1.    ,  0.    ,  0.4161],</span>
<span class="go">          [-0.    ,  0.9463, -0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.1539, -0.    , -0.1516, ...,  0.0644,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.4401,  0.    , ..., -0.    , -0.068 ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.4161,  0.    ],</span>
<span class="go">          [ 0.9093,  0.    ,  0.8687, ..., -0.294 ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.0457, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.9463, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ]],</span>

<span class="go">         [[ 0.1547,  0.    ,  0.1478, ..., -0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.0457, ..., -0.1464, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.3233, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.9463,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.0495,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.1601,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.2687],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.8687]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.    , -0.    , -0.    , ...,  0.    , -0.1586,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.0542,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.8605],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.294 ]],</span>

<span class="go">         [[-0.2358, -0.    , -0.3049, ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.4838, -0.    , -0.5056, ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.3233, -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.9463,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9463,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.0724, -0.    , ...,  0.    , -0.1991,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.4401, -0.    , ...,  0.    ,  0.068 ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.2687, ..., -0.8605, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.8687, ...,  0.294 , -0.    , -0.    ]]],</span>


<span class="go">        [[[ 0.1478,  0.    ,  0.1547, ..., -0.091 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.1601,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.5885, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.8687],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.0495,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.1601,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.2687],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.8687]],</span>

<span class="go">         [[ 0.1412,  0.    ,  0.1478, ..., -0.087 ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.1676,  0.    ],</span>
<span class="go">          [ 0.0437,  0.    ,  0.0457, ..., -0.0269,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.5622, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.1739, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.0478, -0.    , -0.087 , ...,  0.1478,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.0986,  0.    ],</span>
<span class="go">          [-0.0148, -0.    , -0.0269, ...,  0.0457,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.9553, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.5351],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.2955, -0.    ]],</span>

<span class="go">         [[ 0.    ,  0.2849,  0.    , ...,  0.    ,  0.1478,  0.    ],</span>
<span class="go">          [ 0.4141,  0.    ,  0.3929, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0469,  0.    , ...,  0.    ,  0.0457,  0.    ],</span>
<span class="go">          [-0.5885, -0.    , -0.5622, ...,  0.9553,  0.    ,  0.3976],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.1739, ...,  0.2955,  0.    ,  0.123 ]],</span>

<span class="go">         [[-0.017 , -0.    , -0.1448, ...,  0.0615,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.4419,  0.    , ..., -0.    , -0.1238,  0.    ],</span>
<span class="go">          [-0.0241, -0.    , -0.0448, ...,  0.019 ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.2687,  0.    , ...,  0.    , -0.3976,  0.    ],</span>
<span class="go">          [ 0.8687,  0.    ,  0.9093, ..., -0.5351, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.8687,  0.    , ...,  0.    , -0.123 ,  0.    ]]],</span>


<span class="go">        ...,</span>


<span class="go">        [[[-0.05  , -0.    , -0.091 , ...,  0.1547,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.0542,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -1.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.294 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.    , -0.    , ...,  0.    , -0.1586,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.0542,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.8605],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    , -0.294 ]],</span>

<span class="go">         [[-0.0478, -0.    , -0.087 , ...,  0.1478,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.0986,  0.    ],</span>
<span class="go">          [-0.0148, -0.    , -0.0269, ...,  0.0457,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.9553, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.5351],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.2955, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.0162,  0.    ,  0.0294, ..., -0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.1676,  0.    ],</span>
<span class="go">          [ 0.0473,  0.    ,  0.0861, ..., -0.1464, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.3233, -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.9463,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.484 ,  0.    , ..., -0.    , -0.05  ,  0.    ],</span>
<span class="go">          [ 0.2928,  0.    ,  0.2501, ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0796, -0.    , ..., -0.    , -0.1464,  0.    ],</span>
<span class="go">          [ 1.    ,  0.    ,  0.9553, ..., -0.3233,  0.    , -0.1345],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2955, ..., -0.9463,  0.    , -0.3938]],</span>

<span class="go">         [[-0.3667, -0.    , -0.4107, ..., -0.0208,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.2108,  0.    , ..., -0.    ,  0.2104,  0.    ],</span>
<span class="go">          [ 0.4286,  0.    ,  0.4207, ..., -0.0609, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.8605,  0.    , ...,  0.    ,  0.1345,  0.    ],</span>
<span class="go">          [-0.294 , -0.    , -0.5351, ...,  0.9093,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.294 ,  0.    , ..., -0.    ,  0.3938,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.0754,  0.    , ...,  0.    ,  0.1898,  0.    ],</span>
<span class="go">          [ 0.4581,  0.    ,  0.5056, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0257, -0.    , ..., -0.    , -0.0648,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.2797, ...,  0.8955,  0.    ,  0.0945],</span>
<span class="go">          [ 0.    ,  0.9463,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.0955, ..., -0.3059,  0.    , -0.0323]],</span>

<span class="go">         [[-0.1547, -0.    , -0.1478, ...,  0.05  ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.4323,  0.    , ...,  0.    , -0.1676,  0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.0457, ...,  0.1464,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.3233,  0.    ],</span>
<span class="go">          [-0.9463,  0.    , -0.8085, ..., -0.    , -0.    ,  0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.9463, -0.    ]],</span>

<span class="go">         [[ 0.    , -0.0634,  0.    , ...,  0.    ,  0.2117,  0.    ],</span>
<span class="go">          [ 0.3456,  0.    ,  0.3929, ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0217, -0.    , ..., -0.    , -0.0723,  0.    ],</span>
<span class="go">          [ 0.2797,  0.    ,  0.    , ...,  0.7651,  0.    , -0.188 ],</span>
<span class="go">          [-0.    ,  0.8085,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.0955, -0.    ,  0.    , ..., -0.2614,  0.    ,  0.0642]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.    ,  0.4091, -0.    , ..., -0.    , -0.1586,  0.    ],</span>
<span class="go">          [ 0.1464, -0.    ,  0.1251, ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.1398,  0.    , ..., -0.    ,  0.0542,  0.    ],</span>
<span class="go">          [-0.8955, -0.    , -0.7651, ...,  0.    ,  0.    ,  0.8605],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.3059,  0.    ,  0.2614, ...,  0.    ,  0.    , -0.294 ]],</span>

<span class="go">         [[ 0.501 ,  0.    ,  0.5166, ..., -0.1586,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.1676,  0.    , ...,  0.    ,  0.1676,  0.    ],</span>
<span class="go">          [ 0.3932,  0.    ,  0.4333, ...,  0.0542, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.3233, -0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.    , -0.9093],</span>
<span class="go">          [-0.    ,  0.9463, -0.    , ..., -0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.2116, -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.4401, -0.    , -0.4419, ..., -0.1407,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0887,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0945, -0.    ,  0.188 , ..., -0.8605,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.9093,  0.    , ...,  0.    ,  0.9093, -0.    ],</span>
<span class="go">          [ 0.0323,  0.    , -0.0642, ...,  0.294 , -0.    , -0.    ]]],</span>


<span class="go">        [[[-0.1539, -0.    , -0.1516, ...,  0.0644,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.1667,  0.    ],</span>
<span class="go">          [ 0.4401,  0.    ,  0.4419, ...,  0.1407,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    , -0.4161,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.9048],</span>
<span class="go">          [ 0.    ,  0.9093, -0.    , ..., -0.    , -0.9093, -0.    ]],</span>

<span class="go">         [[-0.    , -0.0724, -0.    , ..., -0.    , -0.1991,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.4401,  0.    , ...,  0.    ,  0.068 ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2687, ..., -0.8605, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.9093,  0.    , -0.8687, ...,  0.294 , -0.    , -0.    ]],</span>

<span class="go">         [[-0.2771, -0.    , -0.2754, ...,  0.0199,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    , -0.1642,  0.    ],</span>
<span class="go">          [ 0.375 ,  0.    ,  0.3773, ...,  0.1534,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.2687,  0.    , ...,  0.    , -0.1288,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.8912],</span>
<span class="go">          [ 0.    ,  0.8687,  0.    , ..., -0.    , -0.9917, -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.4663,  0.    ,  0.4672, ...,  0.1123,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    ,  0.0697,  0.    ],</span>
<span class="go">          [ 0.0034, -0.    ,  0.0006, ..., -0.1064, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.8605, -0.    , ...,  0.    , -0.7259, -0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    , -0.3784],</span>
<span class="go">          [ 0.    , -0.294 ,  0.    , ...,  0.    ,  0.6878,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.129 ,  0.    , ...,  0.    ,  0.2443,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.4733,  0.    , ..., -0.    , -0.1515,  0.    ],</span>
<span class="go">          [ 0.4161,  0.    ,  0.1288, ...,  0.7259,  0.    , -0.4141],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.9093,  0.    ,  0.9917, ..., -0.6878,  0.    , -0.0415]],</span>

<span class="go">         [[ 0.1532,  0.    ,  0.1509, ..., -0.0641,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.4452, -0.    , ...,  0.    ,  0.0876,  0.    ],</span>
<span class="go">          [ 0.0154, -0.    ,  0.0151, ..., -0.0064, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.4141,  0.    ],</span>
<span class="go">          [-0.9048, -0.    , -0.8912, ...,  0.3784, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.0415,  0.    ]]]],</span>



<span class="go">       [[[[-0.    , -0.1086, -0.    , ...,  0.    ,  0.1086,  0.    ],</span>
<span class="go">          [-0.2006, -0.    , -0.2237, ...,  0.1676, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2006, -0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.0444, -0.    , ...,  0.    ,  0.0444,  0.    ],</span>
<span class="go">          [-0.1916, -0.    , -0.2137, ...,  0.1601, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9801],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.1547,  0.    , ...,  0.    ,  0.1547,  0.    ],</span>
<span class="go">          [ 0.0648,  0.    ,  0.0723, ..., -0.0542, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.4161],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2006, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    , -0.4016,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.1512,  0.    ,  0.1741, ..., -0.1822, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.995 ,  0.    ,  0.9801, ..., -0.4161,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0998, -0.    , ...,  0.    ,  0.0998,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.2006, -0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    , -0.1086, -0.    , ...,  0.    ,  0.1086,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.2006,  0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.0998]],</span>

<span class="go">         [[-0.0593, -0.    , -0.0661, ...,  0.0495, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.1916,  0.    ,  0.2137, ..., -0.1601,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.1898,  0.    ,  0.2117, ..., -0.1586,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0648, -0.    , -0.0723, ...,  0.0542,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    ,  0.1086, -0.    , ..., -0.    , -0.1086,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.2006,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.0998]],</span>

<span class="go">         [[ 0.4937,  0.    ,  0.5059, ...,  0.1372, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.072 , -0.    , -0.1741, ...,  0.1822,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.995 ,  0.    , ..., -0.    , -0.995 ,  0.    ],</span>
<span class="go">          [-0.0998, -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.0998,  0.    , ..., -0.    , -0.0998,  0.    ]]],</span>


<span class="go">        [[[-0.    , -0.0444, -0.    , ...,  0.    ,  0.0444,  0.    ],</span>
<span class="go">          [-0.1916, -0.    , -0.2137, ...,  0.1601, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9801],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.0593, -0.    , -0.0661, ...,  0.0495, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.1916,  0.    ,  0.2137, ..., -0.1601,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    , -0.0425, -0.    , ...,  0.    ,  0.0425,  0.    ],</span>
<span class="go">          [-0.2006, -0.    , -0.2237, ...,  0.1676, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0131,  0.    , ...,  0.    ,  0.0131,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9363],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.2896]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.1478,  0.    , ...,  0.    ,  0.1478,  0.    ],</span>
<span class="go">          [ 0.118 ,  0.    ,  0.1316, ..., -0.0986, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0457, -0.    , ...,  0.    ,  0.0457,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.3976],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.123 ]],</span>

<span class="go">         [[-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2237, -0.    , ..., -0.    , -0.2237,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.1987],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    , -0.3903,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.1481,  0.    ,  0.3158, ..., -0.1335, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.052 ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.9801,  0.    ,  0.9363, ..., -0.3976,  0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.    , -0.    , ..., -0.    , -0.1987,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.2896, ..., -0.123 ,  0.    ,  0.    ]]],</span>


<span class="go">        ...,</span>


<span class="go">        [[[ 0.    , -0.1547,  0.    , ...,  0.    ,  0.1547,  0.    ],</span>
<span class="go">          [ 0.0648,  0.    ,  0.0723, ..., -0.0542, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.4161],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[ 0.1898,  0.    ,  0.2117, ..., -0.1586,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.0648, -0.    , -0.0723, ...,  0.0542,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.1478,  0.    , ...,  0.    ,  0.1478,  0.    ],</span>
<span class="go">          [ 0.118 ,  0.    ,  0.1316, ..., -0.0986, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0457, -0.    , ...,  0.    ,  0.0457,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.3976],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.123 ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.    ,  0.05  , -0.    , ...,  0.    , -0.05  ,  0.    ],</span>
<span class="go">          [-0.2006, -0.    , -0.2237, ...,  0.1676,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.1464,  0.    , ..., -0.    , -0.1464,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.1345],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.3938]],</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.1676,  0.    , ...,  0.    ,  0.1676,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    ,  0.173 , -0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0989, -0.    , -0.0624, ..., -0.0709,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0501,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.4161, -0.    , -0.3976, ...,  0.1345,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    ,  0.9093, -0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.123 , ...,  0.3938, -0.    , -0.    ]]],</span>


<span class="go">        [[[-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2006, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.0998],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    ,  0.1086, -0.    , ..., -0.    , -0.1086,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.2006,  0.    , ...,  0.    ,  0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.0998]],</span>

<span class="go">         [[-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2237, -0.    , ..., -0.    , -0.2237,  0.    ],</span>
<span class="go">          [ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.1987],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    , -0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.1676,  0.    , ...,  0.    ,  0.1676,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.9093],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    , -0.1086,  0.    , ...,  0.    ,  0.1086,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.2006, -0.    , ..., -0.    , -0.2006,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.995 ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    , -0.0998]],</span>

<span class="go">         [[-0.5217, -0.    , -0.5282, ..., -0.1205,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.2413,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [ 0.3508,  0.    ,  0.3966, ..., -0.3489, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.995 ,  0.    , ...,  0.    ,  0.995 ,  0.    ],</span>
<span class="go">          [ 0.0998,  0.    , -0.1987, ...,  0.9093, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0998,  0.    , ..., -0.    ,  0.0998,  0.    ]]],</span>


<span class="go">        [[[-0.    ,  0.0801, -0.    , ..., -0.    , -0.108 ,  0.    ],</span>
<span class="go">          [ 0.1512,  0.    ,  0.1741, ..., -0.1822, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0792,  0.    , ...,  0.    ,  0.1996,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.0295, ..., -0.0945,  0.    ,  0.99  ],</span>
<span class="go">          [ 0.    , -0.0998, -0.    , ...,  0.    ,  0.0998, -0.    ],</span>
<span class="go">          [ 0.    , -0.    , -0.294 , ...,  0.9416, -0.    ,  0.0993]],</span>

<span class="go">         [[ 0.02  ,  0.    ,  0.0223, ..., -0.0167, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0309,  0.    , ...,  0.    ,  0.2104,  0.    ],</span>
<span class="go">          [-0.1996, -0.    , -0.2226, ...,  0.1667,  0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    , -0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.0998,  0.    , -0.1987, ...,  0.9093, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[-0.    ,  0.0908,  0.    , ..., -0.    , -0.1064,  0.    ],</span>
<span class="go">          [ 0.2927,  0.    ,  0.3158, ..., -0.1335, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    , -0.0406,  0.    , ...,  0.    ,  0.1966,  0.    ],</span>
<span class="go">          [-0.0295,  0.    ,  0.    , ..., -0.0807, -0.    ,  0.9752],</span>
<span class="go">          [ 0.    ,  0.1987,  0.    , ..., -0.    , -0.1987, -0.    ],</span>
<span class="go">          [ 0.294 , -0.    ,  0.    , ...,  0.8045,  0.    ,  0.0978]],</span>

<span class="go">         ...,</span>

<span class="go">         [[-0.    , -0.0716, -0.    , ..., -0.    ,  0.0452,  0.    ],</span>
<span class="go">          [-0.5236, -0.    , -0.535 , ..., -0.0709, -0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.3469,  0.    , ...,  0.    , -0.0835,  0.    ],</span>
<span class="go">          [ 0.0945, -0.    ,  0.0807, ...,  0.    ,  0.    , -0.4141],</span>
<span class="go">          [-0.    , -0.9093,  0.    , ...,  0.    ,  0.9093,  0.    ],</span>
<span class="go">          [-0.9416, -0.    , -0.8045, ...,  0.    , -0.    , -0.0415]],</span>

<span class="go">         [[-0.02  , -0.    , -0.0223, ...,  0.0167, -0.    ,  0.    ],</span>
<span class="go">          [-0.    , -0.0309, -0.    , ..., -0.    , -0.2104,  0.    ],</span>
<span class="go">          [ 0.1996,  0.    ,  0.2226, ..., -0.1667, -0.    ,  0.    ],</span>
<span class="go">          [-0.    ,  0.    ,  0.    , ..., -0.    ,  0.    , -0.    ],</span>
<span class="go">          [-0.0998,  0.    ,  0.1987, ..., -0.9093,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    , -0.    , ...,  0.    ,  0.    , -0.    ]],</span>

<span class="go">         [[-0.    ,  0.3996, -0.    , ...,  0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.2006, -0.    , -0.2237, ...,  0.1676,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.0401,  0.    , ..., -0.    , -0.    ,  0.    ],</span>
<span class="go">          [-0.99  , -0.    , -0.9752, ...,  0.4141,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ..., -0.    ,  0.    ,  0.    ],</span>
<span class="go">          [-0.0993, -0.    , -0.0978, ...,  0.0415,  0.    ,  0.    ]]]],</span>



<span class="go">       [[[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        ...,</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]]],</span>


<span class="go">        [[[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         ...,</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]],</span>

<span class="go">         [[ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ],</span>
<span class="go">          [ 0.    ,  0.    ,  0.    , ...,  0.    ,  0.    ,  0.    ]]]]])</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part II:
Acceleration and Advanced Applications.” arXiv preprint arXiv:2207.01794 (2022).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.pay">
<span class="sig-name descname"><span class="pre">pay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.pay" title="Permalink to this definition"></a></dt>
<dd><p>Generalised joint force/torque due to a payload wrench</p>
<p>tau = pay(W, J) Returns the generalised joint force/torques due to a
payload wrench W applied to the end-effector. Where the manipulator
Jacobian is J (6xn), and n is the number of robot joints.</p>
<p>tau = pay(W, q, frame) as above but the Jacobian is calculated at pose
q in the frame given by frame which is 0 for base frame, 1 for
end-effector frame.</p>
<p>Uses the formula tau = J’W, where W is a wrench vector applied at the
end effector, W = [Fx Fy Fz Mx My Mz]’.</p>
<dl class="simple">
<dt>Trajectory operation:</dt><dd><p>In the case q is nxm or J is 6xnxm then tau is nxm where each row
is the generalised force/torque at the pose given by corresponding
row of q.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – A wrench vector applied at the end effector,
W = [Fx Fy Fz Mx My Mz]</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – Joint coordinates</p></li>
<li><p><strong>J</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – The manipulator Jacobian (Optional, if not supplied will
use the q value).</p></li>
<li><p><strong>frame</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The frame in which to torques are expressed in when J
is not supplied. 0 means base frame of the robot, 1 means end-
effector frame</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Joint forces/torques due to w</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>t</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Wrench vector and Jacobian must be from the same reference</dt><dd><p>frame.</p>
</dd>
</dl>
</li>
<li><p>Tool transforms are taken into consideration when frame=1.</p></li>
<li><dl class="simple">
<dt>Must have a constant wrench - no trajectory support for this</dt><dd><p>yet.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.paycap">
<span class="sig-name descname"><span class="pre">paycap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tauR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.paycap" title="Permalink to this definition"></a></dt>
<dd><p>Static payload capacity of a robot</p>
<p><code class="docutils literal notranslate"><span class="pre">wmax,</span> <span class="pre">joint</span> <span class="pre">=</span> <span class="pre">paycap(q,</span> <span class="pre">w,</span> <span class="pre">f,</span> <span class="pre">tauR)</span></code> returns the maximum permissible
payload wrench <code class="docutils literal notranslate"><span class="pre">wmax</span></code> (6) applied at the end-effector, and the index
of the joint (zero indexed) which hits its force/torque limit at that
wrench. <code class="docutils literal notranslate"><span class="pre">q</span></code> (n) is the manipulator pose, <code class="docutils literal notranslate"><span class="pre">w</span></code> the payload wrench
(6), <code class="docutils literal notranslate"><span class="pre">f</span></code> the wrench reference frame and tauR (nx2) is a matrix of
joint forces/torques (first col is maximum, second col minimum).</p>
<p><strong>Trajectory operation:</strong></p>
<p>In the case q is nxm then wmax is Mx6 and J is Mx1 where the rows are
the results at the pose given by corresponding row of q.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – The payload wrench</p></li>
<li><p><strong>tauR</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint torque matrix minimum and maximums</p></li>
<li><p><strong>frame</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The frame in which to torques are expressed in when J
is not supplied. ‘base’ means base frame of the robot, ‘ee’ means
end-effector frame</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Joint coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum permissible payload wrench</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(6)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Wrench vector and Jacobian must be from the same reference frame</p></li>
<li><p>Tool transforms are taken into consideration for frame=1.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0])</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.payload" title="Permalink to this definition"></a></dt>
<dd><p>Add a payload to the end-effector</p>
<p>payload(m, p) adds payload mass adds a payload with point mass m at
position p in the end-effector coordinate frame.</p>
<p>payload(m) adds payload mass adds a payload with point mass m at
in the end-effector coordinate frame.</p>
<p>payload(0) removes added payload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – mass (kg)</p></li>
<li><p><strong>p</strong> – position in end-effector frame</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.perturb">
<span class="sig-name descname"><span class="pre">perturb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.perturb" title="Permalink to this definition"></a></dt>
<dd><p>Perturb robot parameters</p>
<p>rp = perturb(p) is a new robot object in which the dynamic parameters
(link mass and inertia) have been perturbed. The perturbation is
multiplicative so that values are multiplied by random numbers in the
interval (1-p) to (1+p). The name string of the perturbed robot is
prefixed by ‘P/’.</p>
<p>Useful for investigating the robustness of various model-based control
schemes. For example to vary parameters in the range +/- 10 percent
is: r2 = puma.perturb(0.1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>p</strong> – The percent (+/-) to be perturbed. Default 10%</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the robot with dynamic parameters perturbed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="arm_dh.html#roboticstoolbox.robot.DHRobot.DHRobot" title="roboticstoolbox.robot.DHRobot.DHRobot">DHRobot</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.plot" title="Permalink to this definition"></a></dt>
<dd><p>Graphical display and animation</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot(q,</span> <span class="pre">'pyplot')</span></code> displays a graphical view of a robot
based on the kinematic model and the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code>.
This is a stick figure polyline which joins the origins of the
link coordinate frames. The plot will autoscale with an aspect
ratio of 1.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> (m,n) representing a joint-space trajectory it will create an
animation with a pause of <code class="docutils literal notranslate"><span class="pre">dt</span></code> seconds between each frame.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id45">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id45" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.backend">
<span class="sig-name descname"><span class="pre">backend</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.backend" title="Permalink to this definition"></a></dt>
<dd><p>The graphical backend to use, currently ‘swift’
and ‘pyplot’ are implemented. Defaults to ‘swift’ of a <code class="docutils literal notranslate"><span class="pre">Robot</span></code>
and ‘pyplot` for a <code class="docutils literal notranslate"><span class="pre">DHRobot</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.block">
<span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.block" title="Permalink to this definition"></a></dt>
<dd><p>Block operation of the code and keep the figure open</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.dt">
<span class="sig-name descname"><span class="pre">dt</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.dt" title="Permalink to this definition"></a></dt>
<dd><p>if q is a trajectory, this describes the delay in
seconds between frames</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.limits">
<span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.limits" title="Permalink to this definition"></a></dt>
<dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]
(this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.vellipse">
<span class="sig-name descname"><span class="pre">vellipse</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.vellipse" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the velocity ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id46">
<span class="sig-name descname"><span class="pre">fellipse</span></span><a class="headerlink" href="#id46" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the force ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.fig">
<span class="sig-name descname"><span class="pre">fig</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.fig" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) The figure label to plot in (this option is for
‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.movie">
<span class="sig-name descname"><span class="pre">movie</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.movie" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) The filename to save the movie to (this option is for
‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.loop">
<span class="sig-name descname"><span class="pre">loop</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.loop" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Loop the movie (this option is for
‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.jointaxes">
<span class="sig-name descname"><span class="pre">jointaxes</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.jointaxes" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint) (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.eeframe">
<span class="sig-name descname"><span class="pre">eeframe</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.eeframe" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.
(this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.shadow">
<span class="sig-name descname"><span class="pre">shadow</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.shadow" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane. (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id47">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#id47" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the name of the robot near its base
(this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A reference to the environment object which controls the
figure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default this method will block until the figure is dismissed.</dt><dd><p>To avoid this set <code class="docutils literal notranslate"><span class="pre">block=False</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>For PyPlot, the polyline joins the origins of the link frames,</dt><dd><p>but for some Denavit-Hartenberg models those frames may not
actually be on the robot, ie. the lines to not neccessarily
represent the links of the robot.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.teach" title="roboticstoolbox.robot.Robot.Robot.teach"><code class="xref py py-func docutils literal notranslate"><span class="pre">teach()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.plot_ellipse">
<span class="sig-name descname"><span class="pre">plot_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ellipse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointaxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eeframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shadow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.plot_ellipse" title="Permalink to this definition"></a></dt>
<dd><p>Plot the an ellipsoid</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_ellipse(ellipsoid)</span></code> displays the ellipsoid.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.ellipse">
<span class="sig-name descname"><span class="pre">ellipse</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.ellipse" title="Permalink to this definition"></a></dt>
<dd><p>the ellipsoid to plot</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id48">
<span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#id48" title="Permalink to this definition"></a></dt>
<dd><p>Block operation of the code and keep the figure open</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id49">
<span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#id49" title="Permalink to this definition"></a></dt>
<dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id50">
<span class="sig-name descname"><span class="pre">jointaxes</span></span><a class="headerlink" href="#id50" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id51">
<span class="sig-name descname"><span class="pre">eeframe</span></span><a class="headerlink" href="#id51" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id52">
<span class="sig-name descname"><span class="pre">shadow</span></span><a class="headerlink" href="#id52" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id53">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#id53" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the name of the robot near its base</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.plot_fellipse">
<span class="sig-name descname"><span class="pre">plot_fellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointaxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eeframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shadow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.plot_fellipse" title="Permalink to this definition"></a></dt>
<dd><p>Plot the force ellipsoid for manipulator</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_fellipse(q)</span></code> displays the velocity ellipsoid for the
robot at pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The plot will autoscale with an aspect ratio
of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_fellipse(vellipse)</span></code> specifies a custon ellipse to plot.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id54">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id54" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id55">
<span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#id55" title="Permalink to this definition"></a></dt>
<dd><p>Block operation of the code and keep the figure open</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id56">
<span class="sig-name descname"><span class="pre">fellipse</span></span><a class="headerlink" href="#id56" title="Permalink to this definition"></a></dt>
<dd><p>the vellocity ellipsoid to plot</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id57">
<span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#id57" title="Permalink to this definition"></a></dt>
<dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id58">
<span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#id58" title="Permalink to this definition"></a></dt>
<dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational force ellipsoid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id59">
<span class="sig-name descname"><span class="pre">centre</span></span><a class="headerlink" href="#id59" title="Permalink to this definition"></a></dt>
<dd><p>The coordinates to plot the fellipse [x, y, z] or “ee”
to plot at the end-effector location</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id60">
<span class="sig-name descname"><span class="pre">jointaxes</span></span><a class="headerlink" href="#id60" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id61">
<span class="sig-name descname"><span class="pre">eeframe</span></span><a class="headerlink" href="#id61" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id62">
<span class="sig-name descname"><span class="pre">shadow</span></span><a class="headerlink" href="#id62" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id63">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#id63" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the name of the robot near its base</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – q or fellipse must be supplied</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.plot_vellipse">
<span class="sig-name descname"><span class="pre">plot_vellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointaxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eeframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shadow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.plot_vellipse" title="Permalink to this definition"></a></dt>
<dd><p>Plot the velocity ellipsoid for manipulator</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_vellipse(q)</span></code> displays the velocity ellipsoid for the
robot at pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The plot will autoscale with an aspect ratio
of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_vellipse(vellipse)</span></code> specifies a custon ellipse to plot.</p>
<dl class="simple">
<dt>block</dt><dd><p>Block operation of the code and keep the figure open</p>
</dd>
<dt>q</dt><dd><p>The joint configuration of the robot</p>
</dd>
<dt>vellipse</dt><dd><p>the vellocity ellipsoid to plot</p>
</dd>
<dt>limits</dt><dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd>
<dt>opt</dt><dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational velocity ellipsoid</p>
</dd>
<dt>centre</dt><dd><p>The coordinates to plot the vellipse [x, y, z] or “ee”
to plot at the end-effector location</p>
</dd>
<dt>jointaxes</dt><dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint)</p>
</dd>
<dt>eeframe</dt><dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.</p>
</dd>
<dt>shadow</dt><dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane</p>
</dd>
<dt>name</dt><dd><p>(Plot Option) Plot the name of the robot near its base</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – q or fellipse must be supplied</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.prismaticjoints">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prismaticjoints</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.prismaticjoints" title="Permalink to this definition"></a></dt>
<dd><p>Revolute joints as bool array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array of joint type, True if prismatic</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>prismaticjoints</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fixed joints, that maintain a constant link relative pose,
are not included.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isprismatic()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.revolutejoints" title="roboticstoolbox.robot.Robot.Robot.revolutejoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">revolutejoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id64">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">q</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#id64" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot joint configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.q</span></code> is the robot joint configuration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.q</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint configuration</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> – the new robot joint configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot joint configuration</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>q</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.qd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.qd" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot joint velocity</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qd</span></code> is the robot joint velocity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qd</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint velocity</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot joint velocity</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qd</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.qdd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qdd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.qdd" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot joint acceleration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qdd</span></code> is the robot joint acceleration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qdd</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot joint acceleration</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot joint acceleration</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qdd</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.qlim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qlim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.qlim" title="Permalink to this definition"></a></dt>
<dd><p>Joint limits</p>
<p>Limits are extracted from the link objects.  If joints limits are
not set for:</p>
<ul class="simple">
<li><p>a revolute joint [-𝜋. 𝜋] is returned</p></li>
<li><p>a prismatic joint an exception is raised</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="id65">
<span class="sig-name descname"><span class="pre">qlim</span></span><a class="headerlink" href="#id65" title="Permalink to this definition"></a></dt>
<dd><p>An array of joints limits (2, n)</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – unset limits for a prismatic joint</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of joint limit values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>qlim</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">qlim</span>
<span class="go">array([[-2.7925, -1.9199, -2.3562, -4.6426, -1.7453, -4.6426],</span>
<span class="go">       [ 2.7925,  1.9199,  2.3562,  4.6426,  1.7453,  4.6426]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.random_q">
<span class="sig-name descname"><span class="pre">random_q</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.random_q" title="Permalink to this definition"></a></dt>
<dd><p>Return a random joint configuration</p>
<p>The value for each joint is uniform randomly distributed  between the
limits set for the robot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The joint limit for all joints must be set.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Random joint configuration :rtype: ndarray(n)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>q</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#id65" title="roboticstoolbox.robot.Robot.Robot.qlim"><code class="xref py py-func docutils literal notranslate"><span class="pre">Robot.qlim()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Link.qlim()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.revolutejoints">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">revolutejoints</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.revolutejoints" title="Permalink to this definition"></a></dt>
<dd><p>Revolute joints as bool array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array of joint type, True if revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>revolutejoints</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fixed joints, that maintain a constant link relative pose,
are not included.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isrevolute()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.prismaticjoints" title="roboticstoolbox.robot.Robot.Robot.prismaticjoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">prismaticjoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.scene_children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.scene_children" title="Permalink to this definition"></a></dt>
<dd><p>Returns the child nodes of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.scene_parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.11)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.scene_parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns the parent node of this object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.segments">
<span class="sig-name descname"><span class="pre">segments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.segments" title="Permalink to this definition"></a></dt>
<dd><p>Segments of branched robot</p>
<p>For a single-chain robot with structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L1</span> <span class="o">-</span> <span class="n">L2</span> <span class="o">-</span> <span class="n">L3</span>
</pre></div>
</div>
<p>the return is <code class="docutils literal notranslate"><span class="pre">[[None,</span> <span class="pre">L1,</span> <span class="pre">L2,</span> <span class="pre">L3]]</span></code></p>
<p>For a robot with structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L1</span> <span class="o">-</span> <span class="n">L2</span> <span class="o">+-</span>  <span class="n">L3</span> <span class="o">-</span> <span class="n">L4</span>
        <span class="o">+-</span> <span class="n">L5</span> <span class="o">-</span> <span class="n">L6</span>
</pre></div>
</div>
<p>the return is <code class="docutils literal notranslate"><span class="pre">[[None,</span> <span class="pre">L1,</span> <span class="pre">L2],</span> <span class="pre">[L2,</span> <span class="pre">L3,</span> <span class="pre">L4],</span> <span class="pre">[L2,</span> <span class="pre">L5,</span> <span class="pre">L6]]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Segment list</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>segments</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>the length of the list is the number of segments in the robot</p></li>
<li><dl class="simple">
<dt>the first segment always starts with <code class="docutils literal notranslate"><span class="pre">None</span></code> which represents</dt><dd><p>the base transform (since there is no base link)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>the last link of one segment is also the first link of subsequent</dt><dd><p>segments</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.showgraph">
<span class="sig-name descname"><span class="pre">showgraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display_graph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.showgraph" title="Permalink to this definition"></a></dt>
<dd><p>Display a link transform graph in browser</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.showgraph()</span></code> displays a graph of the robot’s link frames
and the ETS between them.  It uses GraphViz dot.</p>
<dl class="simple">
<dt>The nodes are:</dt><dd><ul class="simple">
<li><p>Base is shown as a grey square. This is the world frame origin,
but can be changed using the <code class="docutils literal notranslate"><span class="pre">base</span></code> attribute of the robot.</p></li>
<li><p>Link frames are indicated by circles</p></li>
<li><p>ETS transforms are indicated by rounded boxes</p></li>
</ul>
</dd>
<dt>The edges are:</dt><dd><ul class="simple">
<li><p>an arrow if <cite>jtype</cite> is False or the joint is fixed</p></li>
<li><p>an arrow with a round head if <cite>jtype</cite> is True and the joint is
revolute</p></li>
<li><p>an arrow with a box head if <cite>jtype</cite> is True and the joint is
prismatic</p></li>
</ul>
</dd>
</dl>
<p>Edge labels or nodes in blue have a fixed transformation to the
preceding link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display_graph</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Open the graph in a browser if True. Otherwise will return the
file path</p></li>
<li><p><strong>etsbox</strong> – Put the link ETS in a box, otherwise an edge label</p></li>
<li><p><strong>jtype</strong> – Arrowhead to node indicates revolute or prismatic type</p></li>
<li><p><strong>static</strong> – Show static joints in blue and bold</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">showgraph</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/panda-graph.svg"><img alt="_images/panda-graph.svg" src="_images/panda-graph.svg" width="600" /></a>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.dotfile" title="roboticstoolbox.robot.Robot.Robot.dotfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">dotfile()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.structure">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">structure</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.structure" title="Permalink to this definition"></a></dt>
<dd><p>Return the joint structure string</p>
<p>A string with one letter per joint: <code class="docutils literal notranslate"><span class="pre">R</span></code> for a revolute
joint, and <code class="docutils literal notranslate"><span class="pre">P</span></code> for a prismatic joint.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint configuration string</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>structure</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">structure</span>
<span class="go">&#39;RRRRRR&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Stanford</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span><span class="o">.</span><span class="n">structure</span>
<span class="go">&#39;RRPRRR&#39;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fixed joints, that maintain a constant link relative pose,
are not included.
<code class="docutils literal notranslate"><span class="pre">len(self.structure)</span> <span class="pre">==</span> <span class="pre">self.n</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.symbolic">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">symbolic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.symbolic" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.teach">
<span class="sig-name descname"><span class="pre">teach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.teach" title="Permalink to this definition"></a></dt>
<dd><p>Graphical teach pendant</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.teach(q)</span></code> creates a matplotlib plot which allows the user to
“drive” a graphical robot using a graphical slider panel. The robot’s
inital joint configuration is <code class="docutils literal notranslate"><span class="pre">q</span></code>. The plot will autoscale with an
aspect ratio of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.teach()</span></code> as above except the robot’s stored value of <code class="docutils literal notranslate"><span class="pre">q</span></code>
is used.</p>
<dl class="simple">
<dt>q</dt><dd><p>The joint configuration of the robot (Optional,
if not supplied will use the stored q values).</p>
</dd>
<dt>block</dt><dd><p>Block operation of the code and keep the figure open</p>
</dd>
<dt>limits</dt><dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd>
<dt>vellipse</dt><dd><p>(Plot Option) Plot the velocity ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd>
<dt>fellipse</dt><dd><p>(Plot Option) Plot the force ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul>
<li><dl class="simple">
<dt>Program execution is blocked until the teach window is</dt><dd><p>dismissed.  If <code class="docutils literal notranslate"><span class="pre">block=False</span></code> the method is non-blocking but
you need to poll the window manager to ensure that the window
remains responsive.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>The slider limits are derived from the joint limit properties.</dt><dd><p>If not set then:
- For revolute joints they are assumed to be [-pi, +pi]
- For prismatic joint they are assumed unknown and an error</p>
<blockquote>
<div><p>occurs.</p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.todegrees">
<span class="sig-name descname"><span class="pre">todegrees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.todegrees" title="Permalink to this definition"></a></dt>
<dd><p>Convert joint angles to degrees</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> – The joint configuration of the robot</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>q</em> – a vector of joint coordinates in degrees and metres</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.todegrees(q)</span></code> converts joint coordinates <code class="docutils literal notranslate"><span class="pre">q</span></code> to degrees</p></li>
<li><p>taking into account whether elements of <code class="docutils literal notranslate"><span class="pre">q</span></code> correspond to revolute</p></li>
<li><p><em>or prismatic joints, ie. prismatic joint values are not converted.</em></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix, with one column per joint, the conversion is</p></li>
<li><p><em>performed columnwise.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Stanford</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span><span class="o">.</span><span class="n">todegrees</span><span class="p">([</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span>
<span class="go">array([ 45. ,  22.5,   2. , -45. ,  30. ,  60. ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id66">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tool</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><span class="pre">SE3</span></a></em><a class="headerlink" href="#id66" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot tool transform</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.tool</span></code> is the robot tool transform as an SE3 object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot._tool</span></code> is the robot tool transform as a numpy array</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.tool</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot tool transform</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tool</strong> – the new robot tool transform (as an SE(3))</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot tool transform</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.toradians">
<span class="sig-name descname"><span class="pre">toradians</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.toradians" title="Permalink to this definition"></a></dt>
<dd><p>Convert joint angles to radians</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.toradians(q)</span></code> converts joint coordinates <code class="docutils literal notranslate"><span class="pre">q</span></code> to radians
taking into account whether elements of <code class="docutils literal notranslate"><span class="pre">q</span></code> correspond to revolute
or prismatic joints, ie. prismatic joint values are not converted.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix, with one column per joint, the conversion is
performed columnwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> – The joint configuration of the robot</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a vector of joint coordinates in radians and metres</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>q</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Stanford</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span><span class="o">.</span><span class="n">toradians</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="go">array([0.1745, 0.3491, 2.    , 0.5236, 0.6981, 0.8727])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.urdf_filepath">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">urdf_filepath</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.urdf_filepath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.urdf_string">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">urdf_string</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.urdf_string" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id67">
<span class="sig-name descname"><span class="pre">vellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id67" title="Permalink to this definition"></a></dt>
<dd><p>Create a velocity ellipsoid object for plotting with PyPlot</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.vellipse(q)</span></code> creates a force ellipsoid for the robot at
pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The ellipsoid is centered at the origin.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id68">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id68" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id69">
<span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#id69" title="Permalink to this definition"></a></dt>
<dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational force ellipsoid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id70">
<span class="sig-name descname"><span class="pre">unit</span></span><a class="headerlink" href="#id70" title="Permalink to this definition"></a></dt>
<dd><p>‘rad’ or ‘deg’ will plot the ellipsoid in radians or
degrees</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id71">
<span class="sig-name descname"><span class="pre">centre</span></span><a class="headerlink" href="#id71" title="Permalink to this definition"></a></dt>
<dd><p>The centre of the ellipsoid, either ‘ee’ for the end-effector
or a 3-vector [x, y, z] in the world frame</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot.scale">
<span class="sig-name descname"><span class="pre">scale</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot.scale" title="Permalink to this definition"></a></dt>
<dd><p>The scale factor for the ellipsoid</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An EllipsePlot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">roboticstoolbox.robot.Robot.</span></span><span class="sig-name descname"><span class="pre">Robot2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRobot</span></code>[<a class="reference internal" href="#roboticstoolbox.robot.Link.Link2" title="roboticstoolbox.robot.Link.Link2"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link2</span></code></a>]</p>
<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>Get link</p>
<p>This also supports iterating over each link in the robot object,
from the base to the tool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – link number or name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>i’th link or named link</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>link</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># print the 2nd link</span>
<span class="go">RevoluteDH:   θ=q,  d=0,  a=0.4318,  ⍺=0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">([</span><span class="n">link</span><span class="o">.</span><span class="n">a</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">robot</span><span class="p">])</span>  <span class="c1"># print all the a_j values</span>
<span class="go">[0, 0.4318, 0.0203, 0, 0, 0]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Robot</span></code> supports link lookup by name,</dt><dd><p>eg. <code class="docutils literal notranslate"><span class="pre">robot['link1']</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.__str__" title="Permalink to this definition"></a></dt>
<dd><p>Pretty prints the ETS Model of the robot.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pretty print of the robot model</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Constant links are shown in blue.</p></li>
<li><p>End-effector links are prefixed with an &#64;</p></li>
<li><p>Angles in degrees</p></li>
<li><dl class="simple">
<dt>The robot base frame is denoted as <code class="docutils literal notranslate"><span class="pre">BASE</span></code> and is equal to the</dt><dd><p>robot’s <code class="docutils literal notranslate"><span class="pre">base</span></code> attribute.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.accel">
<span class="sig-name descname"><span class="pre">accel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torque</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.accel" title="Permalink to this definition"></a></dt>
<dd><p>Compute acceleration due to applied torque</p>
<p><code class="docutils literal notranslate"><span class="pre">qdd</span> <span class="pre">=</span> <span class="pre">accel(q,</span> <span class="pre">qd,</span> <span class="pre">torque)</span></code> calculates a vector (n) of joint
accelerations that result from applying the actuator force/torque (n)
to the manipulator in state <cite>q</cite> (n) and <cite>qd</cite> (n), and <code class="docutils literal notranslate"><span class="pre">n</span></code> is
the number of robot joints.</p>
<div class="math notranslate nohighlight">
\[\ddot{q} = \mathbf{M}^{-1} \left(\tau - \mathbf{C}(q)\dot{q} - \mathbf{g}(q)\right)\]</div>
<p><strong>Trajectory operation</strong></p>
<p>If <cite>q</cite>, <cite>qd</cite>, torque are matrices (m,n) then <code class="docutils literal notranslate"><span class="pre">qdd</span></code> is a matrix (m,n)
where each row is the acceleration corresponding to the equivalent rows
of q, qd, torque.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
<li><p><strong>torque</strong> – Joint torques of the robot</p></li>
<li><p><strong>gravity</strong> – Gravitational acceleration (Optional, if not supplied will
use the <code class="docutils literal notranslate"><span class="pre">gravity</span></code> attribute of self).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(n)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">accel</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">array([ -7.5544, -12.22  ,  -6.4022,  -5.4303,  -4.9518,  -2.1178])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Useful for simulation of manipulator dynamics, in</dt><dd><p>conjunction with a numerical integration function.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Uses the method 1 of Walker and Orin to compute the forward</dt><dd><p>dynamics.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Featherstone’s method is more efficient for robots with large</dt><dd><p>numbers of joints.</p>
</dd>
</dl>
</li>
<li><p>Joint friction is considered.</p></li>
</ul>
<p class="rubric">References</p>
<ul class="simple">
<li><dl class="simple">
<dt>Efficient dynamic computer simulation of robotic mechanisms,</dt><dd><p>M. W. Walker and D. E. Orin,
ASME Journa of Dynamic Systems, Measurement and Control, vol.
104, no. 3, pp. 205-211, 1982.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.accel_x">
<span class="sig-name descname"><span class="pre">accel_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrench</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.accel_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space acceleration due to applied wrench</p>
<p><code class="docutils literal notranslate"><span class="pre">xdd</span> <span class="pre">=</span> <span class="pre">accel_x(q,</span> <span class="pre">qd,</span> <span class="pre">wrench)</span></code> is the operational space acceleration
due to <code class="docutils literal notranslate"><span class="pre">wrench</span></code> applied to the end-effector of a robot in joint
configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and joint velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<div class="math notranslate nohighlight">
\[\ddot{x} = \mathbf{J}(q) \mathbf{M}(q)^{-1} \left(
    \mathbf{J}(q)^T w - \mathbf{C}(q)\dot{q} - \mathbf{g}(q)
    \right)\]</div>
<p><strong>Trajectory operation</strong></p>
<p>If <cite>q</cite>, <cite>qd</cite>, torque are matrices (m,n) then <code class="docutils literal notranslate"><span class="pre">qdd</span></code> is a matrix (m,n)
where each row is the acceleration corresponding to the equivalent rows
of q, qd, wrench.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
<li><p><strong>wrench</strong> – Wrench applied to the end-effector</p></li>
<li><p><strong>gravity</strong> – Gravitational acceleration (Optional, if not supplied will
use the <code class="docutils literal notranslate"><span class="pre">gravity</span></code> attribute of self).</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>xd</strong> – </p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Operational space accelerations of the end-effector</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>accel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Useful for simulation of manipulator dynamics, in</dt><dd><p>conjunction with a numerical integration function.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Uses the method 1 of Walker and Orin to compute the forward</dt><dd><p>dynamics.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Featherstone’s method is more efficient for robots with large</dt><dd><p>numbers of joints.</p>
</dd>
</dl>
</li>
<li><p>Joint friction is considered.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.accel" title="roboticstoolbox.robot.Robot.Robot2.accel"><code class="xref py py-func docutils literal notranslate"><span class="pre">accel()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.addconfiguration">
<span class="sig-name descname"><span class="pre">addconfiguration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.addconfiguration" title="Permalink to this definition"></a></dt>
<dd><p>Add a named joint configuration</p>
<p>Add a named configuration to the robot instance’s dictionary of named
configurations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the joint configuration</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint configuration</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">addconfiguration_attr</span><span class="p">(</span><span class="s2">&quot;mypos&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">configs</span><span class="p">[</span><span class="s2">&quot;mypos&quot;</span><span class="p">]</span>
<span class="go">array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.addconfiguration" title="roboticstoolbox.robot.Robot.Robot2.addconfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addconfiguration()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.addconfiguration_attr">
<span class="sig-name descname"><span class="pre">addconfiguration_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.addconfiguration_attr" title="Permalink to this definition"></a></dt>
<dd><p>Add a named joint configuration as an attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the joint configuration</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – Joint configuration</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">addconfiguration_attr</span><span class="p">(</span><span class="s2">&quot;mypos&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">mypos</span>
<span class="go">array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">configs</span><span class="p">[</span><span class="s2">&quot;mypos&quot;</span><span class="p">]</span>
<span class="go">array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Used in robot model init method to store the <code class="docutils literal notranslate"><span class="pre">qr</span></code> configuration</p></li>
<li><dl class="simple">
<dt>Dynamically adding attributes to objects can cause issues with</dt><dd><p>Python type checking.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Configuration is also added to the robot instance’s dictionary of</dt><dd><p>named configurations.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.addconfiguration" title="roboticstoolbox.robot.Robot.Robot2.addconfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addconfiguration()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.attach">
<span class="sig-name descname"><span class="pre">attach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.attach" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.attach_to">
<span class="sig-name descname"><span class="pre">attach_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.attach_to" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.base_link">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_link</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">LinkType</span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.base_link" title="Permalink to this definition"></a></dt>
<dd><p>Get the robot base link</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.base_link</span></code> is the robot base link</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the first link in the robot tree</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>base_link</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.cinertia">
<span class="sig-name descname"><span class="pre">cinertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.cinertia" title="Permalink to this definition"></a></dt>
<dd><p>Deprecated, use <code class="docutils literal notranslate"><span class="pre">inertia_x</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.comment">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">comment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.comment" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot comment</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.comment</span></code> is the robot comment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.comment</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot comment</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – the new robot comment</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot comment</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>comment</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.configs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.configs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.configurations_str">
<span class="sig-name descname"><span class="pre">configurations_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thin'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.configurations_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.control_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">control_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.control_mode" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot control mode</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.control_type</span></code> is the robot control mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.control_type</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot control mode</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_mode</strong> – the new robot control mode</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current robot control mode</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>control_mode</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.coriolis">
<span class="sig-name descname"><span class="pre">coriolis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.coriolis" title="Permalink to this definition"></a></dt>
<dd><p>Coriolis and centripetal term</p>
<p><code class="docutils literal notranslate"><span class="pre">coriolis(q,</span> <span class="pre">qd)</span></code> calculates the Coriolis/centripetal matrix (n,n)
for the robot in configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code>
is the number of joints.</p>
<p>The product <span class="math notranslate nohighlight">\(\mathbf{C} \dot{q}\)</span> is the vector of joint
force/torque due to velocity coupling. The diagonal elements are due to
centripetal effects and the off-diagonal elements are due to Coriolis
effects. This matrix is also known as the velocity coupling matrix,
since it describes the disturbance forces on any joint due to
velocity of all other joints.</p>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> and <cite>qd</cite> are matrices (m,n), each row is interpretted as a
joint configuration, and the result (n,n,m) is a 3d-matrix where
each plane corresponds to a row of <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Velocity matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>coriolis</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">coriolis</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">6</span><span class="p">,)))</span>
<span class="go">array([[-0.4017, -0.5513, -0.2025, -0.0007, -0.0013,  0.    ],</span>
<span class="go">       [ 0.2023, -0.1937, -0.3868, -0.    , -0.002 ,  0.    ],</span>
<span class="go">       [ 0.1987,  0.193 , -0.    ,  0.    , -0.0001,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.0007,  0.0007,  0.0001,  0.    ,  0.    ,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Joint viscous friction is also a joint force proportional to</dt><dd><p>velocity but it is eliminated in the computation of this value.</p>
</dd>
</dl>
</li>
<li><p>Computationally slow, involves <span class="math notranslate nohighlight">\(n^2/2\)</span> invocations of RNE.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.coriolis_x">
<span class="sig-name descname"><span class="pre">coriolis_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ji</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Jd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.coriolis_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space Coriolis and centripetal term</p>
<p><code class="docutils literal notranslate"><span class="pre">coriolis_x(q,</span> <span class="pre">qd)</span></code> is the Coriolis/centripetal matrix (m,m)
in operational space for the robot in configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and velocity
<code class="docutils literal notranslate"><span class="pre">qd</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of joints.</p>
<div class="math notranslate nohighlight">
\[\mathbf{C}_x = \mathbf{J}(q)^{-T} \left(
    \mathbf{C}(q) - \mathbf{M}_x(q) \mathbf{J})(q)
    \right) \mathbf{J}(q)^{-1}\]</div>
<p>The product <span class="math notranslate nohighlight">\(\mathbf{C} \dot{x}\)</span> is the operational space wrench
due to joint velocity coupling. This matrix is also known as the
velocity coupling matrix, since it describes the disturbance forces on
any joint due to velocity of all other joints.</p>
<p>The transformation to operational space requires an analytical, rather
than geometric, Jacobian. <code class="docutils literal notranslate"><span class="pre">analytical</span></code> can be one of:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Rotational representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code></p></td>
<td><p>RPY angular rates in XYZ order (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code></p></td>
<td><p>RPY angular rates in XYZ order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'eul'</span></code></p></td>
<td><p>Euler angular rates in ZYZ order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'exp'</span></code></p></td>
<td><p>exponential coordinate rates</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> and <cite>qd</cite> are matrices (m,n), each row is interpretted as a
joint configuration, and the result (n,n,m) is a 3d-matrix where
each plane corresponds to a row of <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse (Default value = False)</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
<li><p><strong>J</strong> – </p></li>
<li><p><strong>Ji</strong> – </p></li>
<li><p><strong>Jd</strong> – </p></li>
<li><p><strong>C</strong> – </p></li>
<li><p><strong>Mx</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Operational space velocity matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(6,6) or ndarray(m,6,6)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Joint viscous friction is also a joint force proportional to</dt><dd><p>velocity but it is eliminated in the computation of this value.</p>
</dd>
</dl>
</li>
<li><p>Computationally slow, involves <span class="math notranslate nohighlight">\(n^2/2\)</span> invocations of RNE.</p></li>
<li><p>If the robot is not 6 DOF the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> option is set True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pinv()</span></code> is around 5x slower than <code class="docutils literal notranslate"><span class="pre">inv()</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assumes that the operational space has 6 DOF.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.coriolis" title="roboticstoolbox.robot.Robot.Robot2.coriolis"><code class="xref py py-func docutils literal notranslate"><span class="pre">coriolis()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.inertia_x" title="roboticstoolbox.robot.Robot.Robot2.inertia_x"><code class="xref py py-func docutils literal notranslate"><span class="pre">inertia_x()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">hessian0()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.default_backend">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_backend</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.default_backend" title="Permalink to this definition"></a></dt>
<dd><p>Get default graphical backend</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">robot.default_backend</span></code> Get the default graphical backend, used when</dt><dd><p>no explicit backend is passed to <code class="docutils literal notranslate"><span class="pre">Robot.plot</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">robot.default_backend</span> <span class="pre">=</span> <span class="pre">...</span></code> Set the default graphical backend, used when</dt><dd><p>no explicit backend is passed to <code class="docutils literal notranslate"><span class="pre">Robot.plot</span></code>.  The default set here will
be overridden if the particular <code class="docutils literal notranslate"><span class="pre">Robot</span></code> subclass cannot support it.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>backend name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>default_backend</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.dfs_links">
<span class="sig-name descname"><span class="pre">dfs_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.dfs_links" title="Permalink to this definition"></a></dt>
<dd><p>A link search method</p>
<p>Visit all links from start in depth-first order and will apply
func to each visited link</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>)) – The link to start at</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>)], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]) – An optional function to apply to each link as it is found</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of links</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>links</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.dotfile">
<span class="sig-name descname"><span class="pre">dotfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etsbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.dotfile" title="Permalink to this definition"></a></dt>
<dd><p>Write a link transform graph as a GraphViz dot file</p>
<dl class="simple">
<dt>The file can be processed using dot:</dt><dd><p>% dot -Tpng -o out.png dotfile.dot</p>
</dd>
<dt>The nodes are:</dt><dd><ul class="simple">
<li><p>Base is shown as a grey square.  This is the world frame origin,
but can be changed using the <code class="docutils literal notranslate"><span class="pre">base</span></code> attribute of the robot.</p></li>
<li><p>Link frames are indicated by circles</p></li>
<li><p>ETS transforms are indicated by rounded boxes</p></li>
</ul>
</dd>
<dt>The edges are:</dt><dd><ul class="simple">
<li><p>an arrow if <cite>jtype</cite> is False or the joint is fixed</p></li>
<li><p>an arrow with a round head if <cite>jtype</cite> is True and the joint is
revolute</p></li>
<li><p>an arrow with a box head if <cite>jtype</cite> is True and the joint is
prismatic</p></li>
</ul>
</dd>
</dl>
<p>Edge labels or nodes in blue have a fixed transformation to the
preceding link.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">filename</span></code> is a file object then the file will <em>not</em></dt><dd><p>be closed after the GraphViz model is written.</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – Name of file to write to</p></li>
<li><p><strong>etsbox</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Put the link ETS in a box, otherwise an edge label</p></li>
<li><p><strong>ets</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'full'</span></code>, <code class="docutils literal notranslate"><span class="pre">'brief'</span></code>]) – Display the full ets with “full” or a brief version with “brief”</p></li>
<li><p><strong>jtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Arrowhead to node indicates revolute or prismatic type</p></li>
<li><p><strong>static</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Show static joints in blue and bold</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.showgraph" title="roboticstoolbox.robot.Robot.Robot2.showgraph"><code class="xref py py-func docutils literal notranslate"><span class="pre">showgraph()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.dynamics">
<span class="sig-name descname"><span class="pre">dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Pretty print the dynamic parameters (Robot superclass)</p>
<p>The dynamic parameters (inertial and friction) are printed in a table,
with one row per link.</p>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.dynamics_list">
<span class="sig-name descname"><span class="pre">dynamics_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.dynamics_list" title="Permalink to this definition"></a></dt>
<dd><p>Print dynamic parameters (Robot superclass)</p>
<p>Display the kinematic and dynamic parameters to the console in
reable format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.dynchanged">
<span class="sig-name descname"><span class="pre">dynchanged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.dynchanged" title="Permalink to this definition"></a></dt>
<dd><p>Dynamic parameters have changed</p>
<p>Called from a property setter to inform the robot that the cache of
dynamic parameters is invalid.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">roboticstoolbox.Link._listen_dyn()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.ee_links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ee_links</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">LinkType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.ee_links" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.ets">
<span class="sig-name descname"><span class="pre">ets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.ets" title="Permalink to this definition"></a></dt>
<dd><p>Robot to ETS</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.ets()</span></code> is an ETS representing the kinematics from base to
end-effector.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.ets(end=link)</span></code> is an ETS representing the kinematics from
base to the link <code class="docutils literal notranslate"><span class="pre">link</span></code> specified as a Link reference or a name.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.ets(start=l1,</span> <span class="pre">end=l2)</span></code> is an ETS representing the kinematics
from link <code class="docutils literal notranslate"><span class="pre">l1</span></code> to link <code class="docutils literal notranslate"><span class="pre">l2</span></code>.</p>
<p>:param :
:type : param start: start of path, defaults to <code class="docutils literal notranslate"><span class="pre">base_link</span></code>
:param :
:type : param end: end of path, defaults to end-effector</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – a link does not belong to this ERobot</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.11)"><strong>TypeError</strong></a> – a bad link argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>elementary transform sequence</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ets</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ETS</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">ets</span><span class="p">()</span>
<span class="go">[ET.tz(eta=0.333), ET.Rz(jindex=0), ET.Rx(eta=-1.5707963267948966), ET.Rz(jindex=1), ET.Rx(eta=1.5707963267948966), ET.tz(eta=0.316), ET.Rz(jindex=2), ET.tx(eta=0.0825), ET.Rx(eta=1.5707963267948966), ET.Rz(jindex=3), ET.tx(eta=-0.0825), ET.Rx(eta=-1.5707963267948966), ET.tz(eta=0.384), ET.Rz(jindex=4), ET.Rx(eta=1.5707963267948966), ET.Rz(jindex=5), ET.tx(eta=0.088), ET.Rx(eta=1.5707963267948966), ET.tz(eta=0.107), ET.Rz(jindex=6), ET.tz(eta=0.10300000000000001), ET.Rz(eta=-0.7853981633974483)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.fdyn">
<span class="sig-name descname"><span class="pre">fdyn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Q_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RK45'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.fdyn" title="Permalink to this definition"></a></dt>
<dd><p>Integrate forward dynamics</p>
<p><code class="docutils literal notranslate"><span class="pre">tg</span> <span class="pre">=</span> <span class="pre">R.fdyn(T,</span> <span class="pre">q)</span></code> integrates the dynamics of the robot with zero
input torques over the time  interval 0 to <code class="docutils literal notranslate"><span class="pre">T</span></code> and returns the
trajectory as a namedtuple with elements:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code> the time vector (M,)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> the joint coordinates (M,n)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qd</span></code> the joint velocities (M,n)</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">tg</span> <span class="pre">=</span> <span class="pre">R.fdyn(T,</span> <span class="pre">q,</span> <span class="pre">torqfun)</span></code> as above but the torque applied to the
joints is given by the provided function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tau</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p>where the inputs are:</p>
<blockquote>
<div><ul class="simple">
<li><p>the robot object</p></li>
<li><p>current time</p></li>
<li><p>current joint coordinates (n,)</p></li>
<li><p>current joint velocity (n,)</p></li>
<li><p>args, optional keyword arguments can be specified, these are</p></li>
</ul>
<p>passed in from the <code class="docutils literal notranslate"><span class="pre">targs</span></code> kewyword argument.</p>
</div></blockquote>
<p>The function must return a Numpy array (n,) of joint forces/torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – integration time</p></li>
<li><p><strong>q0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – initial joint coordinates</p></li>
<li><p><strong>qd0</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – initial joint velocities, assumed zero if not given</p></li>
<li><p><strong>Q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]]) – a function that computes generalized joint force as a function of
time and/or state</p></li>
<li><p><strong>Q_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>) – positional arguments passed to <code class="docutils literal notranslate"><span class="pre">torque</span></code></p></li>
<li><p><strong>solver</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – str</p></li>
<li><p><strong>solver_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>) – dict</p></li>
<li><p><strong>dt</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – float</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – show progress bar, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot trajectory</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>trajectory</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>To apply zero joint torque to the robot without Coulomb
friction:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfunc</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">robot</span><span class="o">.</span><span class="n">n</span><span class="p">,))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tg</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">nofriction</span><span class="p">()</span><span class="o">.</span><span class="n">fdyn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">q0</span><span class="p">,</span> <span class="n">myfunc</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tg</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">tg</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>We could also use a lambda function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tg</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">nofriction</span><span class="p">()</span><span class="o">.</span><span class="n">fdyn</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">5</span><span class="p">,</span> <span class="n">q0</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">r</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">r</span><span class="o">.</span><span class="n">n</span><span class="p">,)))</span>
</pre></div>
</div>
<p>The robot is controlled by a PD controller. We first define a
function to compute the control which has additional parameters for
the setpoint and control gains (qstar, P, D):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfunc</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">qd</span><span class="p">,</span> <span class="n">qstar</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">D</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">(</span><span class="n">qstar</span> <span class="o">-</span> <span class="n">q</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span> <span class="o">+</span> <span class="n">qd</span> <span class="o">*</span> <span class="n">D</span>  <span class="c1"># P, D are (6,)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tg</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">fdyn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">q0</span><span class="p">,</span> <span class="n">myfunc</span><span class="p">,</span> <span class="n">torque_args</span><span class="o">=</span><span class="p">(</span><span class="n">qstar</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">D</span><span class="p">))</span> <span class="p">)</span>
</pre></div>
</div>
<p>Many integrators have variable step length which is problematic if we
want to animate the result.  If <code class="docutils literal notranslate"><span class="pre">dt</span></code> is specified then the solver
results are interpolated in time steps of <code class="docutils literal notranslate"><span class="pre">dt</span></code>.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>This function performs poorly with non-linear joint friction,</dt><dd><p>such as Coulomb friction.  The R.nofriction() method can be used
to set this friction to zero.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If the function is not specified then zero force/torque is</dt><dd><p>applied to the manipulator joints.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Interpolation is performed using <a href="#id72"><span class="problematic" id="id73">`</span></a>ScipY integrate.ode</dt><dd><p>&lt;<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.ode.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.ode.html</a>&gt;`</p>
</dd>
</dl>
</li>
<li><p>The SciPy RK45 integrator is used by default</p></li>
<li><dl class="simple">
<dt>Interpolation is performed using <a href="#id74"><span class="problematic" id="id75">`</span></a>SciPy interp1</dt><dd><p>&lt;<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html</a>&gt;`</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">DHRobot.accel()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DHRobot.nofriction()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DHRobot.rne()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.fellipse">
<span class="sig-name descname"><span class="pre">fellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.fellipse" title="Permalink to this definition"></a></dt>
<dd><p>Create a force ellipsoid object for plotting with PyPlot</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.fellipse(q)</span></code> creates a force ellipsoid for the robot at
pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The ellipsoid is centered at the origin.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.q">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.q" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.opt">
<span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.opt" title="Permalink to this definition"></a></dt>
<dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational force ellipsoid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.unit">
<span class="sig-name descname"><span class="pre">unit</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.unit" title="Permalink to this definition"></a></dt>
<dd><p>‘rad’ or ‘deg’ will plot the ellipsoid in radians or
degrees</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.centre">
<span class="sig-name descname"><span class="pre">centre</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.centre" title="Permalink to this definition"></a></dt>
<dd><p>The centre of the ellipsoid, either ‘ee’ for the end-effector
or a 3-vector [x, y, z] in the world frame</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An EllipsePlot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.friction" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator joint friction (Robot superclass)</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.friction(qd)</span></code> is a vector of joint friction
forces/torques for the robot moving with joint velocities <code class="docutils literal notranslate"><span class="pre">qd</span></code>.</p>
<p>The friction model includes:</p>
<ul class="simple">
<li><p>Viscous friction which is a linear function of velocity.</p></li>
<li><p>Coulomb friction which is proportional to sign(qd).</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\tau_j = G^2 B \dot{q}_j + |G_j| \left\{ \begin{array}{ll}
    \tau_{C,j}^+ &amp; \mbox{if $\dot{q}_j &gt; 0$} \\
    \tau_{C,j}^- &amp; \mbox{if $\dot{q}_j &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>qd</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – The joint velocities of the robot</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The joint friction forces/torques for the robot</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>friction</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The friction value should be added to the motor output torque to</dt><dd><p>determine the nett torque. It has a negative value when qd &gt; 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The returned friction value is referred to the output of the</dt><dd><p>gearbox.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The friction parameters in the Link object are referred to the</dt><dd><p>motor.</p>
</dd>
</dl>
</li>
<li><p>Motor viscous friction is scaled up by <span class="math notranslate nohighlight">\(G^2\)</span>.</p></li>
<li><p>Motor Coulomb friction is scaled up by math:<cite>G</cite>.</p></li>
<li><dl class="simple">
<dt>The appropriate Coulomb friction value to use in the</dt><dd><p>non-symmetric case depends on the sign of the joint velocity,
not the motor velocity.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coulomb friction is zero for zero joint velocity, stiction is</dt><dd><p>not modeled.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used.  Negative gear</dt><dd><p>ratios are tricky: the Puma560 robot has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used. Negative gear</dt><dd><p>ratios are tricky: the Puma560 has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.nofriction" title="roboticstoolbox.robot.Robot.Robot.nofriction"><code class="xref py py-func docutils literal notranslate"><span class="pre">Robot.nofriction()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Link.friction()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.get_path">
<span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.get_path" title="Permalink to this definition"></a></dt>
<dd><p>Find a path from start to end</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>), <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – end-effector or gripper to compute forward kinematics to</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Gripper</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>), <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – name or reference to a base link, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – link not known or ambiguous</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, bound= <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a>)], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SE3</span></code></a>]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>path</em> – the path from start to end</p></li>
<li><p><em>n</em> – the number of joints in the path</p></li>
<li><p><em>T</em> – the tool transform present after end</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.gravity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gravity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.gravity" title="Permalink to this definition"></a></dt>
<dd><p>Get/set default gravitational acceleration (Robot superclass)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.name</span></code> is the default gravitational acceleration</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">robot.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets default gravitational</dt><dd><p>acceleration</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gravity</strong> – the new gravitational acceleration for this robot</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>gravitational acceleration</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gravity</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the z-axis is upward, out of the Earth, this should be
a positive number.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.gravload">
<span class="sig-name descname"><span class="pre">gravload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.gravload" title="Permalink to this definition"></a></dt>
<dd><p>Compute gravity load</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload(q)</span></code> calculates the joint gravity loading (n) for
the robot in the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and using the default
gravitational acceleration specified in the DHRobot object.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload(q,</span> <span class="pre">gravity=g)</span></code> as above except the gravitational
acceleration is explicitly specified as <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p><strong>Trajectory operation</strong></p>
<p>If q is a matrix (nxm) each column is interpreted as a joint
configuration vector, and the result is a matrix (nxm) each column
being the corresponding joint torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Joint coordinates</p></li>
<li><p><strong>gravity</strong> (<em>ndarray</em><em>(</em><em>3</em><em>)</em>) – Gravitational acceleration (Optional, if not supplied will
use the stored gravity values).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generalised joint force/torques due to gravity</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gravload</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">gravload</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">)</span>
<span class="go">array([ 0.    , 37.4837,  0.2489,  0.    ,  0.    ,  0.    ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.gravload_x">
<span class="sig-name descname"><span class="pre">gravload_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ji</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.gravload_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space gravity load</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload_x(q)</span></code> calculates the gravity wrench for
the robot in the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code> and using the default
gravitational acceleration specified in the robot object.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.gravload_x(q,</span> <span class="pre">gravity=g)</span></code> as above except the gravitational
acceleration is explicitly specified as <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<div class="math notranslate nohighlight">
\[\mathbf{G}_x = \mathbf{J}(q)^{-T} \mathbf{G}(q)\]</div>
<p>The transformation to operational space requires an analytical, rather
than geometric, Jacobian. <code class="docutils literal notranslate"><span class="pre">analytical</span></code> can be one of:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Rotational representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code></p></td>
<td><p>RPY angular rates in XYZ order (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code></p></td>
<td><p>RPY angular rates in XYZ order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'eul'</span></code></p></td>
<td><p>Euler angular rates in ZYZ order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'exp'</span></code></p></td>
<td><p>exponential coordinate rates</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Trajectory operation</strong></p>
<p>If q is a matrix (nxm) each column is interpreted as a joint
configuration vector, and the result is a matrix (nxm) each column
being the corresponding joint torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>gravity</strong> – Gravitational acceleration (Optional, if not supplied will
use the <code class="docutils literal notranslate"><span class="pre">gravity</span></code> attribute of self).</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse (Default value = False)</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
<li><p><strong>Ji</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The operational space gravity wrench</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gravload</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If the robot is not 6 DOF the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> option is set True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pinv()</span></code> is around 5x slower than <code class="docutils literal notranslate"><span class="pre">inv()</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assumes that the operational space has 6 DOF.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.gravload" title="roboticstoolbox.robot.Robot.Robot2.gravload"><code class="xref py py-func docutils literal notranslate"><span class="pre">gravload()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.grippers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grippers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Gripper</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.grippers" title="Permalink to this definition"></a></dt>
<dd><p>Grippers attached to the robot</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of grippers</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>grippers</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.hascollision">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hascollision</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.hascollision" title="Permalink to this definition"></a></dt>
<dd><p>Robot has collision model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>hascollision</em> – Robot has collision model</p></li>
<li><p><em>At least one link has associated collision model.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">hascollision</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.hasgeometry" title="roboticstoolbox.robot.Robot.Robot2.hasgeometry"><code class="xref py py-func docutils literal notranslate"><span class="pre">hasgeometry()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.hasdynamics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasdynamics</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.hasdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Robot has dynamic parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>hasdynamics</em> – Robot has dynamic parameters</p></li>
<li><p><em>At least one link has associated dynamic parameters.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.hasgeometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasgeometry</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.hasgeometry" title="Permalink to this definition"></a></dt>
<dd><p>Robot has geometry model</p>
<p>At least one link has associated mesh to describe its shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Robot has geometry model</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>hasgeometry</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">hasgeometry</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.hascollision" title="roboticstoolbox.robot.Robot.Robot2.hascollision"><code class="xref py py-func docutils literal notranslate"><span class="pre">hascollision()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.hierarchy">
<span class="sig-name descname"><span class="pre">hierarchy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.hierarchy" title="Permalink to this definition"></a></dt>
<dd><p>Pretty print the robot link hierachy</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pretty print of the robot model</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Makes a robot and prints the heirachy</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">()</span>
<span class="go"> panda_link0</span>
<span class="go">   panda_link1</span>
<span class="go">     panda_link2</span>
<span class="go">       panda_link3</span>
<span class="go">         panda_link4</span>
<span class="go">           panda_link5</span>
<span class="go">             panda_link6</span>
<span class="go">               panda_link7</span>
<span class="go">                 panda_link8</span>
<span class="go">                   panda_hand</span>
<span class="go">                     panda_leftfinger</span>
<span class="go">                     panda_rightfinger</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.inertia">
<span class="sig-name descname"><span class="pre">inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.inertia" title="Permalink to this definition"></a></dt>
<dd><p>Manipulator inertia matrix
<code class="docutils literal notranslate"><span class="pre">inertia(q)</span></code> is the symmetric joint inertia matrix (n,n) which
relates joint torque to joint acceleration for the robot at joint
configuration q.</p>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix (m,n), each row is interpretted as a joint state
vector, and the result is a 3d-matrix (nxnxk) where each plane
corresponds to the inertia for the corresponding row of q.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint coordinates</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The inertia matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>inertia</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">inertia</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">)</span>
<span class="go">array([[ 3.9611, -0.1627, -0.1389,  0.0016, -0.0004,  0.    ],</span>
<span class="go">       [-0.1627,  4.4566,  0.3727,  0.    ,  0.0019,  0.    ],</span>
<span class="go">       [-0.1389,  0.3727,  0.9387,  0.    ,  0.0019,  0.    ],</span>
<span class="go">       [ 0.0016,  0.    ,  0.    ,  0.1924,  0.    ,  0.    ],</span>
<span class="go">       [-0.0004,  0.0019,  0.0019,  0.    ,  0.1713,  0.    ],</span>
<span class="go">       [ 0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.1941]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The diagonal elements <code class="docutils literal notranslate"><span class="pre">M[j,j]</span></code> are the inertia seen by joint</dt><dd><p>actuator <code class="docutils literal notranslate"><span class="pre">j</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The off-diagonal elements <code class="docutils literal notranslate"><span class="pre">M[j,k]</span></code> are coupling inertias that</dt><dd><p>relate acceleration on joint <code class="docutils literal notranslate"><span class="pre">j</span></code> to force/torque on
joint <code class="docutils literal notranslate"><span class="pre">k</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The diagonal terms include the motor inertia reflected through</dt><dd><p>the gear ratio.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.cinertia" title="roboticstoolbox.robot.Robot.Robot2.cinertia"><code class="xref py py-func docutils literal notranslate"><span class="pre">cinertia()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.inertia_x">
<span class="sig-name descname"><span class="pre">inertia_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rpy/xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ji</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.inertia_x" title="Permalink to this definition"></a></dt>
<dd><p>Operational space inertia matrix</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.inertia_x(q)</span></code> is the operational space (Cartesian) inertia
matrix which relates Cartesian force/torque to Cartesian
acceleration at the joint configuration q.</p>
<div class="math notranslate nohighlight">
\[\mathbf{M}_x = \mathbf{J}(q)^{-T} \mathbf{M}(q) \mathbf{J}(q)^{-1}\]</div>
<p>The transformation to operational space requires an analytical, rather
than geometric, Jacobian. <code class="docutils literal notranslate"><span class="pre">analytical</span></code> can be one of:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Rotational representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/xyz'</span></code></p></td>
<td><p>RPY angular rates in XYZ order (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'rpy/zyx'</span></code></p></td>
<td><p>RPY angular rates in XYZ order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'eul'</span></code></p></td>
<td><p>Euler angular rates in ZYZ order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'exp'</span></code></p></td>
<td><p>exponential coordinate rates</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix (m,n), each row is interpretted as a joint state
vector, and the result is a 3d-matrix (m,n,n) where each plane
corresponds to the Cartesian inertia for the corresponding
row of <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>pinv</strong> – use pseudo inverse rather than inverse (Default value = False)</p></li>
<li><p><strong>analytical</strong> – the type of analytical Jacobian to use, default is
‘rpy/xyz’</p></li>
<li><p><strong>representation</strong> – (Default value = “rpy/xyz”)</p></li>
<li><p><strong>Ji</strong> – The inverse analytical Jacobian (base-frame)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The operational space inertia matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>inertia_x</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    ainv = _umath_linalg.inv(a, signature=signature, extobj=extobj)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.16/x64/lib/python3.7/site-packages/numpy/linalg/linalg.py&quot;</span>, line <span class="m">88</span>, in <span class="n">_raise_linalgerror_singular</span>
<span class="w">    </span><span class="k">raise</span> <span class="n">LinAlgError</span><span class="p">(</span><span class="s2">&quot;Singular matrix&quot;</span><span class="p">)</span>
<span class="gr">numpy.linalg.LinAlgError</span>: <span class="n">Singular matrix</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If the robot is not 6 DOF the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> option is set True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pinv()</span></code> is around 5x slower than <code class="docutils literal notranslate"><span class="pre">inv()</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assumes that the operational space has 6 DOF.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.inertia" title="roboticstoolbox.robot.Robot.Robot2.inertia"><code class="xref py py-func docutils literal notranslate"><span class="pre">inertia()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.isprismatic">
<span class="sig-name descname"><span class="pre">isprismatic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.isprismatic" title="Permalink to this definition"></a></dt>
<dd><p>Check if joint is prismatic</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if prismatic</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>j</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isprismatic()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.prismaticjoints" title="roboticstoolbox.robot.Robot.Robot2.prismaticjoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">prismaticjoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.isrevolute">
<span class="sig-name descname"><span class="pre">isrevolute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.isrevolute" title="Permalink to this definition"></a></dt>
<dd><p>Check if joint is revolute</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>j</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isrevolute()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.revolutejoints" title="roboticstoolbox.robot.Robot.Robot2.revolutejoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">revolutejoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.itorque">
<span class="sig-name descname"><span class="pre">itorque</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qdd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.itorque" title="Permalink to this definition"></a></dt>
<dd><p>Inertia torque</p>
<p><code class="docutils literal notranslate"><span class="pre">itorque(q,</span> <span class="pre">qdd)</span></code> is the inertia force/torque vector (n) at
the specified joint configuration q (n) and acceleration qdd (n), and
<code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of robot joints.
It is <span class="math notranslate nohighlight">\(\mathbf{I}(q) \ddot{q}\)</span>.</p>
<p><strong>Trajectory operation</strong></p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">qdd</span></code> are matrices (m,n), each row is interpretted as a
joint configuration, and the result is a matrix (m,n) where each row is
the corresponding joint torques.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qdd</strong> – Joint acceleration</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The inertia torque vector</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>itorque</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">itorque</span><span class="p">(</span><span class="n">puma</span><span class="o">.</span><span class="n">qz</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">6</span><span class="p">,)))</span>
<span class="go">array([1.8304, 2.3343, 0.5872, 0.0971, 0.0873, 0.0971])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>If the robot model contains non-zero motor inertia then this</dt><dd><p>will be included in the result.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.inertia" title="roboticstoolbox.robot.Robot.Robot2.inertia"><code class="xref py py-func docutils literal notranslate"><span class="pre">inertia()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.jointdynamics">
<span class="sig-name descname"><span class="pre">jointdynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.jointdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Transfer function of joint actuator</p>
<p><code class="docutils literal notranslate"><span class="pre">tf</span> <span class="pre">=</span> <span class="pre">jointdynamics(qd,</span> <span class="pre">q)</span></code> calculates a vector of n
continuous-time transfer functions that represent the transfer
function 1/(Js+B) for each joint based on the dynamic parameters
of the robot and the configuration q (n). n is the number of robot
joints.  The result is a list of tuples (J, B) for each joint.</p>
<p><code class="docutils literal notranslate"><span class="pre">tf</span> <span class="pre">=</span> <span class="pre">jointdynamics(q,</span> <span class="pre">qd)</span></code> as above but include the linearized
effects of Coulomb friction when operating at joint velocity QD
(1xN).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – Joint coordinates</p></li>
<li><p><strong>qd</strong> – Joint velocity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>transfer function denominators</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a> of 2-tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.keywords">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.keywords" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.link_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">link_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LinkType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.link_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.linkcolormap">
<span class="sig-name descname"><span class="pre">linkcolormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linkcolors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'viridis'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.linkcolormap" title="Permalink to this definition"></a></dt>
<dd><p>Create a colormap for robot joints</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cm</span> <span class="pre">=</span> <span class="pre">robot.linkcolormap()</span></code> is an n-element colormap that gives a
unique color for every link.  The RGBA colors for link <code class="docutils literal notranslate"><span class="pre">j</span></code> are
<code class="docutils literal notranslate"><span class="pre">cm(j)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cm</span> <span class="pre">=</span> <span class="pre">robot.linkcolormap(cmap)</span></code> as above but <code class="docutils literal notranslate"><span class="pre">cmap</span></code> is the name
of a valid matplotlib colormap.  The default, example above, is the
<code class="docutils literal notranslate"><span class="pre">viridis</span></code> colormap.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cm</span> <span class="pre">=</span> <span class="pre">robot.linkcolormap(list</span> <span class="pre">of</span> <span class="pre">colors)</span></code> as above but a
colormap is created from a list of n color names given as strings,
tuples or hexstrings.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>linkcolors</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – list of colors or colormap, defaults to “viridis”</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the color map</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>color map</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cm</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">linkcolormap</span><span class="p">(</span><span class="s2">&quot;inferno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span> <span class="c1"># cm(i) is 3rd color in colormap</span>
<span class="go">[[0.0015 0.0005 0.0139 1.    ]</span>
<span class="go"> [0.2582 0.0386 0.4065 1.    ]</span>
<span class="go"> [0.5783 0.148  0.4044 1.    ]</span>
<span class="go"> [0.865  0.3168 0.2261 1.    ]</span>
<span class="go"> [0.9876 0.6453 0.0399 1.    ]</span>
<span class="go"> [0.9884 0.9984 0.6449 1.    ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cm</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">linkcolormap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;#0f8040&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;cyan&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span>
<span class="go">[[1.     0.     0.     1.    ]</span>
<span class="go"> [0.     0.5    0.     1.    ]</span>
<span class="go"> [0.     0.5    0.     1.    ]</span>
<span class="go"> [0.0588 0.502  0.251  1.    ]</span>
<span class="go"> [1.     1.     0.     1.    ]</span>
<span class="go"> [0.     1.     1.     1.    ]]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul>
<li><p>Colormaps have 4-elements: red, green, blue, alpha (RGBA)</p></li>
<li><p>Names of supported colors and colormaps are defined in the
matplotlib documentation.</p>
<blockquote>
<div><ul class="simple">
<li><p><a href="#id76"><span class="problematic" id="id77">`</span></a>Specifying colors</p></li>
</ul>
<p>&lt;<a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colors.html#sphx-glr-tutorials-colors-colors-py">https://matplotlib.org/3.1.0/tutorials/colors/colors.html#sphx-glr-tutorials-colors-colors-py</a>&gt;`_
- <a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html#sphx-glr-tutorials-colors-colormaps-py">Colormaps</a></p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">links</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">LinkType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.links" title="Permalink to this definition"></a></dt>
<dd><p>Robot links</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of link objects</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>links</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>It is probably more concise to index the robot object rather
than the list of links, ie. the following are equivalent:
- <code class="docutils literal notranslate"><span class="pre">robot.links[i]</span></code>
- <code class="docutils literal notranslate"><span class="pre">robot[i]</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.manufacturer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">manufacturer</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.manufacturer" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot manufacturer’s name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.manufacturer</span></code> is the robot manufacturer’s name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.manufacturer</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the manufacturer’s name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot manufacturer’s name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>manufacturer</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.n">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.n" title="Permalink to this definition"></a></dt>
<dd><p>Number of joints</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of joints</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>n</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">n</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.nlinks" title="roboticstoolbox.robot.Robot.Robot2.nlinks"><code class="xref py py-func docutils literal notranslate"><span class="pre">nlinks()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.nbranches" title="roboticstoolbox.robot.Robot.Robot2.nbranches"><code class="xref py py-func docutils literal notranslate"><span class="pre">nbranches()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.name" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.name</span></code> is the robot name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – the new robot name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current robot name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.nbranches">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbranches</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.nbranches" title="Permalink to this definition"></a></dt>
<dd><p>Number of branches</p>
<p>Number of branches in this robot.  Computed as the number of links with
zero children</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of branches in the robot’s kinematic tree</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nbranches</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ETS</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">nbranches</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.n" title="roboticstoolbox.robot.Robot.Robot2.n"><code class="xref py py-func docutils literal notranslate"><span class="pre">n()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.nlinks" title="roboticstoolbox.robot.Robot.Robot2.nlinks"><code class="xref py py-func docutils literal notranslate"><span class="pre">nlinks()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.nlinks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nlinks</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.nlinks" title="Permalink to this definition"></a></dt>
<dd><p>Number of links</p>
<p>The returned number is the total of both variable joints and
static links</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nlinks</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">nlinks</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.n" title="roboticstoolbox.robot.Robot.Robot2.n"><code class="xref py py-func docutils literal notranslate"><span class="pre">n()</span></code></a>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.nbranches" title="roboticstoolbox.robot.Robot.Robot2.nbranches"><code class="xref py py-func docutils literal notranslate"><span class="pre">nbranches()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.nofriction">
<span class="sig-name descname"><span class="pre">nofriction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viscous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.nofriction" title="Permalink to this definition"></a></dt>
<dd><p>Remove manipulator joint friction</p>
<p><code class="docutils literal notranslate"><span class="pre">nofriction()</span></code> copies the robot and returns
a robot with the same link parameters except the Coulomb and/or viscous
friction parameter are set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – set the Coulomb friction to 0</p></li>
<li><p><strong>viscous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – set the viscous friction to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the robot with dynamic parameters perturbed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot.friction" title="roboticstoolbox.robot.Robot.Robot.friction"><code class="xref py py-func docutils literal notranslate"><span class="pre">Robot.friction()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Link.nofriction()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.pay">
<span class="sig-name descname"><span class="pre">pay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.pay" title="Permalink to this definition"></a></dt>
<dd><p>Generalised joint force/torque due to a payload wrench</p>
<p>tau = pay(W, J) Returns the generalised joint force/torques due to a
payload wrench W applied to the end-effector. Where the manipulator
Jacobian is J (6xn), and n is the number of robot joints.</p>
<p>tau = pay(W, q, frame) as above but the Jacobian is calculated at pose
q in the frame given by frame which is 0 for base frame, 1 for
end-effector frame.</p>
<p>Uses the formula tau = J’W, where W is a wrench vector applied at the
end effector, W = [Fx Fy Fz Mx My Mz]’.</p>
<dl class="simple">
<dt>Trajectory operation:</dt><dd><p>In the case q is nxm or J is 6xnxm then tau is nxm where each row
is the generalised force/torque at the pose given by corresponding
row of q.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – A wrench vector applied at the end effector,
W = [Fx Fy Fz Mx My Mz]</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – Joint coordinates</p></li>
<li><p><strong>J</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]) – The manipulator Jacobian (Optional, if not supplied will
use the q value).</p></li>
<li><p><strong>frame</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The frame in which to torques are expressed in when J
is not supplied. 0 means base frame of the robot, 1 means end-
effector frame</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Joint forces/torques due to w</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>t</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Wrench vector and Jacobian must be from the same reference</dt><dd><p>frame.</p>
</dd>
</dl>
</li>
<li><p>Tool transforms are taken into consideration when frame=1.</p></li>
<li><dl class="simple">
<dt>Must have a constant wrench - no trajectory support for this</dt><dd><p>yet.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.paycap">
<span class="sig-name descname"><span class="pre">paycap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tauR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.paycap" title="Permalink to this definition"></a></dt>
<dd><p>Static payload capacity of a robot</p>
<p><code class="docutils literal notranslate"><span class="pre">wmax,</span> <span class="pre">joint</span> <span class="pre">=</span> <span class="pre">paycap(q,</span> <span class="pre">w,</span> <span class="pre">f,</span> <span class="pre">tauR)</span></code> returns the maximum permissible
payload wrench <code class="docutils literal notranslate"><span class="pre">wmax</span></code> (6) applied at the end-effector, and the index
of the joint (zero indexed) which hits its force/torque limit at that
wrench. <code class="docutils literal notranslate"><span class="pre">q</span></code> (n) is the manipulator pose, <code class="docutils literal notranslate"><span class="pre">w</span></code> the payload wrench
(6), <code class="docutils literal notranslate"><span class="pre">f</span></code> the wrench reference frame and tauR (nx2) is a matrix of
joint forces/torques (first col is maximum, second col minimum).</p>
<p><strong>Trajectory operation:</strong></p>
<p>In the case q is nxm then wmax is Mx6 and J is Mx1 where the rows are
the results at the pose given by corresponding row of q.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – The payload wrench</p></li>
<li><p><strong>tauR</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Joint torque matrix minimum and maximums</p></li>
<li><p><strong>frame</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The frame in which to torques are expressed in when J
is not supplied. ‘base’ means base frame of the robot, ‘ee’ means
end-effector frame</p></li>
<li><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Joint coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum permissible payload wrench</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(6)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Wrench vector and Jacobian must be from the same reference frame</p></li>
<li><p>Tool transforms are taken into consideration for frame=1.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0])</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.payload" title="Permalink to this definition"></a></dt>
<dd><p>Add a payload to the end-effector</p>
<p>payload(m, p) adds payload mass adds a payload with point mass m at
position p in the end-effector coordinate frame.</p>
<p>payload(m) adds payload mass adds a payload with point mass m at
in the end-effector coordinate frame.</p>
<p>payload(0) removes added payload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – mass (kg)</p></li>
<li><p><strong>p</strong> – position in end-effector frame</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.perturb">
<span class="sig-name descname"><span class="pre">perturb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.perturb" title="Permalink to this definition"></a></dt>
<dd><p>Perturb robot parameters</p>
<p>rp = perturb(p) is a new robot object in which the dynamic parameters
(link mass and inertia) have been perturbed. The perturbation is
multiplicative so that values are multiplied by random numbers in the
interval (1-p) to (1+p). The name string of the perturbed robot is
prefixed by ‘P/’.</p>
<p>Useful for investigating the robustness of various model-based control
schemes. For example to vary parameters in the range +/- 10 percent
is: r2 = puma.perturb(0.1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>p</strong> – The percent (+/-) to be perturbed. Default 10%</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the robot with dynamic parameters perturbed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="arm_dh.html#roboticstoolbox.robot.DHRobot.DHRobot" title="roboticstoolbox.robot.DHRobot.DHRobot">DHRobot</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.plot" title="Permalink to this definition"></a></dt>
<dd><p>Graphical display and animation</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot(q,</span> <span class="pre">'pyplot')</span></code> displays a graphical view of a robot
based on the kinematic model and the joint configuration <code class="docutils literal notranslate"><span class="pre">q</span></code>.
This is a stick figure polyline which joins the origins of the
link coordinate frames. The plot will autoscale with an aspect
ratio of 1.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> (m,n) representing a joint-space trajectory it will create an
animation with a pause of <code class="docutils literal notranslate"><span class="pre">dt</span></code> seconds between each frame.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id79">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id79" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.backend">
<span class="sig-name descname"><span class="pre">backend</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.backend" title="Permalink to this definition"></a></dt>
<dd><p>The graphical backend to use, currently ‘swift’
and ‘pyplot’ are implemented. Defaults to ‘swift’ of a <code class="docutils literal notranslate"><span class="pre">Robot</span></code>
and ‘pyplot` for a <code class="docutils literal notranslate"><span class="pre">DHRobot</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.block">
<span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.block" title="Permalink to this definition"></a></dt>
<dd><p>Block operation of the code and keep the figure open</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.dt">
<span class="sig-name descname"><span class="pre">dt</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.dt" title="Permalink to this definition"></a></dt>
<dd><p>if q is a trajectory, this describes the delay in
seconds between frames</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.limits">
<span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.limits" title="Permalink to this definition"></a></dt>
<dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]
(this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.vellipse">
<span class="sig-name descname"><span class="pre">vellipse</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.vellipse" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the velocity ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id80">
<span class="sig-name descname"><span class="pre">fellipse</span></span><a class="headerlink" href="#id80" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the force ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.fig">
<span class="sig-name descname"><span class="pre">fig</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.fig" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) The figure label to plot in (this option is for
‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.movie">
<span class="sig-name descname"><span class="pre">movie</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.movie" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) The filename to save the movie to (this option is for
‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.loop">
<span class="sig-name descname"><span class="pre">loop</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.loop" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Loop the movie (this option is for
‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.jointaxes">
<span class="sig-name descname"><span class="pre">jointaxes</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.jointaxes" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint) (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.eeframe">
<span class="sig-name descname"><span class="pre">eeframe</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.eeframe" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.
(this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.shadow">
<span class="sig-name descname"><span class="pre">shadow</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.shadow" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane. (this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id81">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#id81" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the name of the robot near its base
(this option is for ‘pyplot’ only)</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A reference to the environment object which controls the
figure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default this method will block until the figure is dismissed.</dt><dd><p>To avoid this set <code class="docutils literal notranslate"><span class="pre">block=False</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>For PyPlot, the polyline joins the origins of the link frames,</dt><dd><p>but for some Denavit-Hartenberg models those frames may not
actually be on the robot, ie. the lines to not neccessarily
represent the links of the robot.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.teach" title="roboticstoolbox.robot.Robot.Robot2.teach"><code class="xref py py-func docutils literal notranslate"><span class="pre">teach()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.plot_ellipse">
<span class="sig-name descname"><span class="pre">plot_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ellipse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointaxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eeframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shadow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.plot_ellipse" title="Permalink to this definition"></a></dt>
<dd><p>Plot the an ellipsoid</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_ellipse(ellipsoid)</span></code> displays the ellipsoid.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.ellipse">
<span class="sig-name descname"><span class="pre">ellipse</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.ellipse" title="Permalink to this definition"></a></dt>
<dd><p>the ellipsoid to plot</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id82">
<span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#id82" title="Permalink to this definition"></a></dt>
<dd><p>Block operation of the code and keep the figure open</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id83">
<span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#id83" title="Permalink to this definition"></a></dt>
<dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id84">
<span class="sig-name descname"><span class="pre">jointaxes</span></span><a class="headerlink" href="#id84" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id85">
<span class="sig-name descname"><span class="pre">eeframe</span></span><a class="headerlink" href="#id85" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id86">
<span class="sig-name descname"><span class="pre">shadow</span></span><a class="headerlink" href="#id86" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id87">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#id87" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the name of the robot near its base</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.plot_fellipse">
<span class="sig-name descname"><span class="pre">plot_fellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointaxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eeframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shadow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.plot_fellipse" title="Permalink to this definition"></a></dt>
<dd><p>Plot the force ellipsoid for manipulator</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_fellipse(q)</span></code> displays the velocity ellipsoid for the
robot at pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The plot will autoscale with an aspect ratio
of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_fellipse(vellipse)</span></code> specifies a custon ellipse to plot.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id88">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id88" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id89">
<span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#id89" title="Permalink to this definition"></a></dt>
<dd><p>Block operation of the code and keep the figure open</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id90">
<span class="sig-name descname"><span class="pre">fellipse</span></span><a class="headerlink" href="#id90" title="Permalink to this definition"></a></dt>
<dd><p>the vellocity ellipsoid to plot</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id91">
<span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#id91" title="Permalink to this definition"></a></dt>
<dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id92">
<span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#id92" title="Permalink to this definition"></a></dt>
<dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational force ellipsoid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id93">
<span class="sig-name descname"><span class="pre">centre</span></span><a class="headerlink" href="#id93" title="Permalink to this definition"></a></dt>
<dd><p>The coordinates to plot the fellipse [x, y, z] or “ee”
to plot at the end-effector location</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id94">
<span class="sig-name descname"><span class="pre">jointaxes</span></span><a class="headerlink" href="#id94" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id95">
<span class="sig-name descname"><span class="pre">eeframe</span></span><a class="headerlink" href="#id95" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id96">
<span class="sig-name descname"><span class="pre">shadow</span></span><a class="headerlink" href="#id96" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id97">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#id97" title="Permalink to this definition"></a></dt>
<dd><p>(Plot Option) Plot the name of the robot near its base</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – q or fellipse must be supplied</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.plot_vellipse">
<span class="sig-name descname"><span class="pre">plot_vellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointaxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eeframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shadow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.plot_vellipse" title="Permalink to this definition"></a></dt>
<dd><p>Plot the velocity ellipsoid for manipulator</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_vellipse(q)</span></code> displays the velocity ellipsoid for the
robot at pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The plot will autoscale with an aspect ratio
of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.plot_vellipse(vellipse)</span></code> specifies a custon ellipse to plot.</p>
<dl class="simple">
<dt>block</dt><dd><p>Block operation of the code and keep the figure open</p>
</dd>
<dt>q</dt><dd><p>The joint configuration of the robot</p>
</dd>
<dt>vellipse</dt><dd><p>the vellocity ellipsoid to plot</p>
</dd>
<dt>limits</dt><dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd>
<dt>opt</dt><dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational velocity ellipsoid</p>
</dd>
<dt>centre</dt><dd><p>The coordinates to plot the vellipse [x, y, z] or “ee”
to plot at the end-effector location</p>
</dd>
<dt>jointaxes</dt><dd><p>(Plot Option) Plot an arrow indicating the axes in
which the joint revolves around(revolute joint) or translates
along (prosmatic joint)</p>
</dd>
<dt>eeframe</dt><dd><p>(Plot Option) Plot the end-effector coordinate frame
at the location of the end-effector. Uses three arrows, red,
green and blue to indicate the x, y, and z-axes.</p>
</dd>
<dt>shadow</dt><dd><p>(Plot Option) Plot a shadow of the robot in the x-y
plane</p>
</dd>
<dt>name</dt><dd><p>(Plot Option) Plot the name of the robot near its base</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – q or fellipse must be supplied</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.prismaticjoints">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prismaticjoints</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.prismaticjoints" title="Permalink to this definition"></a></dt>
<dd><p>Revolute joints as bool array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array of joint type, True if prismatic</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>prismaticjoints</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fixed joints, that maintain a constant link relative pose,
are not included.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isprismatic()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.revolutejoints" title="roboticstoolbox.robot.Robot.Robot2.revolutejoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">revolutejoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id98">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">q</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#id98" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot joint configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.q</span></code> is the robot joint configuration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.q</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint configuration</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> – the new robot joint configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot joint configuration</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>q</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.qd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.qd" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot joint velocity</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qd</span></code> is the robot joint velocity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qd</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint velocity</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot joint velocity</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qd</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.qdd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qdd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.qdd" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot joint acceleration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qdd</span></code> is the robot joint acceleration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.qdd</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot joint acceleration</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>robot joint acceleration</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qdd</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.qlim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qlim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.qlim" title="Permalink to this definition"></a></dt>
<dd><p>Joint limits</p>
<p>Limits are extracted from the link objects.  If joints limits are
not set for:</p>
<ul class="simple">
<li><p>a revolute joint [-𝜋. 𝜋] is returned</p></li>
<li><p>a prismatic joint an exception is raised</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="id99">
<span class="sig-name descname"><span class="pre">qlim</span></span><a class="headerlink" href="#id99" title="Permalink to this definition"></a></dt>
<dd><p>An array of joints limits (2, n)</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – unset limits for a prismatic joint</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of joint limit values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>qlim</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="o">.</span><span class="n">qlim</span>
<span class="go">array([[-2.7925, -1.9199, -2.3562, -4.6426, -1.7453, -4.6426],</span>
<span class="go">       [ 2.7925,  1.9199,  2.3562,  4.6426,  1.7453,  4.6426]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.random_q">
<span class="sig-name descname"><span class="pre">random_q</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.random_q" title="Permalink to this definition"></a></dt>
<dd><p>Return a random joint configuration</p>
<p>The value for each joint is uniform randomly distributed  between the
limits set for the robot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The joint limit for all joints must be set.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Random joint configuration :rtype: ndarray(n)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>q</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#id65" title="roboticstoolbox.robot.Robot.Robot.qlim"><code class="xref py py-func docutils literal notranslate"><span class="pre">Robot.qlim()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Link.qlim()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.revolutejoints">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">revolutejoints</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.revolutejoints" title="Permalink to this definition"></a></dt>
<dd><p>Revolute joints as bool array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array of joint type, True if revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>revolutejoints</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fixed joints, that maintain a constant link relative pose,
are not included.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Link.isrevolute()</span></code>, <a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.prismaticjoints" title="roboticstoolbox.robot.Robot.Robot2.prismaticjoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">prismaticjoints()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.scene_children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.scene_children" title="Permalink to this definition"></a></dt>
<dd><p>Returns the child nodes of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.scene_parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.11)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.scene_parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns the parent node of this object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.segments">
<span class="sig-name descname"><span class="pre">segments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.segments" title="Permalink to this definition"></a></dt>
<dd><p>Segments of branched robot</p>
<p>For a single-chain robot with structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L1</span> <span class="o">-</span> <span class="n">L2</span> <span class="o">-</span> <span class="n">L3</span>
</pre></div>
</div>
<p>the return is <code class="docutils literal notranslate"><span class="pre">[[None,</span> <span class="pre">L1,</span> <span class="pre">L2,</span> <span class="pre">L3]]</span></code></p>
<p>For a robot with structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L1</span> <span class="o">-</span> <span class="n">L2</span> <span class="o">+-</span>  <span class="n">L3</span> <span class="o">-</span> <span class="n">L4</span>
        <span class="o">+-</span> <span class="n">L5</span> <span class="o">-</span> <span class="n">L6</span>
</pre></div>
</div>
<p>the return is <code class="docutils literal notranslate"><span class="pre">[[None,</span> <span class="pre">L1,</span> <span class="pre">L2],</span> <span class="pre">[L2,</span> <span class="pre">L3,</span> <span class="pre">L4],</span> <span class="pre">[L2,</span> <span class="pre">L5,</span> <span class="pre">L6]]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Segment list</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>segments</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>the length of the list is the number of segments in the robot</p></li>
<li><dl class="simple">
<dt>the first segment always starts with <code class="docutils literal notranslate"><span class="pre">None</span></code> which represents</dt><dd><p>the base transform (since there is no base link)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>the last link of one segment is also the first link of subsequent</dt><dd><p>segments</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.showgraph">
<span class="sig-name descname"><span class="pre">showgraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display_graph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.showgraph" title="Permalink to this definition"></a></dt>
<dd><p>Display a link transform graph in browser</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.showgraph()</span></code> displays a graph of the robot’s link frames
and the ETS between them.  It uses GraphViz dot.</p>
<dl class="simple">
<dt>The nodes are:</dt><dd><ul class="simple">
<li><p>Base is shown as a grey square. This is the world frame origin,
but can be changed using the <code class="docutils literal notranslate"><span class="pre">base</span></code> attribute of the robot.</p></li>
<li><p>Link frames are indicated by circles</p></li>
<li><p>ETS transforms are indicated by rounded boxes</p></li>
</ul>
</dd>
<dt>The edges are:</dt><dd><ul class="simple">
<li><p>an arrow if <cite>jtype</cite> is False or the joint is fixed</p></li>
<li><p>an arrow with a round head if <cite>jtype</cite> is True and the joint is
revolute</p></li>
<li><p>an arrow with a box head if <cite>jtype</cite> is True and the joint is
prismatic</p></li>
</ul>
</dd>
</dl>
<p>Edge labels or nodes in blue have a fixed transformation to the
preceding link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display_graph</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Open the graph in a browser if True. Otherwise will return the
file path</p></li>
<li><p><strong>etsbox</strong> – Put the link ETS in a box, otherwise an edge label</p></li>
<li><p><strong>jtype</strong> – Arrowhead to node indicates revolute or prismatic type</p></li>
<li><p><strong>static</strong> – Show static joints in blue and bold</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">panda</span><span class="o">.</span><span class="n">showgraph</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/panda-graph.svg"><img alt="_images/panda-graph.svg" src="_images/panda-graph.svg" width="600" /></a>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Robot.Robot2.dotfile" title="roboticstoolbox.robot.Robot.Robot2.dotfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">dotfile()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.structure">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">structure</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.structure" title="Permalink to this definition"></a></dt>
<dd><p>Return the joint structure string</p>
<p>A string with one letter per joint: <code class="docutils literal notranslate"><span class="pre">R</span></code> for a revolute
joint, and <code class="docutils literal notranslate"><span class="pre">P</span></code> for a prismatic joint.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint configuration string</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>structure</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">puma</span><span class="o">.</span><span class="n">structure</span>
<span class="go">&#39;RRRRRR&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Stanford</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span><span class="o">.</span><span class="n">structure</span>
<span class="go">&#39;RRPRRR&#39;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fixed joints, that maintain a constant link relative pose,
are not included.
<code class="docutils literal notranslate"><span class="pre">len(self.structure)</span> <span class="pre">==</span> <span class="pre">self.n</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.symbolic">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">symbolic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.symbolic" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.teach">
<span class="sig-name descname"><span class="pre">teach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fellipse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.teach" title="Permalink to this definition"></a></dt>
<dd><p>Graphical teach pendant</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.teach(q)</span></code> creates a matplotlib plot which allows the user to
“drive” a graphical robot using a graphical slider panel. The robot’s
inital joint configuration is <code class="docutils literal notranslate"><span class="pre">q</span></code>. The plot will autoscale with an
aspect ratio of 1.</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.teach()</span></code> as above except the robot’s stored value of <code class="docutils literal notranslate"><span class="pre">q</span></code>
is used.</p>
<dl class="simple">
<dt>q</dt><dd><p>The joint configuration of the robot (Optional,
if not supplied will use the stored q values).</p>
</dd>
<dt>block</dt><dd><p>Block operation of the code and keep the figure open</p>
</dd>
<dt>limits</dt><dd><p>Custom view limits for the plot. If not supplied will
autoscale, [x1, x2, y1, y2, z1, z2]</p>
</dd>
<dt>vellipse</dt><dd><p>(Plot Option) Plot the velocity ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd>
<dt>fellipse</dt><dd><p>(Plot Option) Plot the force ellipse at the
end-effector (this option is for ‘pyplot’ only)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A reference to the PyPlot object which controls the
matplotlib figure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul>
<li><dl class="simple">
<dt>Program execution is blocked until the teach window is</dt><dd><p>dismissed.  If <code class="docutils literal notranslate"><span class="pre">block=False</span></code> the method is non-blocking but
you need to poll the window manager to ensure that the window
remains responsive.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>The slider limits are derived from the joint limit properties.</dt><dd><p>If not set then:
- For revolute joints they are assumed to be [-pi, +pi]
- For prismatic joint they are assumed unknown and an error</p>
<blockquote>
<div><p>occurs.</p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.todegrees">
<span class="sig-name descname"><span class="pre">todegrees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.todegrees" title="Permalink to this definition"></a></dt>
<dd><p>Convert joint angles to degrees</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> – The joint configuration of the robot</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>q</em> – a vector of joint coordinates in degrees and metres</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.todegrees(q)</span></code> converts joint coordinates <code class="docutils literal notranslate"><span class="pre">q</span></code> to degrees</p></li>
<li><p>taking into account whether elements of <code class="docutils literal notranslate"><span class="pre">q</span></code> correspond to revolute</p></li>
<li><p><em>or prismatic joints, ie. prismatic joint values are not converted.</em></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix, with one column per joint, the conversion is</p></li>
<li><p><em>performed columnwise.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Stanford</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span><span class="o">.</span><span class="n">todegrees</span><span class="p">([</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span>
<span class="go">array([ 45. ,  22.5,   2. , -45. ,  30. ,  60. ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.tool">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tool</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_pose_SE3.html#spatialmath.pose3d.SE3" title="(in Spatial Maths package v1.1.6)"><span class="pre">SE3</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.tool" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot tool transform</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot.tool</span></code> is the robot tool transform as an SE3 object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot._tool</span></code> is the robot tool transform as a numpy array</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.tool</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot tool transform</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tool</strong> – the new robot tool transform (as an SE(3))</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>robot tool transform</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.toradians">
<span class="sig-name descname"><span class="pre">toradians</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.toradians" title="Permalink to this definition"></a></dt>
<dd><p>Convert joint angles to radians</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.toradians(q)</span></code> converts joint coordinates <code class="docutils literal notranslate"><span class="pre">q</span></code> to radians
taking into account whether elements of <code class="docutils literal notranslate"><span class="pre">q</span></code> correspond to revolute
or prismatic joints, ie. prismatic joint values are not converted.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a matrix, with one column per joint, the conversion is
performed columnwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> – The joint configuration of the robot</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a vector of joint coordinates in radians and metres</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>q</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Stanford</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stanford</span><span class="o">.</span><span class="n">toradians</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="go">array([0.1745, 0.3491, 2.    , 0.5236, 0.6981, 0.8727])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.urdf_filepath">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">urdf_filepath</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.urdf_filepath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.urdf_string">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">urdf_string</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.urdf_string" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id100">
<span class="sig-name descname"><span class="pre">vellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'trans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id100" title="Permalink to this definition"></a></dt>
<dd><p>Create a velocity ellipsoid object for plotting with PyPlot</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.vellipse(q)</span></code> creates a force ellipsoid for the robot at
pose <code class="docutils literal notranslate"><span class="pre">q</span></code>. The ellipsoid is centered at the origin.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id101">
<span class="sig-name descname"><span class="pre">q</span></span><a class="headerlink" href="#id101" title="Permalink to this definition"></a></dt>
<dd><p>The joint configuration of the robot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id102">
<span class="sig-name descname"><span class="pre">opt</span></span><a class="headerlink" href="#id102" title="Permalink to this definition"></a></dt>
<dd><p>‘trans’ or ‘rot’ will plot either the translational or
rotational force ellipsoid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id103">
<span class="sig-name descname"><span class="pre">unit</span></span><a class="headerlink" href="#id103" title="Permalink to this definition"></a></dt>
<dd><p>‘rad’ or ‘deg’ will plot the ellipsoid in radians or
degrees</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id104">
<span class="sig-name descname"><span class="pre">centre</span></span><a class="headerlink" href="#id104" title="Permalink to this definition"></a></dt>
<dd><p>The centre of the ellipsoid, either ‘ee’ for the end-effector
or a 3-vector [x, y, z] in the world frame</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.scale">
<span class="sig-name descname"><span class="pre">scale</span></span><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.scale" title="Permalink to this definition"></a></dt>
<dd><p>The scale factor for the ellipsoid</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An EllipsePlot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>env</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>By default the ellipsoid related to translational motion is</dt><dd><p>drawn.  Use <code class="docutils literal notranslate"><span class="pre">opt='rot'</span></code> to draw the rotational velocity
ellipsoid.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>By default the ellipsoid is drawn at the origin.  The option</dt><dd><p><code class="docutils literal notranslate"><span class="pre">centre</span></code> allows its origin to set to set to the specified
3-vector, or the string “ee” ensures it is drawn at the
end-effector position.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.base">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://petercorke.github.io/spatialmath-python/2d_pose_SE2.html#spatialmath.pose2d.SE2" title="(in Spatial Maths package v1.1.6)"><span class="pre">SE2</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.base" title="Permalink to this definition"></a></dt>
<dd><p>Get/set robot base transform (Robot superclass)</p>
<p><code class="docutils literal notranslate"><span class="pre">robot.base</span></code> is the robot base transform</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>base</em> – robot tool transform</p></li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">robot.base</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot base transform</p></li>
</ul>
</li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The private attribute <code class="docutils literal notranslate"><span class="pre">_base</span></code> will be None in the case of</dt><dd><p>no base transform, but this property will return <code class="docutils literal notranslate"><span class="pre">SE3()</span></code> which
is an identity matrix.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.jacob0">
<span class="sig-name descname"><span class="pre">jacob0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot2.jacob0"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.jacob0" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.jacobe">
<span class="sig-name descname"><span class="pre">jacobe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot2.jacobe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.jacobe" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.fkine">
<span class="sig-name descname"><span class="pre">fkine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot2.fkine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.fkine" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.reach">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reach</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.reach" title="Permalink to this definition"></a></dt>
<dd><p>Reach of the robot</p>
<p>A conservative estimate of the reach of the robot. It is computed as
the sum of the translational ETs that define the link transform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Computed on the first access. If kinematic parameters
subsequently change this will not be reflected.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Maximum reach of the robot</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>reach</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Probably an overestimate of reach</p></li>
<li><p>Used by numerical inverse kinematics to scale translational
error.</p></li>
<li><p>For a prismatic joint, uses <code class="docutils literal notranslate"><span class="pre">qlim</span></code> if it is set</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Robot.Robot2.fkine_all">
<span class="sig-name descname"><span class="pre">fkine_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Robot.html#Robot2.fkine_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Robot.Robot2.fkine_all" title="Permalink to this definition"></a></dt>
<dd><p>Compute the pose of every link frame</p>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">robot.fkine_all(q)</span></code> is  an SE3 instance with <code class="docutils literal notranslate"><span class="pre">robot.nlinks</span> <span class="pre">+</span>
<span class="pre">1</span></code> values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T[0]</span></code> is the base transform</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T[i]</span></code> is the pose of link whose <code class="docutils literal notranslate"><span class="pre">number</span></code> is <code class="docutils literal notranslate"><span class="pre">i</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]]) – The joint configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pose of all links</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>fkine_all</p>
</dd>
</dl>
<p class="rubric">References</p>
<ul class="simple">
<li><p>J. Haviland, and P. Corke. “Manipulator Differential Kinematics Part I:
Kinematics, Velocity, and Applications.” arXiv preprint arXiv:2207.01796 (2022).</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="kinematic-cache">
<h2>Kinematic cache<a class="headerlink" href="#kinematic-cache" title="Permalink to this heading"></a></h2>
</section>
<section id="link">
<h2>Link<a class="headerlink" href="#link" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ERobot</span></code> is defined by a tree of <code class="docutils literal notranslate"><span class="pre">ELink</span></code> subclass objects.</p>
<div class="graphviz"><img src="_images/inheritance-6274b1e5804a36f3160b8f46df257a2c8c4d235c.png" alt="Inheritance diagram of roboticstoolbox.Link" usemap="#inheritance1209b9c66c" class="inheritance graphviz" /></div>
<map id="inheritance1209b9c66c" name="inheritance1209b9c66c">
<area shape="rect" id="node1" href="#roboticstoolbox.robot.Link.BaseLink" target="_top" title="An abstract link superclass for all link types." alt="" coords="225,31,337,56"/>
<area shape="rect" id="node4" href="#roboticstoolbox.robot.Link.Link" target="_top" title="ETS link class" alt="" coords="385,31,465,56"/>
</map><span class="target" id="module-roboticstoolbox.robot.Link"></span><dl class="py class">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">roboticstoolbox.robot.Link.</span></span><span class="sig-name descname"><span class="pre">BaseLink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Jm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Tc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SceneNode</span></code>, <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>An abstract link superclass for all link types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ets</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="arm_ets.html#roboticstoolbox.robot.ETS.ETS" title="roboticstoolbox.robot.ETS.ETS"><code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code></a>, <a class="reference internal" href="arm_ets.html#roboticstoolbox.robot.ETS.ETS2" title="roboticstoolbox.robot.ETS.ETS2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ETS2</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ET</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ET2</span></code>]) – kinematic - The elementary transforms which make up the link</p></li>
<li><p><strong>name</strong> – name of the link</p></li>
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Self</span></code>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – a reference to the parent link in the kinematic chain</p></li>
<li><p><strong>joint_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – the name of the joint variable</p></li>
<li><p><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – dynamic - link mass</p></li>
<li><p><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – dynamic - position of COM with respect to link frame</p></li>
<li><p><strong>I</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – dynamic - inertia of link with respect to COM</p></li>
<li><p><strong>Jm</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – dynamic - motor inertia</p></li>
<li><p><strong>B</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – dynamic - motor viscous friction</p></li>
<li><p><strong>Tc</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – dynamic - motor Coulomb friction [Tc⁺, Tc⁻]</p></li>
<li><p><strong>G</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – dynamic - gear ratio</p></li>
<li><p><strong>qlim</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – joint variable limits [min, max]</p></li>
<li><p><strong>geometry</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>]) – the visual geometry which represents the link. This is used
to display the link in Swift</p></li>
<li><p><strong>collision</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>]) – the collision geometry which represents the link in collision
checkers</p></li>
</ul>
</dd>
</dl>
<div class="graphviz"><img src="_images/inheritance-27ebdd9380592460dac48849166ed3d272b663a1.png" alt="Inheritance diagram of roboticstoolbox.RevoluteDH, roboticstoolbox.PrismaticDH, roboticstoolbox.RevoluteMDH, roboticstoolbox.PrismaticMDH, roboticstoolbox.Link" usemap="#inheritance7f64e21384" class="inheritance graphviz" /></div>
<map id="inheritance7f64e21384" name="inheritance7f64e21384">
<area shape="rect" id="node1" href="arm_dh.html#roboticstoolbox.robot.DHLink" target="_top" title="A link superclass for all robots defined using Denavit&#45;Hartenberg notation." alt="" coords="462,72,570,95"/>
<area shape="rect" id="node3" href="arm_dh.html#roboticstoolbox.robot.DHLink.PrismaticDH" target="_top" title="Class for prismatic link using standard DH convention" alt="" coords="619,5,758,28"/>
<area shape="rect" id="node4" href="arm_dh.html#roboticstoolbox.robot.DHLink.PrismaticMDH" target="_top" title="Class for prismatic link using modified DH convention" alt="" coords="613,49,763,72"/>
<area shape="rect" id="node5" href="arm_dh.html#roboticstoolbox.robot.DHLink.RevoluteDH" target="_top" title="Class for revolute links using standard DH convention" alt="" coords="620,94,756,116"/>
<area shape="rect" id="node6" href="arm_dh.html#roboticstoolbox.robot.DHLink.RevoluteMDH" target="_top" title="Class for revolute links using modified DH convention" alt="" coords="615,138,761,161"/>
<area shape="rect" id="node2" href="#roboticstoolbox.robot.Link.Link" target="_top" title="ETS link class" alt="" coords="347,72,419,95"/>
<area shape="rect" id="node7" href="#roboticstoolbox.robot.Link.BaseLink" target="_top" title="An abstract link superclass for all link types." alt="" coords="203,72,304,95"/>
</map><p class="rubric">Synopsis</p>
<p>It holds metadata related to:</p>
<ul class="simple">
<li><p>a robot link, such as rigid-body inertial parameters defined in the link
frame, and link name</p></li>
<li><p>a robot joint, that connects this link to its parent, such as joint
limits, direction of motion, motor and transmission parameters.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>For a more sophisticated actuator model use the <code class="docutils literal notranslate"><span class="pre">actuator</span></code></dt><dd><p>attribute which is not initialized or used by this Toolbox.</p>
</dd>
</dl>
</li>
<li><p>There is no ability to name a joint as supported by URDF</p></li>
</ul>
<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.Ts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Ts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.Ts" title="Permalink to this definition"></a></dt>
<dd><p>Constant part of link ETS</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the constant part.  If no constant part
is given, this returns an identity matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>constant part of link transform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Ts</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">Link</span><span class="p">,</span> <span class="n">ET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">(</span> <span class="n">ET</span><span class="o">.</span><span class="n">tz</span><span class="p">(</span><span class="mf">0.333</span><span class="p">)</span> <span class="o">*</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rz</span><span class="p">()</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span><span class="o">.</span><span class="n">Ts</span>
<span class="go">array([[ 1.   ,  0.   ,  0.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  0.   , -1.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  1.   ,  0.   ,  0.333],</span>
<span class="go">       [ 0.   ,  0.   ,  0.   ,  1.   ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">(</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rz</span><span class="p">()</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span><span class="o">.</span><span class="n">Ts</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.ets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="arm_ets.html#roboticstoolbox.robot.ETS.ETS" title="roboticstoolbox.robot.ETS.ETS"><span class="pre">ETS</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.ets" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link ets</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.ets</span></code> is the link ets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.ets</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link ets</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ets</strong> – the new link ets</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current link ets</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ets</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.__str__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.__str__" title="Permalink to this definition"></a></dt>
<dd><p>Pretty prints the ETS Model of the link</p>
<p>Will output angles in degrees</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pretty print of the robot link</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.copy" title="Permalink to this definition"></a></dt>
<dd><p>Copy of link object</p>
<p><code class="docutils literal notranslate"><span class="pre">link.copy()</span></code> is a new Link subclass instance with a copy of all
the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>copy of link object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>link</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.v">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">v</span></span><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.v" title="Permalink to this definition"></a></dt>
<dd><p>Variable part of link ETS</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the latter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint variable transform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>v</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.name" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.name</span></code> is the link name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.robot">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">robot</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">BaseRobot</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.robot" title="Permalink to this definition"></a></dt>
<dd><p>Get forward reference to the robot which owns this link</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.robot</span></code> is the robot reference</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.robot</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot reference</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The robot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>robot</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.qlim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qlim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.qlim" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint limits</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.qlim</span></code> is the joint limits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.qlim</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint limits</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint limits</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qlim</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The limits are not widely enforced within the toolbox.</p></li>
<li><p>If no joint limits are specified the value is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink.islimit" title="roboticstoolbox.robot.Link.BaseLink.islimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">islimit()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.hasdynamics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasdynamics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.hasdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Link has dynamic parameters (Link superclass)</p>
<p>Link has some assigned (non-default) dynamic parameters.  These could
have been assigned:</p>
<ul class="simple">
<li><p>at constructor time, eg. <code class="docutils literal notranslate"><span class="pre">m=1.2</span></code></p></li>
<li><p>by invoking a setter method, eg. <code class="docutils literal notranslate"><span class="pre">link.m</span> <span class="pre">=</span> <span class="pre">1.2</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link has dynamic parameters</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>hasdynamics</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hasdynamics</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.isflip">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isflip</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.isflip" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint flip</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.flip</span></code> is the joint flip status</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.flip</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint flip status</p></li>
</ul>
<p>Joint flip defines the direction of motion of the joint.</p>
<p><code class="docutils literal notranslate"><span class="pre">flip</span> <span class="pre">=</span> <span class="pre">False</span></code> is conventional motion direction:</p>
<blockquote>
<div><ul class="simple">
<li><p>revolute motion is a positive rotation about the z-axis</p></li>
<li><p>prismatic motion is a positive translation along the z-axis</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">flip</span> <span class="pre">=</span> <span class="pre">True</span></code> is the opposite motion direction:</p>
<blockquote>
<div><ul class="simple">
<li><p>revolute motion is a negative rotation about the z-axis</p></li>
<li><p>prismatic motion is a negative translation along the z-axis</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint flip</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isflip</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.m">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">m</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.m" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link mass</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.m</span></code> is the link mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.m</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link mass</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link mass</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>m</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.r">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">r</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.r" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link centre of mass</p>
<p>The link centre of mass is a 3-vector defined with respect to the link
frame.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.r</span></code> is the link centre of mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.r</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link centre of mass</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link centre of mass</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>r</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.I">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">I</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.I" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link inertia</p>
<p>Link inertia is a symmetric 3x3 matrix describing the inertia with
respect to a frame with its origin at the centre of mass, and with
axes parallel to those of the link frame.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.I</span></code> is the link inertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.I</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link inertia</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link inertia</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>I</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>The inertia matrix is</p>
<p><span class="math notranslate nohighlight">\(\begin{bmatrix} I_{xx} &amp; I_{xy} &amp; I_{xz} \\ I_{xy} &amp; I_{yy} &amp; I_{yz} \\I_{xz} &amp; I_{yz} &amp; I_{zz} \end{bmatrix}\)</span></p>
<p>and can be specified as either:</p>
<ul class="simple">
<li><p>a 3 ⨉ 3 symmetric matrix</p></li>
<li><p>a 3-vector <span class="math notranslate nohighlight">\((I_{xx}, I_{yy}, I_{zz})\)</span></p></li>
<li><p>a 6-vector <span class="math notranslate nohighlight">\((I_{xx}, I_{yy}, I_{zz}, I_{xy}, I_{yz}, I_{xz})\)</span></p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the link side of the gearbox.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.Jm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Jm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.Jm" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor inertia</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.Jm</span></code> is the motor inertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.Jm</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor inertia</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor inertia</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Jm</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.B">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">B</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.B" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor viscous friction</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.B</span></code> is the motor viscous friction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.B</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor viscous friction</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor viscous friction</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>B</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
<li><p>Viscous friction is the same for positive and negative motion.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.Tc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Tc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.Tc" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor Coulomb friction</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.Tc</span></code> is the motor Coulomb friction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.Tc</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor Coulomb friction. If a
scalar is given the value is set to [T, -T], if a 2-vector it is
assumed to be in the order [Tc⁺, Tc⁻]</p></li>
</ul>
<p>Coulomb friction is a non-linear friction effect defined by two
parameters such that</p>
<div class="math notranslate nohighlight">
\[\begin{split}\tau = \left\{ \begin{array}{ll}
    \tau_C^+ &amp; \mbox{if $\dot{q} &gt; 0$} \\
    \tau_C^- &amp; \mbox{if $\dot{q} &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor Coulomb friction</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tc</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
<li><dl class="simple">
<dt><span class="math notranslate nohighlight">\(\tau_C^+\)</span> must be <span class="math notranslate nohighlight">\(&gt; 0\)</span>, and <span class="math notranslate nohighlight">\(\tau_C^-\)</span> must</dt><dd><p>be <span class="math notranslate nohighlight">\(&lt; 0\)</span>.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.G">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">G</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.G" title="Permalink to this definition"></a></dt>
<dd><p>Get/set gear ratio</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.G</span></code> is the transmission gear ratio</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.G</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the gear ratio</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>gear ratio</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>G</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The ratio of motor motion : link motion</p></li>
<li><p>The gear ratio can be negative, see also the <code class="docutils literal notranslate"><span class="pre">flip</span></code> attribute.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">flip()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.attach">
<span class="sig-name descname"><span class="pre">attach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.attach" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.attach_to">
<span class="sig-name descname"><span class="pre">attach_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.attach_to" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.scene_children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.scene_children" title="Permalink to this definition"></a></dt>
<dd><p>Returns the child nodes of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.scene_parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.11)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.scene_parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns the parent node of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.collision">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SceneGroup</span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.collision" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint collision geometry</p>
<p>The collision geometries are what is used to check for collisions.</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link.collision</span></code> is the list of the collision geometries which</dt><dd><p>represent the collidable shape of the link.
:return: the collision geometries
:rtype: list of Shape</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.collision</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the collision geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.collision.append(...)</span></code> add collision geometry</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.geometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geometry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SceneGroup</span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.geometry" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint visual geometry</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link.geometry</span></code> is the list of the visual geometries which</dt><dd><p>represent the shape of the link
:return: the visual geometries
:rtype: list of Shape</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.geometry</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.geometry.append(...)</span></code> add geometry</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.isjoint">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isjoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.isjoint" title="Permalink to this definition"></a></dt>
<dd><p>Test if link has joint</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the whether the Link contains the
variable transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>test if link has a joint</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isjoint</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isjoint</span>  <span class="c1"># link with joint</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">isjoint</span>  <span class="c1"># static link</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.jindex">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jindex</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.jindex" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint index</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.jindex</span></code> is the joint index</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.jindex</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint index</p></li>
</ul>
<p>For a serial-link manipulator the joints are numbered starting at zero
and increasing sequentially toward the end-effector.  For branched
mechanisms this is not so straightforward.
The link’s <code class="docutils literal notranslate"><span class="pre">jindex</span></code> property specifies the index of its joint
variable within a vector of joint coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint index</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>jindex</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">jindex</span></code> values must be a sequence of integers starting</dt><dd><p>at zero.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.isprismatic">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isprismatic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.isprismatic" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the joint is of prismatic type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>return: True if is prismatic</em></p></li>
<li><p><em>rtype: bool</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.isrevolute">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isrevolute</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.isrevolute" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the joint is of revolute type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if is revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isrevolute</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.parent" title="Permalink to this definition"></a></dt>
<dd><p>Parent link</p>
<p>This is a reference to the links parent in the kinematic
chain</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link’s parent</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>parent</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>  <span class="c1"># base link has no parent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>  <span class="c1"># second link&#39;s parent</span>
<span class="go">Link(name = &quot;panda_link0&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.parent_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.parent_name" title="Permalink to this definition"></a></dt>
<dd><p>Parent link name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link’s parent name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>parent_name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><span class="pre">Link</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.children" title="Permalink to this definition"></a></dt>
<dd><p>List of child links</p>
<p>The list will be empty for a end-effector link</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>child links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>children</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.nchildren">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nchildren</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.nchildren" title="Permalink to this definition"></a></dt>
<dd><p>Number of child links</p>
<p>Will be zero for an end-effector link</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of child links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nchildren</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.closest_point">
<span class="sig-name descname"><span class="pre">closest_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inf_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.closest_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.closest_point" title="Permalink to this definition"></a></dt>
<dd><p>Finds the closest point to a shape</p>
<p>closest_point(shape, inf_dist) returns the minimum euclidean
distance between this link and shape, provided it is less than
inf_dist. It will also return the points on self and shape in the
world frame which connect the line of length distance between the
shapes. If the distance is negative then the shapes are collided.</p>
<p>:param :
:type : param shape: The shape to compare distance to
:param : the shape
:type : param inf_dist: The minimum distance within which to consider
:param :
:type : param skip: Skip setting all shape transforms</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>d</em> – d is the distance between the shapes</p></li>
<li><p><em>p1</em> – the points in the world frame on the link
shape. The points returned are [x, y, z].</p></li>
<li><p><em>p2</em> – the points in the world frame the
shape. The points returned are [x, y, z].</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.iscollided">
<span class="sig-name descname"><span class="pre">iscollided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.iscollided"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.iscollided" title="Permalink to this definition"></a></dt>
<dd><p>Checks for collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this link and shape have collided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>) – The shape to compare distance to</p></li>
<li><p><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Skip setting all shape transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if shapes have collided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.collided">
<span class="sig-name descname"><span class="pre">collided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.collided"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.collided" title="Permalink to this definition"></a></dt>
<dd><p>Checks for collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this link and shape have collided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>) – The shape to compare distance to</p></li>
<li><p><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Skip setting all shape transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if shapes have collided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.dyn">
<span class="sig-name descname"><span class="pre">dyn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.dyn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.dyn" title="Permalink to this definition"></a></dt>
<dd><p>Inertial properties of link as a string</p>
<p><code class="docutils literal notranslate"><span class="pre">link.dyn()</span></code> is a string representation the inertial properties of
the link object in a multi-line format. The properties shown are mass,
centre of mass, inertia, friction, gear ratio and motor properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>indent</strong> – indent each line by this many spaces</p>
</dd>
</dl>
<p>:param :
:type : type indent: int
:param :
:type : return: The string representation of the link dynamics
:param :
:type : rtype: string</p>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>        <span class="c1"># kinematic parameters</span>
<span class="go">RevoluteDH:   θ=q,  d=0.15005,  a=0.0203,  ⍺=-1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">dyn</span><span class="p">())</span>  <span class="c1"># dynamic parameters</span>
<span class="go">m     =       4.8 </span>
<span class="go">r     =     -0.02   -0.014     0.07 </span>
<span class="go">        |    0.066        0        0 | </span>
<span class="go">I     = |        0    0.086        0 | </span>
<span class="go">        |        0        0    0.013 | </span>
<span class="go">Jm    =    0.0002 </span>
<span class="go">B     =    0.0014 </span>
<span class="go">Tc    =      0.13(+)     -0.1(-) </span>
<span class="go">G     =       -54 </span>
<span class="go">qlim  =      -2.4 to      2.4</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">dyntable()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.islimit">
<span class="sig-name descname"><span class="pre">islimit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.islimit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.islimit" title="Permalink to this definition"></a></dt>
<dd><p>Checks if joint exceeds limit</p>
<p><code class="docutils literal notranslate"><span class="pre">link.islimit(q)</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q</span></code> exceeds the joint limits defined
by <code class="docutils literal notranslate"><span class="pre">link</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – joint coordinate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if joint is exceeded</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>islimit</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If no limits are set always return False.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink.qlim" title="roboticstoolbox.robot.Link.BaseLink.qlim"><code class="xref py py-func docutils literal notranslate"><span class="pre">qlim()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.nofriction">
<span class="sig-name descname"><span class="pre">nofriction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viscous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.nofriction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.nofriction" title="Permalink to this definition"></a></dt>
<dd><p>Clone link without friction</p>
<p><code class="docutils literal notranslate"><span class="pre">link.nofriction()</span></code> is a copy of the link instance with the same
parameters except, the Coulomb and/or viscous friction parameters are
set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True, will set the Coulomb friction to 0</p></li>
<li><p><strong>viscous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True, will set the viscous friction to 0</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>For simulation it can be useful to remove Couloumb friction</dt><dd><p>which can cause problems for numerical integration.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.BaseLink.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#BaseLink.friction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.BaseLink.friction" title="Permalink to this definition"></a></dt>
<dd><p>Compute joint friction</p>
<p><code class="docutils literal notranslate"><span class="pre">friction(qd)</span></code> is the joint friction force/torque
for joint velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>. The friction model includes:</p>
<ul class="simple">
<li><p>Viscous friction which is a linear function of velocity.</p></li>
<li><p>Coulomb friction which is proportional to sign(qd).</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\tau = G^2 B \dot{q} + |G| \left\{ \begin{array}{ll}
    \tau_C^+ &amp; \mbox{if $\dot{q} &gt; 0$} \\
    \tau_C^- &amp; \mbox{if $\dot{q} &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The joint velocity</p></li>
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – include Coulomb friction</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the friction force/torque</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tau</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The friction value should be added to the motor output torque to</dt><dd><p>determine the nett torque. It has a negative value when qd &gt; 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The returned friction value is referred to the output of the</dt><dd><p>gearbox.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The friction parameters in the Link object are referred to the</dt><dd><p>motor.</p>
</dd>
</dl>
</li>
<li><p>Motor viscous friction is scaled up by <span class="math notranslate nohighlight">\(G^2\)</span>.</p></li>
<li><p>Motor Coulomb friction is scaled up by math:<cite>G</cite>.</p></li>
<li><dl class="simple">
<dt>The appropriate Coulomb friction value to use in the</dt><dd><p>non-symmetric case depends on the sign of the joint velocity,
not the motor velocity.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coulomb friction is zero for zero joint velocity, stiction is</dt><dd><p>not modeled.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used.  Negative gear</dt><dd><p>ratios are tricky: the Puma560 robot has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">roboticstoolbox.robot.Link.</span></span><span class="sig-name descname"><span class="pre">Link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jindex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#Link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.Link" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a></p>
<p>ETS link class</p>
<p>The Link object holds all information related to a robot link and can form
a serial-connected chain or a rigid-body tree.
It inherits from the Link class which provides common functionality such
as joint and link such as kinematics parameters,
The transform to the next link is given as an ETS with the joint
variable, if present, as the last term.  This is preprocessed and
the object stores:
- <code class="docutils literal notranslate"><span class="pre">Ts</span></code> the constant part as a NumPy array, or None
- <code class="docutils literal notranslate"><span class="pre">v</span></code> a pointer to an ETS object representing the joint variable.</p>
<blockquote>
<div><p>or None</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ets</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="arm_ets.html#roboticstoolbox.robot.ETS.ETS" title="roboticstoolbox.robot.ETS.ETS"><code class="xref py py-class docutils literal notranslate"><span class="pre">ETS</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ET</span></code>]) – kinematic - The elementary transforms which make up the link</p></li>
<li><p><strong>jindex</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – the joint variable index</p></li>
<li><p><strong>name</strong> – name of the link</p></li>
<li><p><strong>parent</strong> – a reference to the parent link in the kinematic chain</p></li>
<li><p><strong>joint_name</strong> – the name of the joint variable</p></li>
<li><p><strong>m</strong> – dynamic - link mass</p></li>
<li><p><strong>r</strong> – dynamic - position of COM with respect to link frame</p></li>
<li><p><strong>I</strong> – dynamic - inertia of link with respect to COM</p></li>
<li><p><strong>Jm</strong> – dynamic - motor inertia</p></li>
<li><p><strong>B</strong> – dynamic - motor viscous friction</p></li>
<li><p><strong>Tc</strong> – dynamic - motor Coulomb friction [Tc⁺, Tc⁻]</p></li>
<li><p><strong>G</strong> – dynamic - gear ratio</p></li>
<li><p><strong>qlim</strong> – joint variable limits [min, max]</p></li>
<li><p><strong>geometry</strong> – the visual geometry which represents the link. This is used
to display the link in Swift</p></li>
<li><p><strong>collision</strong> – the collision geometry which represents the link in collision
checkers</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.Link2" title="roboticstoolbox.robot.Link.Link2"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link2</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DHLink</span></code></p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.B">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">B</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.B" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor viscous friction</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.B</span></code> is the motor viscous friction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.B</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor viscous friction</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor viscous friction</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>B</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
<li><p>Viscous friction is the same for positive and negative motion.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.G">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">G</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.G" title="Permalink to this definition"></a></dt>
<dd><p>Get/set gear ratio</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.G</span></code> is the transmission gear ratio</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.G</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the gear ratio</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>gear ratio</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>G</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The ratio of motor motion : link motion</p></li>
<li><p>The gear ratio can be negative, see also the <code class="docutils literal notranslate"><span class="pre">flip</span></code> attribute.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">flip()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.I">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">I</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.I" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link inertia</p>
<p>Link inertia is a symmetric 3x3 matrix describing the inertia with
respect to a frame with its origin at the centre of mass, and with
axes parallel to those of the link frame.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.I</span></code> is the link inertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.I</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link inertia</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link inertia</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>I</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>The inertia matrix is</p>
<p><span class="math notranslate nohighlight">\(\begin{bmatrix} I_{xx} &amp; I_{xy} &amp; I_{xz} \\ I_{xy} &amp; I_{yy} &amp; I_{yz} \\I_{xz} &amp; I_{yz} &amp; I_{zz} \end{bmatrix}\)</span></p>
<p>and can be specified as either:</p>
<ul class="simple">
<li><p>a 3 ⨉ 3 symmetric matrix</p></li>
<li><p>a 3-vector <span class="math notranslate nohighlight">\((I_{xx}, I_{yy}, I_{zz})\)</span></p></li>
<li><p>a 6-vector <span class="math notranslate nohighlight">\((I_{xx}, I_{yy}, I_{zz}, I_{xy}, I_{yz}, I_{xz})\)</span></p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the link side of the gearbox.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.Jm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Jm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.Jm" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor inertia</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.Jm</span></code> is the motor inertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.Jm</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor inertia</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor inertia</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Jm</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.Tc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Tc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.Tc" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor Coulomb friction</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.Tc</span></code> is the motor Coulomb friction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.Tc</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor Coulomb friction. If a
scalar is given the value is set to [T, -T], if a 2-vector it is
assumed to be in the order [Tc⁺, Tc⁻]</p></li>
</ul>
<p>Coulomb friction is a non-linear friction effect defined by two
parameters such that</p>
<div class="math notranslate nohighlight">
\[\begin{split}\tau = \left\{ \begin{array}{ll}
    \tau_C^+ &amp; \mbox{if $\dot{q} &gt; 0$} \\
    \tau_C^- &amp; \mbox{if $\dot{q} &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor Coulomb friction</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tc</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
<li><dl class="simple">
<dt><span class="math notranslate nohighlight">\(\tau_C^+\)</span> must be <span class="math notranslate nohighlight">\(&gt; 0\)</span>, and <span class="math notranslate nohighlight">\(\tau_C^-\)</span> must</dt><dd><p>be <span class="math notranslate nohighlight">\(&lt; 0\)</span>.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.Ts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Ts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.Ts" title="Permalink to this definition"></a></dt>
<dd><p>Constant part of link ETS</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the constant part.  If no constant part
is given, this returns an identity matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>constant part of link transform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Ts</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">Link</span><span class="p">,</span> <span class="n">ET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">(</span> <span class="n">ET</span><span class="o">.</span><span class="n">tz</span><span class="p">(</span><span class="mf">0.333</span><span class="p">)</span> <span class="o">*</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rz</span><span class="p">()</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span><span class="o">.</span><span class="n">Ts</span>
<span class="go">array([[ 1.   ,  0.   ,  0.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  0.   , -1.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  1.   ,  0.   ,  0.333],</span>
<span class="go">       [ 0.   ,  0.   ,  0.   ,  1.   ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">(</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rz</span><span class="p">()</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span><span class="o">.</span><span class="n">Ts</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.__str__" title="Permalink to this definition"></a></dt>
<dd><p>Pretty prints the ETS Model of the link</p>
<p>Will output angles in degrees</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pretty print of the robot link</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.attach">
<span class="sig-name descname"><span class="pre">attach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.attach" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.attach_to">
<span class="sig-name descname"><span class="pre">attach_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.attach_to" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><span class="pre">Link</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.children" title="Permalink to this definition"></a></dt>
<dd><p>List of child links</p>
<p>The list will be empty for a end-effector link</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>child links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>children</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.closest_point">
<span class="sig-name descname"><span class="pre">closest_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inf_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.closest_point" title="Permalink to this definition"></a></dt>
<dd><p>Finds the closest point to a shape</p>
<p>closest_point(shape, inf_dist) returns the minimum euclidean
distance between this link and shape, provided it is less than
inf_dist. It will also return the points on self and shape in the
world frame which connect the line of length distance between the
shapes. If the distance is negative then the shapes are collided.</p>
<p>:param :
:type : param shape: The shape to compare distance to
:param : the shape
:type : param inf_dist: The minimum distance within which to consider
:param :
:type : param skip: Skip setting all shape transforms</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>d</em> – d is the distance between the shapes</p></li>
<li><p><em>p1</em> – the points in the world frame on the link
shape. The points returned are [x, y, z].</p></li>
<li><p><em>p2</em> – the points in the world frame the
shape. The points returned are [x, y, z].</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.collided">
<span class="sig-name descname"><span class="pre">collided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.collided" title="Permalink to this definition"></a></dt>
<dd><p>Checks for collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this link and shape have collided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>) – The shape to compare distance to</p></li>
<li><p><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Skip setting all shape transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if shapes have collided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.collision">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SceneGroup</span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.collision" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint collision geometry</p>
<p>The collision geometries are what is used to check for collisions.</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link.collision</span></code> is the list of the collision geometries which</dt><dd><p>represent the collidable shape of the link.
:return: the collision geometries
:rtype: list of Shape</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.collision</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the collision geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.collision.append(...)</span></code> add collision geometry</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.copy" title="Permalink to this definition"></a></dt>
<dd><p>Copy of link object</p>
<p><code class="docutils literal notranslate"><span class="pre">link.copy()</span></code> is a new Link subclass instance with a copy of all
the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>copy of link object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>link</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.dyn">
<span class="sig-name descname"><span class="pre">dyn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.dyn" title="Permalink to this definition"></a></dt>
<dd><p>Inertial properties of link as a string</p>
<p><code class="docutils literal notranslate"><span class="pre">link.dyn()</span></code> is a string representation the inertial properties of
the link object in a multi-line format. The properties shown are mass,
centre of mass, inertia, friction, gear ratio and motor properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>indent</strong> – indent each line by this many spaces</p>
</dd>
</dl>
<p>:param :
:type : type indent: int
:param :
:type : return: The string representation of the link dynamics
:param :
:type : rtype: string</p>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>        <span class="c1"># kinematic parameters</span>
<span class="go">RevoluteDH:   θ=q,  d=0.15005,  a=0.0203,  ⍺=-1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">dyn</span><span class="p">())</span>  <span class="c1"># dynamic parameters</span>
<span class="go">m     =       4.8 </span>
<span class="go">r     =     -0.02   -0.014     0.07 </span>
<span class="go">        |    0.066        0        0 | </span>
<span class="go">I     = |        0    0.086        0 | </span>
<span class="go">        |        0        0    0.013 | </span>
<span class="go">Jm    =    0.0002 </span>
<span class="go">B     =    0.0014 </span>
<span class="go">Tc    =      0.13(+)     -0.1(-) </span>
<span class="go">G     =       -54 </span>
<span class="go">qlim  =      -2.4 to      2.4</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">dyntable()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.ets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="arm_ets.html#roboticstoolbox.robot.ETS.ETS" title="roboticstoolbox.robot.ETS.ETS"><span class="pre">ETS</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.ets" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link ets</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.ets</span></code> is the link ets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.ets</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link ets</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ets</strong> – the new link ets</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current link ets</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ets</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.friction" title="Permalink to this definition"></a></dt>
<dd><p>Compute joint friction</p>
<p><code class="docutils literal notranslate"><span class="pre">friction(qd)</span></code> is the joint friction force/torque
for joint velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>. The friction model includes:</p>
<ul class="simple">
<li><p>Viscous friction which is a linear function of velocity.</p></li>
<li><p>Coulomb friction which is proportional to sign(qd).</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\tau = G^2 B \dot{q} + |G| \left\{ \begin{array}{ll}
    \tau_C^+ &amp; \mbox{if $\dot{q} &gt; 0$} \\
    \tau_C^- &amp; \mbox{if $\dot{q} &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The joint velocity</p></li>
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – include Coulomb friction</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the friction force/torque</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tau</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The friction value should be added to the motor output torque to</dt><dd><p>determine the nett torque. It has a negative value when qd &gt; 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The returned friction value is referred to the output of the</dt><dd><p>gearbox.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The friction parameters in the Link object are referred to the</dt><dd><p>motor.</p>
</dd>
</dl>
</li>
<li><p>Motor viscous friction is scaled up by <span class="math notranslate nohighlight">\(G^2\)</span>.</p></li>
<li><p>Motor Coulomb friction is scaled up by math:<cite>G</cite>.</p></li>
<li><dl class="simple">
<dt>The appropriate Coulomb friction value to use in the</dt><dd><p>non-symmetric case depends on the sign of the joint velocity,
not the motor velocity.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coulomb friction is zero for zero joint velocity, stiction is</dt><dd><p>not modeled.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used.  Negative gear</dt><dd><p>ratios are tricky: the Puma560 robot has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.geometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geometry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SceneGroup</span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.geometry" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint visual geometry</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link.geometry</span></code> is the list of the visual geometries which</dt><dd><p>represent the shape of the link
:return: the visual geometries
:rtype: list of Shape</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.geometry</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.geometry.append(...)</span></code> add geometry</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.hasdynamics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasdynamics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.hasdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Link has dynamic parameters (Link superclass)</p>
<p>Link has some assigned (non-default) dynamic parameters.  These could
have been assigned:</p>
<ul class="simple">
<li><p>at constructor time, eg. <code class="docutils literal notranslate"><span class="pre">m=1.2</span></code></p></li>
<li><p>by invoking a setter method, eg. <code class="docutils literal notranslate"><span class="pre">link.m</span> <span class="pre">=</span> <span class="pre">1.2</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link has dynamic parameters</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>hasdynamics</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hasdynamics</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.iscollided">
<span class="sig-name descname"><span class="pre">iscollided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.iscollided" title="Permalink to this definition"></a></dt>
<dd><p>Checks for collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this link and shape have collided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>) – The shape to compare distance to</p></li>
<li><p><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Skip setting all shape transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if shapes have collided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.isflip">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isflip</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.isflip" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint flip</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.flip</span></code> is the joint flip status</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.flip</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint flip status</p></li>
</ul>
<p>Joint flip defines the direction of motion of the joint.</p>
<p><code class="docutils literal notranslate"><span class="pre">flip</span> <span class="pre">=</span> <span class="pre">False</span></code> is conventional motion direction:</p>
<blockquote>
<div><ul class="simple">
<li><p>revolute motion is a positive rotation about the z-axis</p></li>
<li><p>prismatic motion is a positive translation along the z-axis</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">flip</span> <span class="pre">=</span> <span class="pre">True</span></code> is the opposite motion direction:</p>
<blockquote>
<div><ul class="simple">
<li><p>revolute motion is a negative rotation about the z-axis</p></li>
<li><p>prismatic motion is a negative translation along the z-axis</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint flip</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isflip</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.isjoint">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isjoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.isjoint" title="Permalink to this definition"></a></dt>
<dd><p>Test if link has joint</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the whether the Link contains the
variable transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>test if link has a joint</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isjoint</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isjoint</span>  <span class="c1"># link with joint</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">isjoint</span>  <span class="c1"># static link</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.islimit">
<span class="sig-name descname"><span class="pre">islimit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.islimit" title="Permalink to this definition"></a></dt>
<dd><p>Checks if joint exceeds limit</p>
<p><code class="docutils literal notranslate"><span class="pre">link.islimit(q)</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q</span></code> exceeds the joint limits defined
by <code class="docutils literal notranslate"><span class="pre">link</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – joint coordinate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if joint is exceeded</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>islimit</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If no limits are set always return False.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.Link.qlim" title="roboticstoolbox.robot.Link.Link.qlim"><code class="xref py py-func docutils literal notranslate"><span class="pre">qlim()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.isprismatic">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isprismatic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.isprismatic" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the joint is of prismatic type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>return: True if is prismatic</em></p></li>
<li><p><em>rtype: bool</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.isrevolute">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isrevolute</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.isrevolute" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the joint is of revolute type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if is revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isrevolute</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.jindex">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jindex</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.jindex" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint index</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.jindex</span></code> is the joint index</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.jindex</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint index</p></li>
</ul>
<p>For a serial-link manipulator the joints are numbered starting at zero
and increasing sequentially toward the end-effector.  For branched
mechanisms this is not so straightforward.
The link’s <code class="docutils literal notranslate"><span class="pre">jindex</span></code> property specifies the index of its joint
variable within a vector of joint coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint index</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>jindex</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">jindex</span></code> values must be a sequence of integers starting</dt><dd><p>at zero.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.m">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">m</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.m" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link mass</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.m</span></code> is the link mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.m</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link mass</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link mass</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>m</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.name" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.name</span></code> is the link name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.nchildren">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nchildren</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.nchildren" title="Permalink to this definition"></a></dt>
<dd><p>Number of child links</p>
<p>Will be zero for an end-effector link</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of child links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nchildren</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.nofriction">
<span class="sig-name descname"><span class="pre">nofriction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viscous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.nofriction" title="Permalink to this definition"></a></dt>
<dd><p>Clone link without friction</p>
<p><code class="docutils literal notranslate"><span class="pre">link.nofriction()</span></code> is a copy of the link instance with the same
parameters except, the Coulomb and/or viscous friction parameters are
set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True, will set the Coulomb friction to 0</p></li>
<li><p><strong>viscous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True, will set the viscous friction to 0</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>For simulation it can be useful to remove Couloumb friction</dt><dd><p>which can cause problems for numerical integration.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.parent" title="Permalink to this definition"></a></dt>
<dd><p>Parent link</p>
<p>This is a reference to the links parent in the kinematic
chain</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link’s parent</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>parent</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>  <span class="c1"># base link has no parent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>  <span class="c1"># second link&#39;s parent</span>
<span class="go">Link(name = &quot;panda_link0&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.parent_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.parent_name" title="Permalink to this definition"></a></dt>
<dd><p>Parent link name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link’s parent name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>parent_name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.qlim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qlim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.qlim" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint limits</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.qlim</span></code> is the joint limits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.qlim</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint limits</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint limits</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qlim</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The limits are not widely enforced within the toolbox.</p></li>
<li><p>If no joint limits are specified the value is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.Link.islimit" title="roboticstoolbox.robot.Link.Link.islimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">islimit()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.r">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">r</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.r" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link centre of mass</p>
<p>The link centre of mass is a 3-vector defined with respect to the link
frame.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.r</span></code> is the link centre of mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.r</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link centre of mass</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link centre of mass</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>r</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.robot">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">robot</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">BaseRobot</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.robot" title="Permalink to this definition"></a></dt>
<dd><p>Get forward reference to the robot which owns this link</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.robot</span></code> is the robot reference</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.robot</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot reference</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The robot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>robot</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.scene_children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.scene_children" title="Permalink to this definition"></a></dt>
<dd><p>Returns the child nodes of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.scene_parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.11)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.scene_parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns the parent node of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.v">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">v</span></span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.v" title="Permalink to this definition"></a></dt>
<dd><p>Variable part of link ETS</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the latter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint variable transform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>v</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link.A">
<span class="sig-name descname"><span class="pre">A</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#Link.A"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.Link.A" title="Permalink to this definition"></a></dt>
<dd><p>Link transform matrix</p>
<p><code class="docutils literal notranslate"><span class="pre">link.A(q)</span></code> is an SE(3) matrix that describes the rigid-body
transformation from the previous to the current link frame to
the next, which depends on the joint coordinate <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Joint coordinate (radians or metres). Not required for links
with no variable</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>link frame transformation matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">roboticstoolbox.robot.Link.</span></span><span class="sig-name descname"><span class="pre">Link2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jindex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#Link2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#roboticstoolbox.robot.Link.BaseLink" title="roboticstoolbox.robot.Link.BaseLink"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLink</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.B">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">B</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.B" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor viscous friction</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.B</span></code> is the motor viscous friction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.B</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor viscous friction</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor viscous friction</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>B</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
<li><p>Viscous friction is the same for positive and negative motion.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.G">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">G</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.G" title="Permalink to this definition"></a></dt>
<dd><p>Get/set gear ratio</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.G</span></code> is the transmission gear ratio</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.G</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the gear ratio</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>gear ratio</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>G</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The ratio of motor motion : link motion</p></li>
<li><p>The gear ratio can be negative, see also the <code class="docutils literal notranslate"><span class="pre">flip</span></code> attribute.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">flip()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.I">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">I</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.I" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link inertia</p>
<p>Link inertia is a symmetric 3x3 matrix describing the inertia with
respect to a frame with its origin at the centre of mass, and with
axes parallel to those of the link frame.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.I</span></code> is the link inertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.I</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link inertia</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link inertia</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>I</p>
</dd>
</dl>
<p class="rubric">Synopsis</p>
<p>The inertia matrix is</p>
<p><span class="math notranslate nohighlight">\(\begin{bmatrix} I_{xx} &amp; I_{xy} &amp; I_{xz} \\ I_{xy} &amp; I_{yy} &amp; I_{yz} \\I_{xz} &amp; I_{yz} &amp; I_{zz} \end{bmatrix}\)</span></p>
<p>and can be specified as either:</p>
<ul class="simple">
<li><p>a 3 ⨉ 3 symmetric matrix</p></li>
<li><p>a 3-vector <span class="math notranslate nohighlight">\((I_{xx}, I_{yy}, I_{zz})\)</span></p></li>
<li><p>a 6-vector <span class="math notranslate nohighlight">\((I_{xx}, I_{yy}, I_{zz}, I_{xy}, I_{yz}, I_{xz})\)</span></p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the link side of the gearbox.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.Jm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Jm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.Jm" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor inertia</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.Jm</span></code> is the motor inertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.Jm</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor inertia</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor inertia</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Jm</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.Tc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Tc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.Tc" title="Permalink to this definition"></a></dt>
<dd><p>Get/set motor Coulomb friction</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.Tc</span></code> is the motor Coulomb friction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.Tc</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the motor Coulomb friction. If a
scalar is given the value is set to [T, -T], if a 2-vector it is
assumed to be in the order [Tc⁺, Tc⁻]</p></li>
</ul>
<p>Coulomb friction is a non-linear friction effect defined by two
parameters such that</p>
<div class="math notranslate nohighlight">
\[\begin{split}\tau = \left\{ \begin{array}{ll}
    \tau_C^+ &amp; \mbox{if $\dot{q} &gt; 0$} \\
    \tau_C^- &amp; \mbox{if $\dot{q} &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>motor Coulomb friction</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tc</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Referred to the motor side of the gearbox.</p></li>
<li><dl class="simple">
<dt><span class="math notranslate nohighlight">\(\tau_C^+\)</span> must be <span class="math notranslate nohighlight">\(&gt; 0\)</span>, and <span class="math notranslate nohighlight">\(\tau_C^-\)</span> must</dt><dd><p>be <span class="math notranslate nohighlight">\(&lt; 0\)</span>.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.Ts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Ts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.Ts" title="Permalink to this definition"></a></dt>
<dd><p>Constant part of link ETS</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the constant part.  If no constant part
is given, this returns an identity matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>constant part of link transform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Ts</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">Link</span><span class="p">,</span> <span class="n">ET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">(</span> <span class="n">ET</span><span class="o">.</span><span class="n">tz</span><span class="p">(</span><span class="mf">0.333</span><span class="p">)</span> <span class="o">*</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rz</span><span class="p">()</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span><span class="o">.</span><span class="n">Ts</span>
<span class="go">array([[ 1.   ,  0.   ,  0.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  0.   , -1.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  1.   ,  0.   ,  0.333],</span>
<span class="go">       [ 0.   ,  0.   ,  0.   ,  1.   ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">(</span> <span class="n">ET</span><span class="o">.</span><span class="n">Rz</span><span class="p">()</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link</span><span class="o">.</span><span class="n">Ts</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.__str__" title="Permalink to this definition"></a></dt>
<dd><p>Pretty prints the ETS Model of the link</p>
<p>Will output angles in degrees</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pretty print of the robot link</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.attach">
<span class="sig-name descname"><span class="pre">attach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.attach" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.attach_to">
<span class="sig-name descname"><span class="pre">attach_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.attach_to" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#roboticstoolbox.robot.Link.Link" title="roboticstoolbox.robot.Link.Link"><span class="pre">Link</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.children" title="Permalink to this definition"></a></dt>
<dd><p>List of child links</p>
<p>The list will be empty for a end-effector link</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>child links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>children</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.closest_point">
<span class="sig-name descname"><span class="pre">closest_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inf_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.closest_point" title="Permalink to this definition"></a></dt>
<dd><p>Finds the closest point to a shape</p>
<p>closest_point(shape, inf_dist) returns the minimum euclidean
distance between this link and shape, provided it is less than
inf_dist. It will also return the points on self and shape in the
world frame which connect the line of length distance between the
shapes. If the distance is negative then the shapes are collided.</p>
<p>:param :
:type : param shape: The shape to compare distance to
:param : the shape
:type : param inf_dist: The minimum distance within which to consider
:param :
:type : param skip: Skip setting all shape transforms</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>d</em> – d is the distance between the shapes</p></li>
<li><p><em>p1</em> – the points in the world frame on the link
shape. The points returned are [x, y, z].</p></li>
<li><p><em>p2</em> – the points in the world frame the
shape. The points returned are [x, y, z].</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.collided">
<span class="sig-name descname"><span class="pre">collided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.collided" title="Permalink to this definition"></a></dt>
<dd><p>Checks for collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this link and shape have collided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>) – The shape to compare distance to</p></li>
<li><p><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Skip setting all shape transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if shapes have collided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.collision">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SceneGroup</span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.collision" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint collision geometry</p>
<p>The collision geometries are what is used to check for collisions.</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link.collision</span></code> is the list of the collision geometries which</dt><dd><p>represent the collidable shape of the link.
:return: the collision geometries
:rtype: list of Shape</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.collision</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the collision geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.collision.append(...)</span></code> add collision geometry</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.copy" title="Permalink to this definition"></a></dt>
<dd><p>Copy of link object</p>
<p><code class="docutils literal notranslate"><span class="pre">link.copy()</span></code> is a new Link subclass instance with a copy of all
the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>copy of link object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>link</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.dyn">
<span class="sig-name descname"><span class="pre">dyn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.dyn" title="Permalink to this definition"></a></dt>
<dd><p>Inertial properties of link as a string</p>
<p><code class="docutils literal notranslate"><span class="pre">link.dyn()</span></code> is a string representation the inertial properties of
the link object in a multi-line format. The properties shown are mass,
centre of mass, inertia, friction, gear ratio and motor properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>indent</strong> – indent each line by this many spaces</p>
</dd>
</dl>
<p>:param :
:type : type indent: int
:param :
:type : return: The string representation of the link dynamics
:param :
:type : rtype: string</p>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>        <span class="c1"># kinematic parameters</span>
<span class="go">RevoluteDH:   θ=q,  d=0.15005,  a=0.0203,  ⍺=-1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">dyn</span><span class="p">())</span>  <span class="c1"># dynamic parameters</span>
<span class="go">m     =       4.8 </span>
<span class="go">r     =     -0.02   -0.014     0.07 </span>
<span class="go">        |    0.066        0        0 | </span>
<span class="go">I     = |        0    0.086        0 | </span>
<span class="go">        |        0        0    0.013 | </span>
<span class="go">Jm    =    0.0002 </span>
<span class="go">B     =    0.0014 </span>
<span class="go">Tc    =      0.13(+)     -0.1(-) </span>
<span class="go">G     =       -54 </span>
<span class="go">qlim  =      -2.4 to      2.4</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">dyntable()</span></code></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.ets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="arm_ets.html#roboticstoolbox.robot.ETS.ETS" title="roboticstoolbox.robot.ETS.ETS"><span class="pre">ETS</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.ets" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link ets</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.ets</span></code> is the link ets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.ets</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link ets</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ets</strong> – the new link ets</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the current link ets</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ets</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.friction" title="Permalink to this definition"></a></dt>
<dd><p>Compute joint friction</p>
<p><code class="docutils literal notranslate"><span class="pre">friction(qd)</span></code> is the joint friction force/torque
for joint velocity <code class="docutils literal notranslate"><span class="pre">qd</span></code>. The friction model includes:</p>
<ul class="simple">
<li><p>Viscous friction which is a linear function of velocity.</p></li>
<li><p>Coulomb friction which is proportional to sign(qd).</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\tau = G^2 B \dot{q} + |G| \left\{ \begin{array}{ll}
    \tau_C^+ &amp; \mbox{if $\dot{q} &gt; 0$} \\
    \tau_C^- &amp; \mbox{if $\dot{q} &lt; 0$} \end{array} \right.\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – The joint velocity</p></li>
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – include Coulomb friction</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the friction force/torque</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tau</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The friction value should be added to the motor output torque to</dt><dd><p>determine the nett torque. It has a negative value when qd &gt; 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The returned friction value is referred to the output of the</dt><dd><p>gearbox.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The friction parameters in the Link object are referred to the</dt><dd><p>motor.</p>
</dd>
</dl>
</li>
<li><p>Motor viscous friction is scaled up by <span class="math notranslate nohighlight">\(G^2\)</span>.</p></li>
<li><p>Motor Coulomb friction is scaled up by math:<cite>G</cite>.</p></li>
<li><dl class="simple">
<dt>The appropriate Coulomb friction value to use in the</dt><dd><p>non-symmetric case depends on the sign of the joint velocity,
not the motor velocity.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coulomb friction is zero for zero joint velocity, stiction is</dt><dd><p>not modeled.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The absolute value of the gear ratio is used.  Negative gear</dt><dd><p>ratios are tricky: the Puma560 robot has negative gear ratio for
joints 1 and 3.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.geometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geometry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SceneGroup</span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.geometry" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint visual geometry</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link.geometry</span></code> is the list of the visual geometries which</dt><dd><p>represent the shape of the link
:return: the visual geometries
:rtype: list of Shape</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.geometry</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.geometry.append(...)</span></code> add geometry</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.hasdynamics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hasdynamics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.hasdynamics" title="Permalink to this definition"></a></dt>
<dd><p>Link has dynamic parameters (Link superclass)</p>
<p>Link has some assigned (non-default) dynamic parameters.  These could
have been assigned:</p>
<ul class="simple">
<li><p>at constructor time, eg. <code class="docutils literal notranslate"><span class="pre">m=1.2</span></code></p></li>
<li><p>by invoking a setter method, eg. <code class="docutils literal notranslate"><span class="pre">link.m</span> <span class="pre">=</span> <span class="pre">1.2</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link has dynamic parameters</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>hasdynamics</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">roboticstoolbox</span> <span class="k">as</span> <span class="nn">rtb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">rtb</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DH</span><span class="o">.</span><span class="n">Puma560</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hasdynamics</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.iscollided">
<span class="sig-name descname"><span class="pre">iscollided</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.iscollided" title="Permalink to this definition"></a></dt>
<dd><p>Checks for collision with a shape</p>
<p><code class="docutils literal notranslate"><span class="pre">iscollided(shape)</span></code> checks if this link and shape have collided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code>) – The shape to compare distance to</p></li>
<li><p><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Skip setting all shape transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if shapes have collided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iscollided</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.isflip">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isflip</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.isflip" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint flip</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.flip</span></code> is the joint flip status</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.flip</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint flip status</p></li>
</ul>
<p>Joint flip defines the direction of motion of the joint.</p>
<p><code class="docutils literal notranslate"><span class="pre">flip</span> <span class="pre">=</span> <span class="pre">False</span></code> is conventional motion direction:</p>
<blockquote>
<div><ul class="simple">
<li><p>revolute motion is a positive rotation about the z-axis</p></li>
<li><p>prismatic motion is a positive translation along the z-axis</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">flip</span> <span class="pre">=</span> <span class="pre">True</span></code> is the opposite motion direction:</p>
<blockquote>
<div><ul class="simple">
<li><p>revolute motion is a negative rotation about the z-axis</p></li>
<li><p>prismatic motion is a negative translation along the z-axis</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint flip</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isflip</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.isjoint">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isjoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.isjoint" title="Permalink to this definition"></a></dt>
<dd><p>Test if link has joint</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the whether the Link contains the
variable transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>test if link has a joint</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isjoint</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isjoint</span>  <span class="c1"># link with joint</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">isjoint</span>  <span class="c1"># static link</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.islimit">
<span class="sig-name descname"><span class="pre">islimit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.islimit" title="Permalink to this definition"></a></dt>
<dd><p>Checks if joint exceeds limit</p>
<p><code class="docutils literal notranslate"><span class="pre">link.islimit(q)</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q</span></code> exceeds the joint limits defined
by <code class="docutils literal notranslate"><span class="pre">link</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – joint coordinate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if joint is exceeded</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>islimit</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If no limits are set always return False.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.Link2.qlim" title="roboticstoolbox.robot.Link.Link2.qlim"><code class="xref py py-func docutils literal notranslate"><span class="pre">qlim()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.isprismatic">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isprismatic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.isprismatic" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the joint is of prismatic type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>return: True if is prismatic</em></p></li>
<li><p><em>rtype: bool</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.isrevolute">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isrevolute</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.isrevolute" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the joint is of revolute type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if is revolute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>isrevolute</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.jindex">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jindex</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.jindex" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint index</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.jindex</span></code> is the joint index</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.jindex</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint index</p></li>
</ul>
<p>For a serial-link manipulator the joints are numbered starting at zero
and increasing sequentially toward the end-effector.  For branched
mechanisms this is not so straightforward.
The link’s <code class="docutils literal notranslate"><span class="pre">jindex</span></code> property specifies the index of its joint
variable within a vector of joint coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint index</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>jindex</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">jindex</span></code> values must be a sequence of integers starting</dt><dd><p>at zero.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.m">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">m</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.m" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link mass</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.m</span></code> is the link mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.m</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link mass</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link mass</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>m</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.name" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link name</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.name</span></code> is the link name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.name</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link name</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.nchildren">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nchildren</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.nchildren" title="Permalink to this definition"></a></dt>
<dd><p>Number of child links</p>
<p>Will be zero for an end-effector link</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of child links</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nchildren</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.nofriction">
<span class="sig-name descname"><span class="pre">nofriction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coulomb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viscous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.nofriction" title="Permalink to this definition"></a></dt>
<dd><p>Clone link without friction</p>
<p><code class="docutils literal notranslate"><span class="pre">link.nofriction()</span></code> is a copy of the link instance with the same
parameters except, the Coulomb and/or viscous friction parameters are
set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coulomb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True, will set the Coulomb friction to 0</p></li>
<li><p><strong>viscous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True, will set the viscous friction to 0</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>For simulation it can be useful to remove Couloumb friction</dt><dd><p>which can cause problems for numerical integration.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.parent" title="Permalink to this definition"></a></dt>
<dd><p>Parent link</p>
<p>This is a reference to the links parent in the kinematic
chain</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link’s parent</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>parent</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">roboticstoolbox</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URDF</span><span class="o">.</span><span class="n">Panda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>  <span class="c1"># base link has no parent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>  <span class="c1"># second link&#39;s parent</span>
<span class="go">Link(name = &quot;panda_link0&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.parent_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.parent_name" title="Permalink to this definition"></a></dt>
<dd><p>Parent link name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link’s parent name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>parent_name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.qlim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qlim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.qlim" title="Permalink to this definition"></a></dt>
<dd><p>Get/set joint limits</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.qlim</span></code> is the joint limits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.qlim</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the joint limits</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint limits</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qlim</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The limits are not widely enforced within the toolbox.</p></li>
<li><p>If no joint limits are specified the value is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roboticstoolbox.robot.Link.Link2.islimit" title="roboticstoolbox.robot.Link.Link2.islimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">islimit()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.r">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">r</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.r" title="Permalink to this definition"></a></dt>
<dd><p>Get/set link centre of mass</p>
<p>The link centre of mass is a 3-vector defined with respect to the link
frame.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.r</span></code> is the link centre of mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.r</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the link centre of mass</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>link centre of mass</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>r</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.robot">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">robot</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">BaseRobot</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.robot" title="Permalink to this definition"></a></dt>
<dd><p>Get forward reference to the robot which owns this link</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link.robot</span></code> is the robot reference</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link.robot</span> <span class="pre">=</span> <span class="pre">...</span></code> checks and sets the robot reference</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The robot object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>robot</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.scene_children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.scene_children" title="Permalink to this definition"></a></dt>
<dd><p>Returns the child nodes of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.scene_parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scene_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.11)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">SceneNode</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.scene_parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns the parent node of this object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.v">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">v</span></span><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.v" title="Permalink to this definition"></a></dt>
<dd><p>Variable part of link ETS</p>
<p>The ETS for each Link comprises a constant part (possible the
identity) followed by an optional joint variable transform.
This property returns the latter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>joint variable transform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>v</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="roboticstoolbox.robot.Link.Link2.A">
<span class="sig-name descname"><span class="pre">A</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboticstoolbox/robot/Link.html#Link2.A"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#roboticstoolbox.robot.Link.Link2.A" title="Permalink to this definition"></a></dt>
<dd><p>Link transform matrix</p>
<p><code class="docutils literal notranslate"><span class="pre">link.A(q)</span></code> is an SE(2) matrix that describes the rigid-body
transformation from the previous to the current link frame to
the next, which depends on the joint coordinate <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Joint coordinate (radians or metres). Not required for links
with no variable</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>link frame transformation matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Jesse Haviland and Peter Corke.
      <span class="lastupdated">Last updated on 15-May-2023.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-11Q6WJM565"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-11Q6WJM565', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>